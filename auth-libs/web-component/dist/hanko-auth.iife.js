var HankoAuth=function(ce){"use strict";/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Di;const Kt=globalThis,En=Kt.ShadowRoot&&(Kt.ShadyCSS===void 0||Kt.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,In=Symbol(),ko=new WeakMap;let wo=class{constructor(e,t,n){if(this._$cssResult$=!0,n!==In)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(En&&e===void 0){const n=t!==void 0&&t.length===1;n&&(e=ko.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&ko.set(t,e))}return e}toString(){return this.cssText}};const Mi=o=>new wo(typeof o=="string"?o:o+"",void 0,In),Ni=(o,...e)=>{const t=o.length===1?o[0]:e.reduce((n,i,s)=>n+(a=>{if(a._$cssResult$===!0)return a.cssText;if(typeof a=="number")return a;throw Error("Value passed to 'css' function must be a 'css' function result: "+a+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+o[s+1],o[0]);return new wo(t,o,In)},Ui=(o,e)=>{if(En)o.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet);else for(const t of e){const n=document.createElement("style"),i=Kt.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=t.cssText,o.appendChild(n)}},So=En?o=>o:o=>o instanceof CSSStyleSheet?(e=>{let t="";for(const n of e.cssRules)t+=n.cssText;return Mi(t)})(o):o;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Hi,defineProperty:Ri,getOwnPropertyDescriptor:qi,getOwnPropertyNames:Wi,getOwnPropertySymbols:zi,getPrototypeOf:Fi}=Object,st=globalThis,xo=st.trustedTypes,Ki=xo?xo.emptyScript:"",jn=st.reactiveElementPolyfillSupport,yt=(o,e)=>o,Bt={toAttribute(o,e){switch(e){case Boolean:o=o?Ki:null;break;case Object:case Array:o=o==null?o:JSON.stringify(o)}return o},fromAttribute(o,e){let t=o;switch(e){case Boolean:t=o!==null;break;case Number:t=o===null?null:Number(o);break;case Object:case Array:try{t=JSON.parse(o)}catch{t=null}}return t}},$n=(o,e)=>!Hi(o,e),Co={attribute:!0,type:String,converter:Bt,reflect:!1,useDefault:!1,hasChanged:$n};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),st.litPropertyMetadata??(st.litPropertyMetadata=new WeakMap);let pt=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=Co){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(e,n,t);i!==void 0&&Ri(this.prototype,e,i)}}static getPropertyDescriptor(e,t,n){const{get:i,set:s}=qi(this.prototype,e)??{get(){return this[t]},set(a){this[t]=a}};return{get:i,set(a){const d=i==null?void 0:i.call(this);s==null||s.call(this,a),this.requestUpdate(e,d,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??Co}static _$Ei(){if(this.hasOwnProperty(yt("elementProperties")))return;const e=Fi(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(yt("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(yt("properties"))){const t=this.properties,n=[...Wi(t),...zi(t)];for(const i of n)this.createProperty(i,t[i])}const e=this[Symbol.metadata];if(e!==null){const t=litPropertyMetadata.get(e);if(t!==void 0)for(const[n,i]of t)this.elementProperties.set(n,i)}this._$Eh=new Map;for(const[t,n]of this.elementProperties){const i=this._$Eu(t,n);i!==void 0&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const i of n)t.unshift(So(i))}else e!==void 0&&t.push(So(e));return t}static _$Eu(e,t){const n=t.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(t=>t(this))}addController(e){var t;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((t=e.hostConnected)==null||t.call(e))}removeController(e){var t;(t=this._$EO)==null||t.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const n of t.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Ui(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(t=>{var n;return(n=t.hostConnected)==null?void 0:n.call(t)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(t=>{var n;return(n=t.hostDisconnected)==null?void 0:n.call(t)})}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$ET(e,t){var s;const n=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,n);if(i!==void 0&&n.reflect===!0){const a=(((s=n.converter)==null?void 0:s.toAttribute)!==void 0?n.converter:Bt).toAttribute(t,n.type);this._$Em=e,a==null?this.removeAttribute(i):this.setAttribute(i,a),this._$Em=null}}_$AK(e,t){var s,a;const n=this.constructor,i=n._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const d=n.getPropertyOptions(i),c=typeof d.converter=="function"?{fromAttribute:d.converter}:((s=d.converter)==null?void 0:s.fromAttribute)!==void 0?d.converter:Bt;this._$Em=i;const l=c.fromAttribute(t,d.type);this[i]=l??((a=this._$Ej)==null?void 0:a.get(i))??l,this._$Em=null}}requestUpdate(e,t,n,i=!1,s){var a;if(e!==void 0){const d=this.constructor;if(i===!1&&(s=this[e]),n??(n=d.getPropertyOptions(e)),!((n.hasChanged??$n)(s,t)||n.useDefault&&n.reflect&&s===((a=this._$Ej)==null?void 0:a.get(e))&&!this.hasAttribute(d._$Eu(e,n))))return;this.C(e,t,n)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,t,{useDefault:n,reflect:i,wrapped:s},a){n&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,a??t??this[e]),s!==!0||a!==void 0)||(this._$AL.has(e)||(this.hasUpdated||n||(t=void 0),this._$AL.set(e,t)),i===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var n;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,a]of this._$Ep)this[s]=a;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,a]of i){const{wrapped:d}=a,c=this[s];d!==!0||this._$AL.has(s)||c===void 0||this.C(s,void 0,a,c)}}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),(n=this._$EO)==null||n.forEach(i=>{var s;return(s=i.hostUpdate)==null?void 0:s.call(i)}),this.update(t)):this._$EM()}catch(i){throw e=!1,this._$EM(),i}e&&this._$AE(t)}willUpdate(e){}_$AE(e){var t;(t=this._$EO)==null||t.forEach(n=>{var i;return(i=n.hostUpdated)==null?void 0:i.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(t=>this._$ET(t,this[t]))),this._$EM()}updated(e){}firstUpdated(e){}};pt.elementStyles=[],pt.shadowRootOptions={mode:"open"},pt[yt("elementProperties")]=new Map,pt[yt("finalized")]=new Map,jn==null||jn({ReactiveElement:pt}),(st.reactiveElementVersions??(st.reactiveElementVersions=[])).push("2.1.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const bt=globalThis,Ao=o=>o,Vt=bt.trustedTypes,Oo=Vt?Vt.createPolicy("lit-html",{createHTML:o=>o}):void 0,Po="$lit$",rt=`lit$${Math.random().toFixed(9).slice(2)}$`,Eo="?"+rt,Bi=`<${Eo}>`,ct=document,kt=()=>ct.createComment(""),wt=o=>o===null||typeof o!="object"&&typeof o!="function",Dn=Array.isArray,Vi=o=>Dn(o)||typeof(o==null?void 0:o[Symbol.iterator])=="function",Ln=`[ 	
\f\r]`,St=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Io=/-->/g,jo=/>/g,dt=RegExp(`>|${Ln}(?:([^\\s"'>=/]+)(${Ln}*=${Ln}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),$o=/'/g,Do=/"/g,Lo=/^(?:script|style|textarea|title)$/i,Zi=o=>(e,...t)=>({_$litType$:o,strings:e,values:t}),He=Zi(1),ft=Symbol.for("lit-noChange"),De=Symbol.for("lit-nothing"),To=new WeakMap,ut=ct.createTreeWalker(ct,129);function Mo(o,e){if(!Dn(o)||!o.hasOwnProperty("raw"))throw Error("invalid template strings array");return Oo!==void 0?Oo.createHTML(e):e}const Ji=(o,e)=>{const t=o.length-1,n=[];let i,s=e===2?"<svg>":e===3?"<math>":"",a=St;for(let d=0;d<t;d++){const c=o[d];let l,u,h=-1,g=0;for(;g<c.length&&(a.lastIndex=g,u=a.exec(c),u!==null);)g=a.lastIndex,a===St?u[1]==="!--"?a=Io:u[1]!==void 0?a=jo:u[2]!==void 0?(Lo.test(u[2])&&(i=RegExp("</"+u[2],"g")),a=dt):u[3]!==void 0&&(a=dt):a===dt?u[0]===">"?(a=i??St,h=-1):u[1]===void 0?h=-2:(h=a.lastIndex-u[2].length,l=u[1],a=u[3]===void 0?dt:u[3]==='"'?Do:$o):a===Do||a===$o?a=dt:a===Io||a===jo?a=St:(a=dt,i=void 0);const f=a===dt&&o[d+1].startsWith("/>")?" ":"";s+=a===St?c+Bi:h>=0?(n.push(l),c.slice(0,h)+Po+c.slice(h)+rt+f):c+rt+(h===-2?d:f)}return[Mo(o,s+(o[t]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),n]};let Tn=class Li{constructor({strings:e,_$litType$:t},n){let i;this.parts=[];let s=0,a=0;const d=e.length-1,c=this.parts,[l,u]=Ji(e,t);if(this.el=Li.createElement(l,n),ut.currentNode=this.el.content,t===2||t===3){const h=this.el.content.firstChild;h.replaceWith(...h.childNodes)}for(;(i=ut.nextNode())!==null&&c.length<d;){if(i.nodeType===1){if(i.hasAttributes())for(const h of i.getAttributeNames())if(h.endsWith(Po)){const g=u[a++],f=i.getAttribute(h).split(rt),x=/([.?@])?(.*)/.exec(g);c.push({type:1,index:s,name:x[2],strings:f,ctor:x[1]==="."?Gi:x[1]==="?"?Yi:x[1]==="@"?Xi:Zt}),i.removeAttribute(h)}else h.startsWith(rt)&&(c.push({type:6,index:s}),i.removeAttribute(h));if(Lo.test(i.tagName)){const h=i.textContent.split(rt),g=h.length-1;if(g>0){i.textContent=Vt?Vt.emptyScript:"";for(let f=0;f<g;f++)i.append(h[f],kt()),ut.nextNode(),c.push({type:2,index:++s});i.append(h[g],kt())}}}else if(i.nodeType===8)if(i.data===Eo)c.push({type:2,index:s});else{let h=-1;for(;(h=i.data.indexOf(rt,h+1))!==-1;)c.push({type:7,index:s}),h+=rt.length-1}s++}}static createElement(e,t){const n=ct.createElement("template");return n.innerHTML=e,n}};function mt(o,e,t=o,n){var a,d;if(e===ft)return e;let i=n!==void 0?(a=t._$Co)==null?void 0:a[n]:t._$Cl;const s=wt(e)?void 0:e._$litDirective$;return(i==null?void 0:i.constructor)!==s&&((d=i==null?void 0:i._$AO)==null||d.call(i,!1),s===void 0?i=void 0:(i=new s(o),i._$AT(o,t,n)),n!==void 0?(t._$Co??(t._$Co=[]))[n]=i:t._$Cl=i),i!==void 0&&(e=mt(o,i._$AS(o,e.values),i,n)),e}let Qi=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:n}=this._$AD,i=((e==null?void 0:e.creationScope)??ct).importNode(t,!0);ut.currentNode=i;let s=ut.nextNode(),a=0,d=0,c=n[0];for(;c!==void 0;){if(a===c.index){let l;c.type===2?l=new Mn(s,s.nextSibling,this,e):c.type===1?l=new c.ctor(s,c.name,c.strings,this,e):c.type===6&&(l=new es(s,this,e)),this._$AV.push(l),c=n[++d]}a!==(c==null?void 0:c.index)&&(s=ut.nextNode(),a++)}return ut.currentNode=ct,i}p(e){let t=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}},Mn=class Ti{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,t,n,i){this.type=2,this._$AH=De,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=mt(this,e,t),wt(e)?e===De||e==null||e===""?(this._$AH!==De&&this._$AR(),this._$AH=De):e!==this._$AH&&e!==ft&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Vi(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==De&&wt(this._$AH)?this._$AA.nextSibling.data=e:this.T(ct.createTextNode(e)),this._$AH=e}$(e){var s;const{values:t,_$litType$:n}=e,i=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=Tn.createElement(Mo(n.h,n.h[0]),this.options)),n);if(((s=this._$AH)==null?void 0:s._$AD)===i)this._$AH.p(t);else{const a=new Qi(i,this),d=a.u(this.options);a.p(t),this.T(d),this._$AH=a}}_$AC(e){let t=To.get(e.strings);return t===void 0&&To.set(e.strings,t=new Tn(e)),t}k(e){Dn(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,i=0;for(const s of e)i===t.length?t.push(n=new Ti(this.O(kt()),this.O(kt()),this,this.options)):n=t[i],n._$AI(s),i++;i<t.length&&(this._$AR(n&&n._$AB.nextSibling,i),t.length=i)}_$AR(e=this._$AA.nextSibling,t){var n;for((n=this._$AP)==null?void 0:n.call(this,!1,!0,t);e!==this._$AB;){const i=Ao(e).nextSibling;Ao(e).remove(),e=i}}setConnected(e){var t;this._$AM===void 0&&(this._$Cv=e,(t=this._$AP)==null||t.call(this,e))}},Zt=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,n,i,s){this.type=1,this._$AH=De,this._$AN=void 0,this.element=e,this.name=t,this._$AM=i,this.options=s,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=De}_$AI(e,t=this,n,i){const s=this.strings;let a=!1;if(s===void 0)e=mt(this,e,t,0),a=!wt(e)||e!==this._$AH&&e!==ft,a&&(this._$AH=e);else{const d=e;let c,l;for(e=s[0],c=0;c<s.length-1;c++)l=mt(this,d[n+c],t,c),l===ft&&(l=this._$AH[c]),a||(a=!wt(l)||l!==this._$AH[c]),l===De?e=De:e!==De&&(e+=(l??"")+s[c+1]),this._$AH[c]=l}a&&!i&&this.j(e)}j(e){e===De?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},Gi=class extends Zt{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===De?void 0:e}},Yi=class extends Zt{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==De)}},Xi=class extends Zt{constructor(e,t,n,i,s){super(e,t,n,i,s),this.type=5}_$AI(e,t=this){if((e=mt(this,e,t,0)??De)===ft)return;const n=this._$AH,i=e===De&&n!==De||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,s=e!==De&&(n===De||i);i&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t;typeof this._$AH=="function"?this._$AH.call(((t=this.options)==null?void 0:t.host)??this.element,e):this._$AH.handleEvent(e)}},es=class{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){mt(this,e)}};const Nn=bt.litHtmlPolyfillSupport;Nn==null||Nn(Tn,Mn),(bt.litHtmlVersions??(bt.litHtmlVersions=[])).push("3.3.2");const ts=(o,e,t)=>{const n=(t==null?void 0:t.renderBefore)??e;let i=n._$litPart$;if(i===void 0){const s=(t==null?void 0:t.renderBefore)??null;n._$litPart$=i=new Mn(e.insertBefore(kt(),s),s,void 0,t??{})}return i._$AI(o),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ht=globalThis;let xt=class extends pt{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t;const e=super.createRenderRoot();return(t=this.renderOptions).renderBefore??(t.renderBefore=e.firstChild),e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=ts(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return ft}};xt._$litElement$=!0,xt.finalized=!0,(Di=ht.litElementHydrateSupport)==null||Di.call(ht,{LitElement:xt});const Un=ht.litElementPolyfillSupport;Un==null||Un({LitElement:xt}),(ht.litElementVersions??(ht.litElementVersions=[])).push("4.2.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ns=o=>(e,t)=>{t!==void 0?t.addInitializer(()=>{customElements.define(o,e)}):customElements.define(o,e)};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const os={attribute:!0,type:String,converter:Bt,reflect:!1,hasChanged:$n},is=(o=os,e,t)=>{const{kind:n,metadata:i}=t;let s=globalThis.litPropertyMetadata.get(i);if(s===void 0&&globalThis.litPropertyMetadata.set(i,s=new Map),n==="setter"&&((o=Object.create(o)).wrapped=!0),s.set(t.name,o),n==="accessor"){const{name:a}=t;return{set(d){const c=e.get.call(this);e.set.call(this,d),this.requestUpdate(a,c,o,!0,d)},init(d){return d!==void 0&&this.C(a,void 0,o,d),d}}}if(n==="setter"){const{name:a}=t;return function(d){const c=this[a];e.call(this,d),this.requestUpdate(a,c,o,!0,d)}}throw Error("Unsupported decorator location: "+n)};function Re(o){return(e,t)=>typeof t=="object"?is(o,e,t):((n,i,s)=>{const a=i.hasOwnProperty(s);return i.constructor.createProperty(s,n),a?Object.getOwnPropertyDescriptor(i,s):void 0})(o,e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function ot(o){return Re({...o,state:!0,attribute:!1})}/*! For license information please see elements.js.LICENSE.txt */var ss={7:function(o,e,t){(function(n,i,s){var a=function(){return a=Object.assign||function(x){for(var O,C=1,S=arguments.length;C<S;C++)for(var P in O=arguments[C])Object.prototype.hasOwnProperty.call(O,P)&&(x[P]=O[P]);return x},a.apply(this,arguments)};function d(x,O){var C=typeof Symbol=="function"&&x[Symbol.iterator];if(!C)return x;var S,P,$=C.call(x),M=[];try{for(;(O===void 0||O-- >0)&&!(S=$.next()).done;)M.push(S.value)}catch(N){P={error:N}}finally{try{S&&!S.done&&(C=$.return)&&C.call($)}finally{if(P)throw P.error}}return M}function c(x,O){return[x,!x||x.endsWith("/")?"":"/",O,".json"].join("")}function l(x,O){var C=x;return O&&Object.keys(O).forEach(function(S){var P=O[S],$=new RegExp("{".concat(S,"}"),"gm");C=C.replace($,P.toString())}),C}function u(x,O,C){var S=x[O];if(!S)return C;var P=C.split("."),$="";do{var M=S[$+=P.shift()];M===void 0||typeof M!="object"&&P.length?P.length?$+=".":S=C:(S=M,$="")}while(P.length);return S}var h={},g={root:"",lang:"en",fallbackLang:"en"},f=i.createContext(null);n.TranslateContext=f,n.TranslateProvider=function(x){var O=function(M,N){M=Object.assign({},g,M),h=N||h;var ie=d(s.useState(M.lang),2),be=ie[0],re=ie[1],xe=d(s.useState(h),2),U=xe[0],W=xe[1],_e=d(s.useState(!1),2),Me=_e[0],je=_e[1],Ne=function(ae){if(!U.hasOwnProperty(ae)){je(!1);var le=c(M.root,ae);fetch(le).then(function(pe){return pe.json()}).then(function(pe){h[ae]=pe,W(a({},h)),je(!0)}).catch(function(pe){console.log("Aww, snap.",pe),W(a({},h)),je(!0)})}};return s.useEffect(function(){Ne(M.fallbackLang),Ne(be)},[be]),{lang:be,setLang:re,t:function(ae,le){if(!U.hasOwnProperty(be))return ae;var pe=u(U,be,ae);return pe===ae&&be!==M.fallbackLang&&(pe=u(U,M.fallbackLang,ae)),l(pe,le)},isReady:Me}}({root:x.root||"assets",lang:x.lang||"en",fallbackLang:x.fallbackLang||"en"},x.translations),C=O.t,S=O.setLang,P=O.lang,$=O.isReady;return i.h(f.Provider,{value:{t:C,setLang:S,lang:P,isReady:$}},x.children)},n.format=l,n.getResourceUrl=c,n.getValue=u,Object.defineProperty(n,"__esModule",{value:!0})})(e,t(616),t(78))},633:(o,e)=>{var t;(function(){var n={}.hasOwnProperty;function i(){for(var s=[],a=0;a<arguments.length;a++){var d=arguments[a];if(d){var c=typeof d;if(c==="string"||c==="number")s.push(d);else if(Array.isArray(d)){if(d.length){var l=i.apply(null,d);l&&s.push(l)}}else if(c==="object"){if(d.toString!==Object.prototype.toString&&!d.toString.toString().includes("[native code]")){s.push(d.toString());continue}for(var u in d)n.call(d,u)&&d[u]&&s.push(u)}}}return s.join(" ")}o.exports?(i.default=i,o.exports=i):(t=(function(){return i}).apply(e,[]))===void 0||(o.exports=t)})()},21:(o,e,t)=>{t.d(e,{A:()=>d});var n=t(645),i=t.n(n),s=t(278),a=t.n(s)()(i());a.push([o.id,'.hanko_accordion{font-weight:var(--font-weight, 400);font-size:var(--font-size, 16px);font-family:var(--font-family, sans-serif);line-height:var(--line-height, 1.4rem);width:100%;overflow:hidden}.hanko_accordion .hanko_accordionItem{color:var(--color, #333333);margin:.25rem 0;overflow:hidden}.hanko_accordion .hanko_accordionItem.hanko_dropdown{margin:0}.hanko_accordion .hanko_accordionItem .hanko_label{border-radius:var(--border-radius, 8px);border-style:none;height:var(--item-height, 42px);background:var(--background-color, white);box-sizing:border-box;display:flex;align-items:center;justify-content:space-between;padding:0 1rem;margin:0;cursor:pointer;transition:all .35s}.hanko_accordion .hanko_accordionItem .hanko_label .hanko_labelText{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.hanko_accordion .hanko_accordionItem .hanko_label .hanko_labelText .hanko_description{color:var(--color-shade-1, #8f9095)}.hanko_accordion .hanko_accordionItem .hanko_label.hanko_dropdown{margin:0;color:var(--link-color, #506cf0);justify-content:flex-start}.hanko_accordion .hanko_accordionItem .hanko_label:hover{color:var(--brand-contrast-color, white);background:var(--brand-color-shade-1, #6b84fb)}.hanko_accordion .hanko_accordionItem .hanko_label:hover .hanko_description{color:var(--brand-contrast-color, white)}.hanko_accordion .hanko_accordionItem .hanko_label:hover.hanko_dropdown{color:var(--link-color, #506cf0);background:none}.hanko_accordion .hanko_accordionItem .hanko_label:not(.hanko_dropdown)::after{content:"❯";width:1rem;text-align:center;transition:all .35s}.hanko_accordion .hanko_accordionItem .hanko_accordionInput{position:absolute;opacity:0;z-index:-1}.hanko_accordion .hanko_accordionItem .hanko_accordionInput:checked+.hanko_label{color:var(--brand-contrast-color, white);background:var(--brand-color, #506cf0)}.hanko_accordion .hanko_accordionItem .hanko_accordionInput:checked+.hanko_label .hanko_description{color:var(--brand-contrast-color, white)}.hanko_accordion .hanko_accordionItem .hanko_accordionInput:checked+.hanko_label.hanko_dropdown{color:var(--link-color, #506cf0);background:none}.hanko_accordion .hanko_accordionItem .hanko_accordionInput:checked+.hanko_label:not(.hanko_dropdown)::after{transform:rotate(90deg)}.hanko_accordion .hanko_accordionItem .hanko_accordionInput:checked+.hanko_label~.hanko_accordionContent{margin:.25rem 1rem;opacity:1;max-height:100vh}.hanko_accordion .hanko_accordionItem .hanko_accordionContent{max-height:0;margin:0 1rem;opacity:0;overflow:hidden;transition:all .35s}.hanko_accordion .hanko_accordionItem .hanko_accordionContent.hanko_dropdownContent{border-style:none}',""]),a.locals={accordion:"hanko_accordion",accordionItem:"hanko_accordionItem",dropdown:"hanko_dropdown",label:"hanko_label",labelText:"hanko_labelText",description:"hanko_description",accordionInput:"hanko_accordionInput",accordionContent:"hanko_accordionContent",dropdownContent:"hanko_dropdownContent"};const d=a},905:(o,e,t)=>{t.d(e,{A:()=>d});var n=t(645),i=t.n(n),s=t(278),a=t.n(s)()(i());a.push([o.id,".hanko_errorBox{font-weight:var(--font-weight, 400);font-size:var(--font-size, 16px);font-family:var(--font-family, sans-serif);line-height:var(--line-height, 1.4rem);border-radius:var(--border-radius, 8px);border-style:var(--border-style, solid);border-width:var(--border-width, 1px);color:var(--error-color, #e82020);background:var(--background-color, white);margin:var(--item-margin, 0.5rem 0);display:flex;align-items:start;box-sizing:border-box;line-height:1.5rem;padding:.25em;gap:.2em}.hanko_errorBox>span{display:inline-flex}.hanko_errorBox>span:first-child{padding:.25em 0 .25em .19em}.hanko_errorBox[hidden]{display:none}.hanko_errorMessage{color:var(--error-color, #e82020)}",""]),a.locals={errorBox:"hanko_errorBox",errorMessage:"hanko_errorMessage"};const d=a},577:(o,e,t)=>{t.d(e,{A:()=>d});var n=t(645),i=t.n(n),s=t(278),a=t.n(s)()(i());a.push([o.id,'.hanko_form{display:flex;flex-grow:1}.hanko_form .hanko_ul{flex-grow:1;margin:var(--item-margin, 0.5rem 0);padding-inline-start:0;list-style-type:none;display:flex;flex-wrap:wrap;gap:1em}.hanko_form .hanko_li{display:flex;max-width:100%;flex-grow:1;flex-basis:min-content}.hanko_form .hanko_li.hanko_maxWidth{min-width:100%}.hanko_button{font-weight:var(--font-weight, 400);font-size:var(--font-size, 16px);font-family:var(--font-family, sans-serif);line-height:var(--line-height, 1.4rem);border-radius:var(--border-radius, 8px);border-style:var(--border-style, solid);border-width:var(--border-width, 1px);white-space:nowrap;width:100%;min-width:var(--button-min-width, 7em);min-height:var(--item-height, 42px);outline:none;cursor:pointer;transition:.1s ease-out;flex-grow:1;flex-shrink:1;display:inline-flex}.hanko_button:disabled{cursor:default}.hanko_button.hanko_primary{color:var(--brand-contrast-color, white);background:var(--brand-color, #506cf0);border-color:var(--brand-color, #506cf0);justify-content:center}.hanko_button.hanko_primary:hover{color:var(--brand-contrast-color, white);background:var(--brand-color-shade-1, #6b84fb);border-color:var(--brand-color, #506cf0)}.hanko_button.hanko_primary:focus{color:var(--brand-contrast-color, white);background:var(--brand-color, #506cf0);border-color:var(--color, #333333)}.hanko_button.hanko_primary:disabled{color:var(--color-shade-1, #8f9095);background:var(--color-shade-2, #e5e6ef);border-color:var(--color-shade-2, #e5e6ef)}.hanko_button.hanko_secondary{color:var(--color, #333333);background:var(--background-color, white);border-color:var(--color, #333333);justify-content:flex-start}.hanko_button.hanko_secondary:hover{color:var(--color, #333333);background:var(--color-shade-2, #e5e6ef);border-color:var(--color, #333333)}.hanko_button.hanko_secondary:focus{color:var(--color, #333333);background:var(--background-color, white);border-color:var(--brand-color, #506cf0)}.hanko_button.hanko_secondary:disabled{color:var(--color-shade-1, #8f9095);background:var(--color-shade-2, #e5e6ef);border-color:var(--color-shade-1, #8f9095)}.hanko_button.hanko_dangerous{color:var(--error-color, #e82020);background:var(--background-color, white);border-color:var(--error-color, #e82020);flex-grow:0;width:auto}.hanko_caption{flex-grow:1;flex-wrap:wrap;display:flex;justify-content:space-between;align-items:baseline}.hanko_lastUsed{color:var(--color-shade-1, #8f9095);font-size:smaller}.hanko_inputWrapper{flex-grow:1;position:relative;display:flex;min-width:var(--input-min-width, 14em);max-width:100%}.hanko_input{font-weight:var(--font-weight, 400);font-size:var(--font-size, 16px);font-family:var(--font-family, sans-serif);line-height:var(--line-height, 1.4rem);border-radius:var(--border-radius, 8px);border-style:var(--border-style, solid);border-width:var(--border-width, 1px);height:var(--item-height, 42px);color:var(--color, #333333);border-color:var(--color-shade-1, #8f9095);background:var(--background-color, white);padding:0 .5rem;outline:none;width:100%;box-sizing:border-box;transition:.1s ease-out}.hanko_input.hanko_error{border-color:var(--error-color, #e82020)}.hanko_input:-webkit-autofill,.hanko_input:-webkit-autofill:hover,.hanko_input:-webkit-autofill:focus{-webkit-text-fill-color:var(--color, #333333);-webkit-box-shadow:0 0 0 50px var(--background-color, white) inset}.hanko_input::-ms-reveal,.hanko_input::-ms-clear{display:none}.hanko_input::placeholder{color:var(--color-shade-1, #8f9095)}.hanko_input:focus{color:var(--color, #333333);border-color:var(--color, #333333)}.hanko_input:disabled{color:var(--color-shade-1, #8f9095);background:var(--color-shade-2, #e5e6ef);border-color:var(--color-shade-1, #8f9095)}.hanko_passcodeInputWrapper{flex-grow:1;min-width:var(--input-min-width, 14em);max-width:fit-content;position:relative;display:flex;justify-content:space-between}.hanko_passcodeInputWrapper .hanko_passcodeDigitWrapper{flex-grow:1;margin:0 .5rem 0 0}.hanko_passcodeInputWrapper .hanko_passcodeDigitWrapper:last-child{margin:0}.hanko_passcodeInputWrapper .hanko_passcodeDigitWrapper .hanko_input{text-align:center}.hanko_checkboxWrapper{font-weight:var(--font-weight, 400);font-size:var(--font-size, 16px);font-family:var(--font-family, sans-serif);line-height:var(--line-height, 1.4rem);color:var(--color, #333333);align-items:center;display:flex}.hanko_checkboxWrapper .hanko_label{color:inherit;padding-left:.5rem;cursor:pointer}.hanko_checkboxWrapper .hanko_label.hanko_disabled{cursor:default;color:var(--color-shade-1, #8f9095)}.hanko_checkboxWrapper .hanko_checkbox{border:currentColor solid 1px;border-radius:.15em;appearance:none;-webkit-appearance:none;width:1.1rem;height:1.1rem;margin:0;color:currentColor;background-color:var(--background-color, white);font:inherit;box-shadow:none;display:inline-flex;place-content:center;cursor:pointer}.hanko_checkboxWrapper .hanko_checkbox:checked{background-color:var(--color, #333333)}.hanko_checkboxWrapper .hanko_checkbox:disabled{cursor:default;background-color:var(--color-shade-2, #e5e6ef);border-color:var(--color-shade-1, #8f9095)}.hanko_checkboxWrapper .hanko_checkbox:checked:after{content:"✓";color:var(--background-color, white);position:absolute;line-height:1.1rem}.hanko_checkboxWrapper .hanko_checkbox:disabled:after{color:var(--color-shade-1, #8f9095)}',""]),a.locals={form:"hanko_form",ul:"hanko_ul",li:"hanko_li",maxWidth:"hanko_maxWidth",button:"hanko_button",primary:"hanko_primary",secondary:"hanko_secondary",dangerous:"hanko_dangerous",caption:"hanko_caption",lastUsed:"hanko_lastUsed",inputWrapper:"hanko_inputWrapper",input:"hanko_input",error:"hanko_error",passcodeInputWrapper:"hanko_passcodeInputWrapper",passcodeDigitWrapper:"hanko_passcodeDigitWrapper",checkboxWrapper:"hanko_checkboxWrapper",label:"hanko_label",disabled:"hanko_disabled",checkbox:"hanko_checkbox"};const d=a},619:(o,e,t)=>{t.d(e,{A:()=>d});var n=t(645),i=t.n(n),s=t(278),a=t.n(s)()(i());a.push([o.id,".hanko_headline{color:var(--color, #333333);font-family:var(--font-family, sans-serif);text-align:left;letter-spacing:0;font-style:normal;line-height:1.1}.hanko_headline.hanko_grade1{font-size:var(--headline1-font-size, 24px);font-weight:var(--headline1-font-weight, 600);margin:var(--headline1-margin, 0 0 0.5rem)}.hanko_headline.hanko_grade2{font-size:var(--headline2-font-size, 16px);font-weight:var(--headline2-font-weight, 600);margin:var(--headline2-margin, 1rem 0 0.5rem)}",""]),a.locals={headline:"hanko_headline",grade1:"hanko_grade1",grade2:"hanko_grade2"};const d=a},697:(o,e,t)=>{t.d(e,{A:()=>d});var n=t(645),i=t.n(n),s=t(278),a=t.n(s)()(i());a.push([o.id,".hanko_icon,.hanko_loadingSpinnerWrapper .hanko_loadingSpinner,.hanko_loadingSpinnerWrapperIcon .hanko_loadingSpinner,.hanko_exclamationMark,.hanko_checkmark{display:inline-block;fill:var(--brand-contrast-color, white);width:18px}.hanko_icon.hanko_secondary,.hanko_loadingSpinnerWrapper .hanko_secondary.hanko_loadingSpinner,.hanko_loadingSpinnerWrapperIcon .hanko_secondary.hanko_loadingSpinner,.hanko_secondary.hanko_exclamationMark,.hanko_secondary.hanko_checkmark{fill:var(--color, #333333)}.hanko_icon.hanko_disabled,.hanko_loadingSpinnerWrapper .hanko_disabled.hanko_loadingSpinner,.hanko_loadingSpinnerWrapperIcon .hanko_disabled.hanko_loadingSpinner,.hanko_disabled.hanko_exclamationMark,.hanko_disabled.hanko_checkmark{fill:var(--color-shade-1, #8f9095)}.hanko_checkmark{fill:var(--brand-color, #506cf0)}.hanko_checkmark.hanko_secondary{fill:var(--color-shade-1, #8f9095)}.hanko_checkmark.hanko_fadeOut{animation:hanko_fadeOut ease-out 1.5s forwards !important}@keyframes hanko_fadeOut{0%{opacity:1}100%{opacity:0}}.hanko_exclamationMark{fill:var(--error-color, #e82020)}.hanko_loadingSpinnerWrapperIcon{width:100%;column-gap:10px;margin-left:10px}.hanko_loadingSpinnerWrapper,.hanko_loadingSpinnerWrapperIcon{display:inline-flex;align-items:center;height:100%;margin:0 5px;justify-content:inherit;flex-wrap:inherit}.hanko_loadingSpinnerWrapper.hanko_centerContent,.hanko_centerContent.hanko_loadingSpinnerWrapperIcon{justify-content:center}.hanko_loadingSpinnerWrapper.hanko_maxWidth,.hanko_maxWidth.hanko_loadingSpinnerWrapperIcon{width:100%}.hanko_loadingSpinnerWrapper .hanko_loadingSpinner,.hanko_loadingSpinnerWrapperIcon .hanko_loadingSpinner{fill:var(--brand-color, #506cf0);animation:hanko_spin 500ms ease-in-out infinite}.hanko_loadingSpinnerWrapper.hanko_secondary,.hanko_secondary.hanko_loadingSpinnerWrapperIcon{fill:var(--color-shade-1, #8f9095)}@keyframes hanko_spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.hanko_googleIcon.hanko_disabled{fill:var(--color-shade-1, #8f9095)}.hanko_googleIcon.hanko_blue{fill:#4285f4}.hanko_googleIcon.hanko_green{fill:#34a853}.hanko_googleIcon.hanko_yellow{fill:#fbbc05}.hanko_googleIcon.hanko_red{fill:#ea4335}.hanko_microsoftIcon.hanko_disabled{fill:var(--color-shade-1, #8f9095)}.hanko_microsoftIcon.hanko_blue{fill:#00a4ef}.hanko_microsoftIcon.hanko_green{fill:#7fba00}.hanko_microsoftIcon.hanko_yellow{fill:#ffb900}.hanko_microsoftIcon.hanko_red{fill:#f25022}.hanko_facebookIcon.hanko_outline{fill:#0866ff}.hanko_facebookIcon.hanko_disabledOutline{fill:var(--color-shade-1, #8f9095)}.hanko_facebookIcon.hanko_letter{fill:#fff}.hanko_facebookIcon.hanko_disabledLetter{fill:var(--color-shade-2, #e5e6ef)}",""]),a.locals={icon:"hanko_icon",loadingSpinnerWrapper:"hanko_loadingSpinnerWrapper",loadingSpinner:"hanko_loadingSpinner",loadingSpinnerWrapperIcon:"hanko_loadingSpinnerWrapperIcon",exclamationMark:"hanko_exclamationMark",checkmark:"hanko_checkmark",secondary:"hanko_secondary",disabled:"hanko_disabled",fadeOut:"hanko_fadeOut",centerContent:"hanko_centerContent",maxWidth:"hanko_maxWidth",spin:"hanko_spin",googleIcon:"hanko_googleIcon",blue:"hanko_blue",green:"hanko_green",yellow:"hanko_yellow",red:"hanko_red",microsoftIcon:"hanko_microsoftIcon",facebookIcon:"hanko_facebookIcon",outline:"hanko_outline",disabledOutline:"hanko_disabledOutline",letter:"hanko_letter",disabledLetter:"hanko_disabledLetter"};const d=a},995:(o,e,t)=>{t.d(e,{A:()=>d});var n=t(645),i=t.n(n),s=t(278),a=t.n(s)()(i());a.push([o.id,".hanko_link{font-weight:var(--font-weight, 400);font-size:var(--font-size, 16px);font-family:var(--font-family, sans-serif);line-height:var(--line-height, 1.4rem);color:var(--link-color, #506cf0);text-decoration:var(--link-text-decoration, none);cursor:pointer;background:none !important;border:none;padding:0 !important;transition:all .1s}.hanko_link:hover{text-decoration:var(--link-text-decoration-hover, underline)}.hanko_link:disabled{color:var(--color, #333333) !important;pointer-events:none;cursor:default}.hanko_link.hanko_danger{color:var(--error-color, #e82020)}.hanko_linkWrapper{display:inline-flex;flex-direction:row;justify-content:space-between;align-items:center;overflow:hidden}.hanko_linkWrapper.hanko_reverse{flex-direction:row-reverse}",""]),a.locals={link:"hanko_link",danger:"hanko_danger",linkWrapper:"hanko_linkWrapper",reverse:"hanko_reverse"};const d=a},560:(o,e,t)=>{t.d(e,{A:()=>d});var n=t(645),i=t.n(n),s=t(278),a=t.n(s)()(i());a.push([o.id,".hanko_otpCreationDetails{font-weight:var(--font-weight, 400);font-size:var(--font-size, 16px);font-family:var(--font-family, sans-serif);line-height:var(--line-height, 1.4rem);color:var(--color, #333333);margin:var(--item-margin, 0.5rem 0);display:flex;justify-content:center;align-items:center;flex-direction:column;font-size:smaller}",""]),a.locals={otpCreationDetails:"hanko_otpCreationDetails"};const d=a},489:(o,e,t)=>{t.d(e,{A:()=>d});var n=t(645),i=t.n(n),s=t(278),a=t.n(s)()(i());a.push([o.id,".hanko_paragraph{font-weight:var(--font-weight, 400);font-size:var(--font-size, 16px);font-family:var(--font-family, sans-serif);line-height:var(--line-height, 1.4rem);color:var(--color, #333333);margin:var(--item-margin, 0.5rem 0);text-align:left;word-break:break-word}",""]),a.locals={paragraph:"hanko_paragraph"};const d=a},111:(o,e,t)=>{t.d(e,{A:()=>d});var n=t(645),i=t.n(n),s=t(278),a=t.n(s)()(i());a.push([o.id,".hanko_spacer{height:1em}.hanko_divider{font-weight:var(--font-weight, 400);font-size:var(--font-size, 16px);font-family:var(--font-family, sans-serif);line-height:var(--line-height, 1.4rem);display:flex;visibility:var(--divider-visibility, visible);color:var(--color-shade-1, #8f9095);margin:var(--item-margin, 0.5rem 0);padding:.5em 0}.hanko_divider .hanko_line{border-bottom-style:var(--border-style, solid);border-bottom-width:var(--border-width, 1px);color:inherit;font:inherit;width:100%}.hanko_divider .hanko_text{font:inherit;color:inherit;background:var(--background-color, white);padding:var(--divider-padding, 0 42px);line-height:.1em}",""]),a.locals={spacer:"hanko_spacer",divider:"hanko_divider",line:"hanko_line",text:"hanko_text"};const d=a},914:(o,e,t)=>{t.d(e,{A:()=>d});var n=t(645),i=t.n(n),s=t(278),a=t.n(s)()(i());a.push([o.id,".hanko_container{background-color:var(--background-color, white);padding:var(--container-padding, 30px);max-width:var(--container-max-width, 410px);display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:center;align-items:center;align-content:flex-start;box-sizing:border-box}.hanko_content{box-sizing:border-box;flex:0 1 auto;width:100%;height:100%}.hanko_footer{padding:.5rem 0 0;box-sizing:border-box;width:100%}.hanko_footer :nth-child(1){float:left}.hanko_footer :nth-child(2){float:right}.hanko_clipboardContainer{display:flex}.hanko_clipboardIcon{display:flex;margin:auto;cursor:pointer}",""]),a.locals={container:"hanko_container",content:"hanko_content",footer:"hanko_footer",clipboardContainer:"hanko_clipboardContainer",clipboardIcon:"hanko_clipboardIcon"};const d=a},278:o=>{o.exports=function(e){var t=[];return t.toString=function(){return this.map(function(n){var i="",s=n[5]!==void 0;return n[4]&&(i+="@supports (".concat(n[4],") {")),n[2]&&(i+="@media ".concat(n[2]," {")),s&&(i+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),i+=e(n),s&&(i+="}"),n[2]&&(i+="}"),n[4]&&(i+="}"),i}).join("")},t.i=function(n,i,s,a,d){typeof n=="string"&&(n=[[null,n,void 0]]);var c={};if(s)for(var l=0;l<this.length;l++){var u=this[l][0];u!=null&&(c[u]=!0)}for(var h=0;h<n.length;h++){var g=[].concat(n[h]);s&&c[g[0]]||(d!==void 0&&(g[5]===void 0||(g[1]="@layer".concat(g[5].length>0?" ".concat(g[5]):""," {").concat(g[1],"}")),g[5]=d),i&&(g[2]&&(g[1]="@media ".concat(g[2]," {").concat(g[1],"}")),g[2]=i),a&&(g[4]?(g[1]="@supports (".concat(g[4],") {").concat(g[1],"}"),g[4]=a):g[4]="".concat(a)),t.push(g))}},t}},645:o=>{o.exports=function(e){return e[1]}},616:(o,e,t)=>{t.r(e),t.d(e,{Component:()=>N,Fragment:()=>M,cloneElement:()=>Ke,createContext:()=>Be,createElement:()=>S,createRef:()=>$,h:()=>S,hydrate:()=>Fe,isValidElement:()=>a,options:()=>i,render:()=>fe,toChildArray:()=>_e});var n,i,s,a,d,c,l,u,h,g={},f=[],x=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function O(m,v){for(var b in v)m[b]=v[b];return m}function C(m){var v=m.parentNode;v&&v.removeChild(m)}function S(m,v,b){var j,T,I,q={};for(I in v)I=="key"?j=v[I]:I=="ref"?T=v[I]:q[I]=v[I];if(arguments.length>2&&(q.children=arguments.length>3?n.call(arguments,2):b),typeof m=="function"&&m.defaultProps!=null)for(I in m.defaultProps)q[I]===void 0&&(q[I]=m.defaultProps[I]);return P(m,q,j,T,null)}function P(m,v,b,j,T){var I={type:m,props:v,key:b,ref:j,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:T??++s};return T==null&&i.vnode!=null&&i.vnode(I),I}function $(){return{current:null}}function M(m){return m.children}function N(m,v){this.props=m,this.context=v}function ie(m,v){if(v==null)return m.__?ie(m.__,m.__.__k.indexOf(m)+1):null;for(var b;v<m.__k.length;v++)if((b=m.__k[v])!=null&&b.__e!=null)return b.__e;return typeof m.type=="function"?ie(m):null}function be(m){var v,b;if((m=m.__)!=null&&m.__c!=null){for(m.__e=m.__c.base=null,v=0;v<m.__k.length;v++)if((b=m.__k[v])!=null&&b.__e!=null){m.__e=m.__c.base=b.__e;break}return be(m)}}function re(m){(!m.__d&&(m.__d=!0)&&d.push(m)&&!xe.__r++||c!==i.debounceRendering)&&((c=i.debounceRendering)||l)(xe)}function xe(){var m,v,b,j,T,I,q,ee;for(d.sort(u);m=d.shift();)m.__d&&(v=d.length,j=void 0,T=void 0,q=(I=(b=m).__v).__e,(ee=b.__P)&&(j=[],(T=O({},I)).__v=I.__v+1,$e(ee,I,T,b.__n,ee.ownerSVGElement!==void 0,I.__h!=null?[q]:null,j,q??ie(I),I.__h),k(j,I),I.__e!=q&&be(I)),d.length>v&&d.sort(u));xe.__r=0}function U(m,v,b,j,T,I,q,ee,Y,ye){var w,ke,Q,H,E,Ce,B,F=j&&j.__k||f,Ue=F.length;for(b.__k=[],w=0;w<v.length;w++)if((H=b.__k[w]=(H=v[w])==null||typeof H=="boolean"||typeof H=="function"?null:typeof H=="string"||typeof H=="number"||typeof H=="bigint"?P(null,H,null,null,H):Array.isArray(H)?P(M,{children:H},null,null,null):H.__b>0?P(H.type,H.props,H.key,H.ref?H.ref:null,H.__v):H)!=null){if(H.__=b,H.__b=b.__b+1,(Q=F[w])===null||Q&&H.key==Q.key&&H.type===Q.type)F[w]=void 0;else for(ke=0;ke<Ue;ke++){if((Q=F[ke])&&H.key==Q.key&&H.type===Q.type){F[ke]=void 0;break}Q=null}$e(m,H,Q=Q||g,T,I,q,ee,Y,ye),E=H.__e,(ke=H.ref)&&Q.ref!=ke&&(B||(B=[]),Q.ref&&B.push(Q.ref,null,H),B.push(ke,H.__c||E,H)),E!=null?(Ce==null&&(Ce=E),typeof H.type=="function"&&H.__k===Q.__k?H.__d=Y=W(H,Y,m):Y=Me(m,H,Q,F,E,Y),typeof b.type=="function"&&(b.__d=Y)):Y&&Q.__e==Y&&Y.parentNode!=m&&(Y=ie(Q))}for(b.__e=Ce,w=Ue;w--;)F[w]!=null&&(typeof b.type=="function"&&F[w].__e!=null&&F[w].__e==b.__d&&(b.__d=je(j).nextSibling),L(F[w],F[w]));if(B)for(w=0;w<B.length;w++)y(B[w],B[++w],B[++w])}function W(m,v,b){for(var j,T=m.__k,I=0;T&&I<T.length;I++)(j=T[I])&&(j.__=m,v=typeof j.type=="function"?W(j,v,b):Me(b,j,j,T,j.__e,v));return v}function _e(m,v){return v=v||[],m==null||typeof m=="boolean"||(Array.isArray(m)?m.some(function(b){_e(b,v)}):v.push(m)),v}function Me(m,v,b,j,T,I){var q,ee,Y;if(v.__d!==void 0)q=v.__d,v.__d=void 0;else if(b==null||T!=I||T.parentNode==null)e:if(I==null||I.parentNode!==m)m.appendChild(T),q=null;else{for(ee=I,Y=0;(ee=ee.nextSibling)&&Y<j.length;Y+=1)if(ee==T)break e;m.insertBefore(T,I),q=I}return q!==void 0?q:T.nextSibling}function je(m){var v,b,j;if(m.type==null||typeof m.type=="string")return m.__e;if(m.__k){for(v=m.__k.length-1;v>=0;v--)if((b=m.__k[v])&&(j=je(b)))return j}return null}function Ne(m,v,b){v[0]==="-"?m.setProperty(v,b??""):m[v]=b==null?"":typeof b!="number"||x.test(v)?b:b+"px"}function ae(m,v,b,j,T){var I;e:if(v==="style")if(typeof b=="string")m.style.cssText=b;else{if(typeof j=="string"&&(m.style.cssText=j=""),j)for(v in j)b&&v in b||Ne(m.style,v,"");if(b)for(v in b)j&&b[v]===j[v]||Ne(m.style,v,b[v])}else if(v[0]==="o"&&v[1]==="n")I=v!==(v=v.replace(/Capture$/,"")),v=v.toLowerCase()in m?v.toLowerCase().slice(2):v.slice(2),m.l||(m.l={}),m.l[v+I]=b,b?j||m.addEventListener(v,I?pe:le,I):m.removeEventListener(v,I?pe:le,I);else if(v!=="dangerouslySetInnerHTML"){if(T)v=v.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(v!=="width"&&v!=="height"&&v!=="href"&&v!=="list"&&v!=="form"&&v!=="tabIndex"&&v!=="download"&&v in m)try{m[v]=b??"";break e}catch{}typeof b=="function"||(b==null||b===!1&&v.indexOf("-")==-1?m.removeAttribute(v):m.setAttribute(v,b))}}function le(m){return this.l[m.type+!1](i.event?i.event(m):m)}function pe(m){return this.l[m.type+!0](i.event?i.event(m):m)}function $e(m,v,b,j,T,I,q,ee,Y){var ye,w,ke,Q,H,E,Ce,B,F,Ue,it,ge,Pn,lt,R,V=v.type;if(v.constructor!==void 0)return null;b.__h!=null&&(Y=b.__h,ee=v.__e=b.__e,v.__h=null,I=[ee]),(ye=i.__b)&&ye(v);try{e:if(typeof V=="function"){if(B=v.props,F=(ye=V.contextType)&&j[ye.__c],Ue=ye?F?F.props.value:ye.__:j,b.__c?Ce=(w=v.__c=b.__c).__=w.__E:("prototype"in V&&V.prototype.render?v.__c=w=new V(B,Ue):(v.__c=w=new N(B,Ue),w.constructor=V,w.render=K),F&&F.sub(w),w.props=B,w.state||(w.state={}),w.context=Ue,w.__n=j,ke=w.__d=!0,w.__h=[],w._sb=[]),w.__s==null&&(w.__s=w.state),V.getDerivedStateFromProps!=null&&(w.__s==w.state&&(w.__s=O({},w.__s)),O(w.__s,V.getDerivedStateFromProps(B,w.__s))),Q=w.props,H=w.state,w.__v=v,ke)V.getDerivedStateFromProps==null&&w.componentWillMount!=null&&w.componentWillMount(),w.componentDidMount!=null&&w.__h.push(w.componentDidMount);else{if(V.getDerivedStateFromProps==null&&B!==Q&&w.componentWillReceiveProps!=null&&w.componentWillReceiveProps(B,Ue),!w.__e&&w.shouldComponentUpdate!=null&&w.shouldComponentUpdate(B,w.__s,Ue)===!1||v.__v===b.__v){for(v.__v!==b.__v&&(w.props=B,w.state=w.__s,w.__d=!1),w.__e=!1,v.__e=b.__e,v.__k=b.__k,v.__k.forEach(function(nt){nt&&(nt.__=v)}),it=0;it<w._sb.length;it++)w.__h.push(w._sb[it]);w._sb=[],w.__h.length&&q.push(w);break e}w.componentWillUpdate!=null&&w.componentWillUpdate(B,w.__s,Ue),w.componentDidUpdate!=null&&w.__h.push(function(){w.componentDidUpdate(Q,H,E)})}if(w.context=Ue,w.props=B,w.__P=m,ge=i.__r,Pn=0,"prototype"in V&&V.prototype.render){for(w.state=w.__s,w.__d=!1,ge&&ge(v),ye=w.render(w.props,w.state,w.context),lt=0;lt<w._sb.length;lt++)w.__h.push(w._sb[lt]);w._sb=[]}else do w.__d=!1,ge&&ge(v),ye=w.render(w.props,w.state,w.context),w.state=w.__s;while(w.__d&&++Pn<25);w.state=w.__s,w.getChildContext!=null&&(j=O(O({},j),w.getChildContext())),ke||w.getSnapshotBeforeUpdate==null||(E=w.getSnapshotBeforeUpdate(Q,H)),R=ye!=null&&ye.type===M&&ye.key==null?ye.props.children:ye,U(m,Array.isArray(R)?R:[R],v,b,j,T,I,q,ee,Y),w.base=v.__e,v.__h=null,w.__h.length&&q.push(w),Ce&&(w.__E=w.__=null),w.__e=!1}else I==null&&v.__v===b.__v?(v.__k=b.__k,v.__e=b.__e):v.__e=p(b.__e,v,b,j,T,I,q,Y);(ye=i.diffed)&&ye(v)}catch(nt){v.__v=null,(Y||I!=null)&&(v.__e=ee,v.__h=!!Y,I[I.indexOf(ee)]=null),i.__e(nt,v,b)}}function k(m,v){i.__c&&i.__c(v,m),m.some(function(b){try{m=b.__h,b.__h=[],m.some(function(j){j.call(b)})}catch(j){i.__e(j,b.__v)}})}function p(m,v,b,j,T,I,q,ee){var Y,ye,w,ke=b.props,Q=v.props,H=v.type,E=0;if(H==="svg"&&(T=!0),I!=null){for(;E<I.length;E++)if((Y=I[E])&&"setAttribute"in Y==!!H&&(H?Y.localName===H:Y.nodeType===3)){m=Y,I[E]=null;break}}if(m==null){if(H===null)return document.createTextNode(Q);m=T?document.createElementNS("http://www.w3.org/2000/svg",H):document.createElement(H,Q.is&&Q),I=null,ee=!1}if(H===null)ke===Q||ee&&m.data===Q||(m.data=Q);else{if(I=I&&n.call(m.childNodes),ye=(ke=b.props||g).dangerouslySetInnerHTML,w=Q.dangerouslySetInnerHTML,!ee){if(I!=null)for(ke={},E=0;E<m.attributes.length;E++)ke[m.attributes[E].name]=m.attributes[E].value;(w||ye)&&(w&&(ye&&w.__html==ye.__html||w.__html===m.innerHTML)||(m.innerHTML=w&&w.__html||""))}if(function(Ce,B,F,Ue,it){var ge;for(ge in F)ge==="children"||ge==="key"||ge in B||ae(Ce,ge,null,F[ge],Ue);for(ge in B)it&&typeof B[ge]!="function"||ge==="children"||ge==="key"||ge==="value"||ge==="checked"||F[ge]===B[ge]||ae(Ce,ge,B[ge],F[ge],Ue)}(m,Q,ke,T,ee),w)v.__k=[];else if(E=v.props.children,U(m,Array.isArray(E)?E:[E],v,b,j,T&&H!=="foreignObject",I,q,I?I[0]:b.__k&&ie(b,0),ee),I!=null)for(E=I.length;E--;)I[E]!=null&&C(I[E]);ee||("value"in Q&&(E=Q.value)!==void 0&&(E!==m.value||H==="progress"&&!E||H==="option"&&E!==ke.value)&&ae(m,"value",E,ke.value,!1),"checked"in Q&&(E=Q.checked)!==void 0&&E!==m.checked&&ae(m,"checked",E,ke.checked,!1))}return m}function y(m,v,b){try{typeof m=="function"?m(v):m.current=v}catch(j){i.__e(j,b)}}function L(m,v,b){var j,T;if(i.unmount&&i.unmount(m),(j=m.ref)&&(j.current&&j.current!==m.__e||y(j,null,v)),(j=m.__c)!=null){if(j.componentWillUnmount)try{j.componentWillUnmount()}catch(I){i.__e(I,v)}j.base=j.__P=null,m.__c=void 0}if(j=m.__k)for(T=0;T<j.length;T++)j[T]&&L(j[T],v,b||typeof m.type!="function");b||m.__e==null||C(m.__e),m.__=m.__e=m.__d=void 0}function K(m,v,b){return this.constructor(m,b)}function fe(m,v,b){var j,T,I;i.__&&i.__(m,v),T=(j=typeof b=="function")?null:b&&b.__k||v.__k,I=[],$e(v,m=(!j&&b||v).__k=S(M,null,[m]),T||g,g,v.ownerSVGElement!==void 0,!j&&b?[b]:T?null:v.firstChild?n.call(v.childNodes):null,I,!j&&b?b:T?T.__e:v.firstChild,j),k(I,m)}function Fe(m,v){fe(m,v,Fe)}function Ke(m,v,b){var j,T,I,q=O({},m.props);for(I in v)I=="key"?j=v[I]:I=="ref"?T=v[I]:q[I]=v[I];return arguments.length>2&&(q.children=arguments.length>3?n.call(arguments,2):b),P(m.type,q,j||m.key,T||m.ref,null)}function Be(m,v){var b={__c:v="__cC"+h++,__:m,Consumer:function(j,T){return j.children(T)},Provider:function(j){var T,I;return this.getChildContext||(T=[],(I={})[v]=this,this.getChildContext=function(){return I},this.shouldComponentUpdate=function(q){this.props.value!==q.value&&T.some(function(ee){ee.__e=!0,re(ee)})},this.sub=function(q){T.push(q);var ee=q.componentWillUnmount;q.componentWillUnmount=function(){T.splice(T.indexOf(q),1),ee&&ee.call(q)}}),j.children}};return b.Provider.__=b.Consumer.contextType=b}n=f.slice,i={__e:function(m,v,b,j){for(var T,I,q;v=v.__;)if((T=v.__c)&&!T.__)try{if((I=T.constructor)&&I.getDerivedStateFromError!=null&&(T.setState(I.getDerivedStateFromError(m)),q=T.__d),T.componentDidCatch!=null&&(T.componentDidCatch(m,j||{}),q=T.__d),q)return T.__E=T}catch(ee){m=ee}throw m}},s=0,a=function(m){return m!=null&&m.constructor===void 0},N.prototype.setState=function(m,v){var b;b=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=O({},this.state),typeof m=="function"&&(m=m(O({},b),this.props)),m&&O(b,m),m!=null&&this.__v&&(v&&this._sb.push(v),re(this))},N.prototype.forceUpdate=function(m){this.__v&&(this.__e=!0,m&&this.__h.push(m),re(this))},N.prototype.render=M,d=[],l=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u=function(m,v){return m.__v.__b-v.__v.__b},xe.__r=0,h=0},78:(o,e,t)=>{t.r(e),t.d(e,{useCallback:()=>re,useContext:()=>xe,useDebugValue:()=>U,useEffect:()=>$,useErrorBoundary:()=>W,useId:()=>_e,useImperativeHandle:()=>ie,useLayoutEffect:()=>M,useMemo:()=>be,useReducer:()=>P,useRef:()=>N,useState:()=>S});var n,i,s,a,d=t(616),c=0,l=[],u=[],h=d.options.__b,g=d.options.__r,f=d.options.diffed,x=d.options.__c,O=d.options.unmount;function C(k,p){d.options.__h&&d.options.__h(i,k,c||p),c=0;var y=i.__H||(i.__H={__:[],__h:[]});return k>=y.__.length&&y.__.push({__V:u}),y.__[k]}function S(k){return c=1,P($e,k)}function P(k,p,y){var L=C(n++,2);if(L.t=k,!L.__c&&(L.__=[y?y(p):$e(void 0,p),function(Ke){var Be=L.__N?L.__N[0]:L.__[0],m=L.t(Be,Ke);Be!==m&&(L.__N=[m,L.__[1]],L.__c.setState({}))}],L.__c=i,!i.u)){var K=function(Ke,Be,m){if(!L.__c.__H)return!0;var v=L.__c.__H.__.filter(function(j){return j.__c});if(v.every(function(j){return!j.__N}))return!fe||fe.call(this,Ke,Be,m);var b=!1;return v.forEach(function(j){if(j.__N){var T=j.__[0];j.__=j.__N,j.__N=void 0,T!==j.__[0]&&(b=!0)}}),!(!b&&L.__c.props===Ke)&&(!fe||fe.call(this,Ke,Be,m))};i.u=!0;var fe=i.shouldComponentUpdate,Fe=i.componentWillUpdate;i.componentWillUpdate=function(Ke,Be,m){if(this.__e){var v=fe;fe=void 0,K(Ke,Be,m),fe=v}Fe&&Fe.call(this,Ke,Be,m)},i.shouldComponentUpdate=K}return L.__N||L.__}function $(k,p){var y=C(n++,3);!d.options.__s&&pe(y.__H,p)&&(y.__=k,y.i=p,i.__H.__h.push(y))}function M(k,p){var y=C(n++,4);!d.options.__s&&pe(y.__H,p)&&(y.__=k,y.i=p,i.__h.push(y))}function N(k){return c=5,be(function(){return{current:k}},[])}function ie(k,p,y){c=6,M(function(){return typeof k=="function"?(k(p()),function(){return k(null)}):k?(k.current=p(),function(){return k.current=null}):void 0},y==null?y:y.concat(k))}function be(k,p){var y=C(n++,7);return pe(y.__H,p)?(y.__V=k(),y.i=p,y.__h=k,y.__V):y.__}function re(k,p){return c=8,be(function(){return k},p)}function xe(k){var p=i.context[k.__c],y=C(n++,9);return y.c=k,p?(y.__==null&&(y.__=!0,p.sub(i)),p.props.value):k.__}function U(k,p){d.options.useDebugValue&&d.options.useDebugValue(p?p(k):k)}function W(k){var p=C(n++,10),y=S();return p.__=k,i.componentDidCatch||(i.componentDidCatch=function(L,K){p.__&&p.__(L,K),y[1](L)}),[y[0],function(){y[1](void 0)}]}function _e(){var k=C(n++,11);if(!k.__){for(var p=i.__v;p!==null&&!p.__m&&p.__!==null;)p=p.__;var y=p.__m||(p.__m=[0,0]);k.__="P"+y[0]+"-"+y[1]++}return k.__}function Me(){for(var k;k=l.shift();)if(k.__P&&k.__H)try{k.__H.__h.forEach(ae),k.__H.__h.forEach(le),k.__H.__h=[]}catch(p){k.__H.__h=[],d.options.__e(p,k.__v)}}d.options.__b=function(k){i=null,h&&h(k)},d.options.__r=function(k){g&&g(k),n=0;var p=(i=k.__c).__H;p&&(s===i?(p.__h=[],i.__h=[],p.__.forEach(function(y){y.__N&&(y.__=y.__N),y.__V=u,y.__N=y.i=void 0})):(p.__h.forEach(ae),p.__h.forEach(le),p.__h=[])),s=i},d.options.diffed=function(k){f&&f(k);var p=k.__c;p&&p.__H&&(p.__H.__h.length&&(l.push(p)!==1&&a===d.options.requestAnimationFrame||((a=d.options.requestAnimationFrame)||Ne)(Me)),p.__H.__.forEach(function(y){y.i&&(y.__H=y.i),y.__V!==u&&(y.__=y.__V),y.i=void 0,y.__V=u})),s=i=null},d.options.__c=function(k,p){p.some(function(y){try{y.__h.forEach(ae),y.__h=y.__h.filter(function(L){return!L.__||le(L)})}catch(L){p.some(function(K){K.__h&&(K.__h=[])}),p=[],d.options.__e(L,y.__v)}}),x&&x(k,p)},d.options.unmount=function(k){O&&O(k);var p,y=k.__c;y&&y.__H&&(y.__H.__.forEach(function(L){try{ae(L)}catch(K){p=K}}),y.__H=void 0,p&&d.options.__e(p,y.__v))};var je=typeof requestAnimationFrame=="function";function Ne(k){var p,y=function(){clearTimeout(L),je&&cancelAnimationFrame(p),setTimeout(k)},L=setTimeout(y,100);je&&(p=requestAnimationFrame(y))}function ae(k){var p=i,y=k.__c;typeof y=="function"&&(k.__c=void 0,y()),i=p}function le(k){var p=i;k.__c=k.__(),i=p}function pe(k,p){return!k||k.length!==p.length||p.some(function(y,L){return y!==k[L]})}function $e(k,p){return typeof p=="function"?p(k):p}},292:o=>{var e=[];function t(s){for(var a=-1,d=0;d<e.length;d++)if(e[d].identifier===s){a=d;break}return a}function n(s,a){for(var d={},c=[],l=0;l<s.length;l++){var u=s[l],h=a.base?u[0]+a.base:u[0],g=d[h]||0,f="".concat(h," ").concat(g);d[h]=g+1;var x=t(f),O={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(x!==-1)e[x].references++,e[x].updater(O);else{var C=i(O,a);a.byIndex=l,e.splice(l,0,{identifier:f,updater:C,references:1})}c.push(f)}return c}function i(s,a){var d=a.domAPI(a);return d.update(s),function(c){if(c){if(c.css===s.css&&c.media===s.media&&c.sourceMap===s.sourceMap&&c.supports===s.supports&&c.layer===s.layer)return;d.update(s=c)}else d.remove()}}o.exports=function(s,a){var d=n(s=s||[],a=a||{});return function(c){c=c||[];for(var l=0;l<d.length;l++){var u=t(d[l]);e[u].references--}for(var h=n(c,a),g=0;g<d.length;g++){var f=t(d[g]);e[f].references===0&&(e[f].updater(),e.splice(f,1))}d=h}}},88:o=>{o.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},884:(o,e,t)=>{o.exports=function(n){var i=t.nc;i&&n.setAttribute("nonce",i)}},360:o=>{var e,t=(e=[],function(s,a){return e[s]=a,e.filter(Boolean).join(`
`)});function n(s,a,d,c){var l;if(d)l="";else{l="",c.supports&&(l+="@supports (".concat(c.supports,") {")),c.media&&(l+="@media ".concat(c.media," {"));var u=c.layer!==void 0;u&&(l+="@layer".concat(c.layer.length>0?" ".concat(c.layer):""," {")),l+=c.css,u&&(l+="}"),c.media&&(l+="}"),c.supports&&(l+="}")}if(s.styleSheet)s.styleSheet.cssText=t(a,l);else{var h=document.createTextNode(l),g=s.childNodes;g[a]&&s.removeChild(g[a]),g.length?s.insertBefore(h,g[a]):s.appendChild(h)}}var i={singleton:null,singletonCounter:0};o.exports=function(s){if(typeof document>"u")return{update:function(){},remove:function(){}};var a=i.singletonCounter++,d=i.singleton||(i.singleton=s.insertStyleElement(s));return{update:function(c){n(d,a,!1,c)},remove:function(c){n(d,a,!0,c)}}}},6:(o,e,t)=>{t.d(e,{en:()=>n});const n={headlines:{error:"An error has occurred",loginEmail:"Sign in or create account",loginEmailNoSignup:"Sign in",loginFinished:"Login successful",loginPasscode:"Enter passcode",loginPassword:"Enter password",registerAuthenticator:"Create a passkey",registerConfirm:"Create account?",registerPassword:"Set new password",otpSetUp:"Set up authenticator app",profileEmails:"Emails",profilePassword:"Password",profilePasskeys:"Passkeys",isPrimaryEmail:"Primary email address",setPrimaryEmail:"Set primary email address",createEmail:"Enter a new email",createUsername:"Enter a new username",emailVerified:"Verified",emailUnverified:"Unverified",emailDelete:"Delete",renamePasskey:"Rename passkey",deletePasskey:"Delete passkey",lastUsedAt:"Last used at",createdAt:"Created at",connectedAccounts:"Connected accounts",deleteAccount:"Delete account",accountNotFound:"Account not found",signIn:"Sign in",signUp:"Create account",selectLoginMethod:"Select login method",setupLoginMethod:"Set up login method",lastUsed:"Last seen",ipAddress:"IP address",revokeSession:"Revoke session",profileSessions:"Sessions",mfaSetUp:"Set up MFA",securityKeySetUp:"Add security key",securityKeyLogin:"Security key",otpLogin:"Authentication code",renameSecurityKey:"Rename security key",deleteSecurityKey:"Delete security key",securityKeys:"Security keys",authenticatorApp:"Authenticator app",authenticatorAppAlreadySetUp:"Authenticator app is set up",authenticatorAppNotSetUp:"Set up authenticator app",trustDevice:"Trust this browser?"},texts:{enterPasscode:'Enter the passcode that was sent to "{emailAddress}".',enterPasscodeNoEmail:"Enter the passcode that was sent to your primary email address.",setupPasskey:"Sign in to your account easily and securely with a passkey. Note: Your biometric data is only stored on your devices and will never be shared with anyone.",createAccount:'No account exists for "{emailAddress}". Do you want to create a new account?',otpEnterVerificationCode:"Enter the one-time password (OTP) obtained from your authenticator app below:",otpScanQRCode:"Scan the QR code using your authenticator app (such as Google Authenticator or any other TOTP app). Alternatively, you can manually enter the OTP secret key into the app.",otpSecretKey:"OTP secret key",passwordFormatHint:"Must be between {minLength} and {maxLength} characters long.",securityKeySetUp:"Use a dedicated security key via USB, Bluetooth, or NFC, or your mobile phone. Connect or activate your security key, then click the button below and follow the prompts to complete the registration.",setPrimaryEmail:"Set this email address to be used for contacting you.",isPrimaryEmail:"This email address will be used to contact you if necessary.",emailVerified:"This email address has been verified.",emailUnverified:"This email address has not been verified.",emailDelete:"If you delete this email address, it can no longer be used to sign in.",renamePasskey:"Set a name for the passkey.",deletePasskey:"Delete this passkey from your account.",deleteAccount:"Are you sure you want to delete this account? All data will be deleted immediately and cannot be recovered.",noAccountExists:'No account exists for "{emailAddress}".',selectLoginMethodForFutureLogins:"Select one of the following login methods to use for future logins.",howDoYouWantToLogin:"How do you want to login?",mfaSetUp:"Protect your account with Multi-Factor Authentication (MFA). MFA adds an additional step to your login process, ensuring that even if your password or email account is compromised, your account stays secure.",securityKeyLogin:"Connect or activate your security key, then click the button below. Once ready, use it via USB, NFC, your mobile phone. Follow the prompts to complete the login process.",otpLogin:"Open your authenticator app to obtain the one-time password (OTP). Enter the code in the field below to complete your login.",renameSecurityKey:"Set a name for the security key.",deleteSecurityKey:"Delete this security key from your account.",authenticatorAppAlreadySetUp:"Your account is secured with an authenticator app that generates time-based one-time passwords (TOTP) for multi-factor authentication.",authenticatorAppNotSetUp:"Secure your account with an authenticator app that generates time-based one-time passwords (TOTP) for multi-factor authentication.",trustDevice:"If you trust this browser, you won’t need to enter your OTP (One-Time-Password) or use your security key for multi-factor authentication (MFA) the next time you log in."},labels:{or:"or",no:"no",yes:"yes",email:"Email",continue:"Continue",copied:"copied",skip:"Skip",save:"Save",password:"Password",passkey:"Passkey",passcode:"Passcode",signInPassword:"Sign in with a password",signInPasscode:"Sign in with a passcode",forgotYourPassword:"Forgot your password?",back:"Back",signInPasskey:"Sign in with a passkey",registerAuthenticator:"Create a passkey",signIn:"Sign in",signUp:"Create account",sendNewPasscode:"Send new code",passwordRetryAfter:"Retry in {passwordRetryAfter}",passcodeResendAfter:"Request a new code in {passcodeResendAfter}",unverifiedEmail:"unverified",primaryEmail:"primary",setAsPrimaryEmail:"Set as primary",verify:"Verify",delete:"Delete",newEmailAddress:"New email address",newPassword:"New password",rename:"Rename",newPasskeyName:"New passkey name",addEmail:"Add email",createPasskey:"Create a passkey",webauthnUnsupported:"Passkeys are not supported by your browser",signInWith:"Sign in with {provider}",deleteAccount:"Yes, delete this account.",emailOrUsername:"Email or username",username:"Username",optional:"optional",dontHaveAnAccount:"Don't have an account?",alreadyHaveAnAccount:"Already have an account?",changeUsername:"Change username",setUsername:"Set username",changePassword:"Change password",setPassword:"Set password",revoke:"Revoke",currentSession:"Current session",authenticatorApp:"Authenticator app",securityKey:"Security key",securityKeyUse:"Use security key",newSecurityKeyName:"New security key name",createSecurityKey:"Add a security key",authenticatorAppManage:"Manage authenticator app",authenticatorAppAdd:"Set up",configured:"configured",useAnotherMethod:"Use another method",lastUsed:"Last used",trustDevice:"Trust this browser",staySignedIn:"Stay signed in"},errors:{somethingWentWrong:"A technical error has occurred. Please try again later.",requestTimeout:"The request timed out.",invalidPassword:"Wrong email or password.",invalidPasscode:"The passcode provided was not correct.",passcodeAttemptsReached:"The passcode was entered incorrectly too many times. Please request a new code.",tooManyRequests:"Too many requests have been made. Please wait to repeat the requested operation.",unauthorized:"Your session has expired. Please log in again.",invalidWebauthnCredential:"This passkey cannot be used anymore.",passcodeExpired:"The passcode has expired. Please request a new one.",userVerification:"User verification required. Please ensure your authenticator device is protected with a PIN or biometric.",emailAddressAlreadyExistsError:"The email address already exists.",maxNumOfEmailAddressesReached:"No further email addresses can be added.",thirdPartyAccessDenied:"Access denied. The request was cancelled by the user or the provider has denied access for other reasons.",thirdPartyMultipleAccounts:"Cannot identify account. The email address is used by multiple accounts.",thirdPartyUnverifiedEmail:"Email verification required. Please verify the used email address with your provider.",signupDisabled:"Account registration is disabled.",handlerNotFoundError:"The current step in your process is not supported by this application version. Please try again later or contact support if the issue persists."},flowErrors:{technical_error:"A technical error has occurred. Please try again later.",flow_expired_error:"The session has expired, please click the button to restart.",value_invalid_error:"The entered value is invalid.",passcode_invalid:"The passcode provided was not correct.",passkey_invalid:"This passkey cannot be used anymore",passcode_max_attempts_reached:"The passcode was entered incorrectly too many times. Please request a new code.",rate_limit_exceeded:"Too many requests have been made. Please wait to repeat the requested operation.",unknown_username_error:"The username is unknown.",unknown_email_error:"The email address is unknown.",username_already_exists:"The username is already taken.",invalid_username_error:"The username must contain only letters, numbers, and underscores.",email_already_exists:"The email is already taken.",not_found:"The requested resource was not found.",operation_not_permitted_error:"The operation is not permitted.",flow_discontinuity_error:"The process cannot be continued due to user settings or the provider's configuration.",form_data_invalid_error:"The submitted form data contains errors.",unauthorized:"Your session has expired. Please log in again.",value_missing_error:"The value is missing.",value_too_long_error:"Value is too long.",value_too_short_error:"The value is too short.",webauthn_credential_invalid_mfa_only:"This credential can be used as a second factor security key only.",webauthn_credential_already_exists:"The request either timed out, was canceled or the device is already registered. Please try again or try using another device.",platform_authenticator_required:"Your account is configured to use platform authenticators, but your current device or browser does not support this feature. Please try again with a compatible device or browser."}}}},No={};function G(o){var e=No[o];if(e!==void 0)return e.exports;var t=No[o]={id:o,exports:{}};return ss[o].call(t.exports,t,t.exports,G),t.exports}G.n=o=>{var e=o&&o.__esModule?()=>o.default:()=>o;return G.d(e,{a:e}),e},G.d=(o,e)=>{for(var t in e)G.o(e,t)&&!G.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:e[t]})},G.o=(o,e)=>Object.prototype.hasOwnProperty.call(o,e),G.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},G.nc=void 0;var te={};G.d(te,{fK:()=>Yt,tJ:()=>ci,Z7:()=>nn,Q9:()=>pi,Lv:()=>ui,qQ:()=>en,I4:()=>_i,O8:()=>Se,ku:()=>Kn,ls:()=>Fn,bO:()=>Bn,yv:()=>tn,AT:()=>Zn,m_:()=>Ct,KG:()=>Vn,DH:()=>Xt,kf:()=>no,oY:()=>Ee,xg:()=>fi,Wg:()=>Ze,J:()=>mi,AC:()=>Jn,D_:()=>Qe,jx:()=>hi,nX:()=>Qn,Nx:()=>zn,Sd:()=>_t,kz:()=>Gr,fX:()=>Gn,qA:()=>Yn,tz:()=>eo,gN:()=>Xn});var Hn={};G.r(Hn),G.d(Hn,{apple:()=>Js,checkmark:()=>Qs,copy:()=>Gs,customProvider:()=>Ys,discord:()=>Xs,exclamation:()=>er,facebook:()=>tr,github:()=>nr,google:()=>or,linkedin:()=>ir,mail:()=>sr,microsoft:()=>rr,passkey:()=>ar,password:()=>lr,qrCodeScanner:()=>cr,securityKey:()=>dr,spinner:()=>ur});var A=G(616),rs=0;function r(o,e,t,n,i,s){var a,d,c={};for(d in e)d=="ref"?a=e[d]:c[d]=e[d];var l={type:o,props:c,key:t,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--rs,__source:i,__self:s};if(typeof o=="function"&&(a=o.defaultProps))for(d in a)c[d]===void 0&&(c[d]=a[d]);return A.options.vnode&&A.options.vnode(l),l}function Jt(){return Jt=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n])}return o},Jt.apply(this,arguments)}var as=["context","children"];function ls(o){this.getChildContext=function(){return o.context};var e=o.children,t=function(n,i){if(n==null)return{};var s,a,d={},c=Object.keys(n);for(a=0;a<c.length;a++)i.indexOf(s=c[a])>=0||(d[s]=n[s]);return d}(o,as);return(0,A.cloneElement)(e,t)}function cs(){var o=new CustomEvent("_preact",{detail:{},bubbles:!0,cancelable:!0});this.dispatchEvent(o),this._vdom=(0,A.h)(ls,Jt({},this._props,{context:o.detail.context}),Ro(this,this._vdomComponent)),(this.hasAttribute("hydrate")?A.hydrate:A.render)(this._vdom,this._root)}function Uo(o){return o.replace(/-(\w)/g,function(e,t){return t?t.toUpperCase():""})}function ds(o,e,t){if(this._vdom){var n={};n[o]=t=t??void 0,n[Uo(o)]=t,this._vdom=(0,A.cloneElement)(this._vdom,n),(0,A.render)(this._vdom,this._root)}}function us(){(0,A.render)(this._vdom=null,this._root)}function Ho(o,e){var t=this;return(0,A.h)("slot",Jt({},o,{ref:function(n){n?(t.ref=n,t._listener||(t._listener=function(i){i.stopPropagation(),i.detail.context=e},n.addEventListener("_preact",t._listener))):t.ref.removeEventListener("_preact",t._listener)}}))}function Ro(o,e){if(o.nodeType===3)return o.data;if(o.nodeType!==1)return null;var t=[],n={},i=0,s=o.attributes,a=o.childNodes;for(i=s.length;i--;)s[i].name!=="slot"&&(n[s[i].name]=s[i].value,n[Uo(s[i].name)]=s[i].value);for(i=a.length;i--;){var d=Ro(a[i],null),c=a[i].slot;c?n[c]=(0,A.h)(Ho,{name:c},d):t[i]=d}var l=e?(0,A.h)(Ho,null,t):t;return(0,A.h)(e||o.nodeName.toLowerCase(),n,l)}var Z=G(7),_=G(78);function qo(o,e){for(var t in e)o[t]=e[t];return o}function Wo(o,e){for(var t in o)if(t!=="__source"&&!(t in e))return!0;for(var n in e)if(n!=="__source"&&o[n]!==e[n])return!0;return!1}function zo(o){this.props=o}(zo.prototype=new A.Component).isPureReactComponent=!0,zo.prototype.shouldComponentUpdate=function(o,e){return Wo(this.props,o)||Wo(this.state,e)};var Fo=A.options.__b;A.options.__b=function(o){o.type&&o.type.__f&&o.ref&&(o.props.ref=o.ref,o.ref=null),Fo&&Fo(o)};var hs=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911,ps=(A.toChildArray,A.options.__e);A.options.__e=function(o,e,t,n){if(o.then){for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),i.__c(o,e)}ps(o,e,t,n)};var Ko=A.options.unmount;function Bo(o,e,t){return o&&(o.__c&&o.__c.__H&&(o.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),o.__c.__H=null),(o=qo({},o)).__c!=null&&(o.__c.__P===t&&(o.__c.__P=e),o.__c=null),o.__k=o.__k&&o.__k.map(function(n){return Bo(n,e,t)})),o}function Vo(o,e,t){return o&&(o.__v=null,o.__k=o.__k&&o.__k.map(function(n){return Vo(n,e,t)}),o.__c&&o.__c.__P===e&&(o.__e&&t.insertBefore(o.__e,o.__d),o.__c.__e=!0,o.__c.__P=t)),o}function Rn(){this.__u=0,this.t=null,this.__b=null}function Zo(o){var e=o.__.__c;return e&&e.__a&&e.__a(o)}function Qt(){this.u=null,this.o=null}A.options.unmount=function(o){var e=o.__c;e&&e.__R&&e.__R(),e&&o.__h===!0&&(o.type=null),Ko&&Ko(o)},(Rn.prototype=new A.Component).__c=function(o,e){var t=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(t);var i=Zo(n.__v),s=!1,a=function(){s||(s=!0,t.__R=null,i?i(d):d())};t.__R=a;var d=function(){if(!--n.__u){if(n.state.__a){var l=n.state.__a;n.__v.__k[0]=Vo(l,l.__c.__P,l.__c.__O)}var u;for(n.setState({__a:n.__b=null});u=n.t.pop();)u.forceUpdate()}},c=e.__h===!0;n.__u++||c||n.setState({__a:n.__b=n.__v.__k[0]}),o.then(a,a)},Rn.prototype.componentWillUnmount=function(){this.t=[]},Rn.prototype.render=function(o,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=Bo(this.__b,t,n.__O=n.__P)}this.__b=null}var i=e.__a&&(0,A.createElement)(A.Fragment,null,o.fallback);return i&&(i.__h=null),[(0,A.createElement)(A.Fragment,null,e.__a?null:o.children),i]};var Jo=function(o,e,t){if(++t[1]===t[0]&&o.o.delete(e),o.props.revealOrder&&(o.props.revealOrder[0]!=="t"||!o.o.size))for(t=o.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;o.u=t=t[2]}};(Qt.prototype=new A.Component).__a=function(o){var e=this,t=Zo(e.__v),n=e.o.get(o);return n[0]++,function(i){var s=function(){e.props.revealOrder?(n.push(i),Jo(e,o,n)):i()};t?t(s):s()}},Qt.prototype.render=function(o){this.u=null,this.o=new Map;var e=(0,A.toChildArray)(o.children);o.revealOrder&&o.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return o.children},Qt.prototype.componentDidUpdate=Qt.prototype.componentDidMount=function(){var o=this;this.o.forEach(function(e,t){Jo(o,t,e)})};var fs=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,ms=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,gs=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,vs=/[A-Z0-9]/g,_s=typeof document<"u",ys=function(o){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(o)};A.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(o){Object.defineProperty(A.Component.prototype,o,{configurable:!0,get:function(){return this["UNSAFE_"+o]},set:function(e){Object.defineProperty(this,o,{configurable:!0,writable:!0,value:e})}})});var Qo=A.options.event;function bs(){}function ks(){return this.cancelBubble}function ws(){return this.defaultPrevented}A.options.event=function(o){return Qo&&(o=Qo(o)),o.persist=bs,o.isPropagationStopped=ks,o.isDefaultPrevented=ws,o.nativeEvent=o};var Go={configurable:!0,get:function(){return this.class}},Yo=A.options.vnode;A.options.vnode=function(o){var e=o.type,t=o.props,n=t;if(typeof e=="string"){for(var i in n={},t){var s=t[i];if(!(i==="value"&&"defaultValue"in t&&s==null||_s&&i==="children"&&e==="noscript")){var a=i.toLowerCase();i==="defaultValue"&&"value"in t&&t.value==null?i="value":i==="download"&&s===!0?s="":a==="ondoubleclick"?i="ondblclick":a!=="onchange"||e!=="input"&&e!=="textarea"||ys(t.type)?a==="onfocus"?i="onfocusin":a==="onblur"?i="onfocusout":gs.test(i)?i=a:e.indexOf("-")===-1&&ms.test(i)?i=i.replace(vs,"-$&").toLowerCase():s===null&&(s=void 0):a=i="oninput",a==="oninput"&&n[i=a]&&(i="oninputCapture"),n[i]=s}}e=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=(0,A.toChildArray)(t.children).forEach(function(d){d.props.selected=n.value.indexOf(d.props.value)!=-1})),e=="select"&&n.defaultValue!=null&&(n.value=(0,A.toChildArray)(t.children).forEach(function(d){d.props.selected=n.multiple?n.defaultValue.indexOf(d.props.value)!=-1:n.defaultValue==d.props.value})),o.props=n,t.class!=t.className&&(Go.enumerable="className"in t,t.className!=null&&(n.class=t.className),Object.defineProperty(n,"className",Go))}o.$$typeof=fs,Yo&&Yo(o)};var Xo=A.options.__r;A.options.__r=function(o){Xo&&Xo(o),o.__c};var ei=A.options.diffed;function ti(o){const e="==".slice(0,(4-o.length%4)%4),t=o.replace(/-/g,"+").replace(/_/g,"/")+e,n=atob(t),i=new ArrayBuffer(n.length),s=new Uint8Array(i);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return i}function ni(o){const e=new Uint8Array(o);let t="";for(const n of e)t+=String.fromCharCode(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}A.options.diffed=function(o){ei&&ei(o);var e=o.props,t=o.__e;t!=null&&o.type==="textarea"&&"value"in e&&e.value!==t.value&&(t.value=e.value==null?"":e.value)},A.Fragment,_.useLayoutEffect,_.useState,_.useId,_.useReducer,_.useEffect,_.useLayoutEffect,_.useRef,_.useImperativeHandle,_.useMemo,_.useCallback,_.useContext,_.useDebugValue,A.createElement,A.createContext,A.createRef,A.Fragment,A.Component;var de="copy",Ve="convert";function gt(o,e,t){if(e===de)return t;if(e===Ve)return o(t);if(e instanceof Array)return t.map(n=>gt(o,e[0],n));if(e instanceof Object){const n={};for(const[i,s]of Object.entries(e)){if(s.derive){const a=s.derive(t);a!==void 0&&(t[i]=a)}if(i in t)t[i]!=null?n[i]=gt(o,s.schema,t[i]):n[i]=null;else if(s.required)throw new Error(`Missing key: ${i}`)}return n}}function qn(o,e){return{required:!0,schema:o,derive:e}}function me(o){return{required:!0,schema:o}}function we(o){return{required:!1,schema:o}}var oi={type:me(de),id:me(Ve),transports:we(de)},ii={appid:we(de),appidExclude:we(de),credProps:we(de)},si={appid:we(de),appidExclude:we(de),credProps:we(de)},Ss={publicKey:me({rp:me(de),user:me({id:me(Ve),name:me(de),displayName:me(de)}),challenge:me(Ve),pubKeyCredParams:me(de),timeout:we(de),excludeCredentials:we([oi]),authenticatorSelection:we(de),attestation:we(de),extensions:we(ii)}),signal:we(de)},xs={type:me(de),id:me(de),rawId:me(Ve),authenticatorAttachment:we(de),response:me({clientDataJSON:me(Ve),attestationObject:me(Ve),transports:qn(de,o=>{var e;return((e=o.getTransports)==null?void 0:e.call(o))||[]})}),clientExtensionResults:qn(si,o=>o.getClientExtensionResults())},Cs={mediation:we(de),publicKey:me({challenge:me(Ve),timeout:we(de),rpId:we(de),allowCredentials:we([oi]),userVerification:we(de),extensions:we(ii)}),signal:we(de)},As={type:me(de),id:me(de),rawId:me(Ve),authenticatorAttachment:we(de),response:me({clientDataJSON:me(Ve),authenticatorData:me(Ve),signature:me(Ve),userHandle:me(Ve)}),clientExtensionResults:qn(si,o=>o.getClientExtensionResults())};async function ri(o){const e=await navigator.credentials.create(function(t){return gt(ti,Ss,t)}(o));return function(t){return gt(ni,xs,t)}(e)}async function ai(o){const e=await navigator.credentials.get(function(t){return gt(ti,Cs,t)}(o));return function(t){return gt(ni,As,t)}(e)}function Gt(){return Gt=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n])}return o},Gt.apply(this,arguments)}var Os=0;function li(o){return"__private_"+Os+++"_"+o}function Wn(o,e){if(!Object.prototype.hasOwnProperty.call(o,e))throw new TypeError("attempted to use private field on non-instance");return o}class Se extends Error{constructor(e,t,n){super(e),this.code=void 0,this.cause=void 0,this.code=t,this.cause=n,Object.setPrototypeOf(this,Se.prototype)}}class Ee extends Se{constructor(e){super("Technical error","somethingWentWrong",e),Object.setPrototypeOf(this,Ee.prototype)}}class Yt extends Se{constructor(e,t){super("Conflict error","conflict",t),Object.setPrototypeOf(this,Yt.prototype)}}class Xt extends Se{constructor(e){super("Request timed out error","requestTimeout",e),Object.setPrototypeOf(this,Xt.prototype)}}class zn extends Se{constructor(e){super("Request cancelled error","requestCancelled",e),Object.setPrototypeOf(this,zn.prototype)}}class Fn extends Se{constructor(e){super("Invalid password error","invalidPassword",e),Object.setPrototypeOf(this,Fn.prototype)}}class Kn extends Se{constructor(e){super("Invalid Passcode error","invalidPasscode",e),Object.setPrototypeOf(this,Kn.prototype)}}class Bn extends Se{constructor(e){super("Invalid WebAuthn credential error","invalidWebauthnCredential",e),Object.setPrototypeOf(this,Bn.prototype)}}class Vn extends Se{constructor(e){super("Passcode expired error","passcodeExpired",e),Object.setPrototypeOf(this,Vn.prototype)}}class Zn extends Se{constructor(e){super("Maximum number of Passcode attempts reached error","passcodeAttemptsReached",e),Object.setPrototypeOf(this,Zn.prototype)}}class Ct extends Se{constructor(e){super("Not found error","notFound",e),Object.setPrototypeOf(this,Ct.prototype)}}class Jn extends Se{constructor(e,t){super("Too many requests error","tooManyRequests",t),this.retryAfter=void 0,this.retryAfter=e,Object.setPrototypeOf(this,Jn.prototype)}}class Qe extends Se{constructor(e){super("Unauthorized error","unauthorized",e),Object.setPrototypeOf(this,Qe.prototype)}}class en extends Se{constructor(e){super("Forbidden error","forbidden",e),Object.setPrototypeOf(this,en.prototype)}}class Qn extends Se{constructor(e){super("User verification error","userVerification",e),Object.setPrototypeOf(this,Qn.prototype)}}class tn extends Se{constructor(e){super("Maximum number of email addresses reached error","maxNumOfEmailAddressesReached",e),Object.setPrototypeOf(this,tn.prototype)}}class nn extends Se{constructor(e){super("The email address already exists","emailAddressAlreadyExistsError",e),Object.setPrototypeOf(this,nn.prototype)}}class Ze extends Se{constructor(e,t){super("An error occurred during third party sign up/sign in",e,t),Object.setPrototypeOf(this,Ze.prototype)}}const Gn="hanko-session-created",Yn="hanko-session-expired",Xn="hanko-user-logged-out",eo="hanko-user-deleted";class ci extends CustomEvent{constructor(e,t){super(e,{detail:t})}}class di{constructor(){this._dispatchEvent=document.dispatchEvent.bind(document)}dispatch(e,t){this._dispatchEvent(new ci(e,t))}dispatchSessionCreatedEvent(e){this.dispatch(Gn,e)}dispatchSessionExpiredEvent(){this.dispatch(Yn,null)}dispatchUserLoggedOutEvent(){this.dispatch(Xn,null)}dispatchUserDeletedEvent(){this.dispatch(eo,null)}}function on(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)o[n]=t[n]}return o}var to=function o(e,t){function n(i,s,a){if(typeof document<"u"){typeof(a=on({},t,a)).expires=="number"&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var d="";for(var c in a)a[c]&&(d+="; "+c,a[c]!==!0&&(d+="="+a[c].split(";")[0]));return document.cookie=i+"="+e.write(s,i)+d}}return Object.create({set:n,get:function(i){if(typeof document<"u"&&(!arguments.length||i)){for(var s=document.cookie?document.cookie.split("; "):[],a={},d=0;d<s.length;d++){var c=s[d].split("="),l=c.slice(1).join("=");try{var u=decodeURIComponent(c[0]);if(a[u]=e.read(l,u),i===u)break}catch{}}return i?a[i]:a}},remove:function(i,s){n(i,"",on({},s,{expires:-1}))},withAttributes:function(i){return o(this.converter,on({},this.attributes,i))},withConverter:function(i){return o(on({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}({read:function(o){return o[0]==='"'&&(o=o.slice(1,-1)),o.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(o){return encodeURIComponent(o).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});class Ps{constructor(e){var t;this.authCookieName=void 0,this.authCookieDomain=void 0,this.authCookieSameSite=void 0,this.authCookieName=e.cookieName,this.authCookieDomain=e.cookieDomain,this.authCookieSameSite=(t=e.cookieSameSite)!=null?t:"lax"}getAuthCookie(){return to.get(this.authCookieName)}setAuthCookie(e,t){const n={secure:!0,sameSite:this.authCookieSameSite};this.authCookieDomain!==void 0&&(n.domain=this.authCookieDomain);const i=Gt({},n,t);if((i.sameSite==="none"||i.sameSite==="None")&&i.secure===!1)throw new Ee(new Error("Secure attribute must be set when SameSite=None"));to.set(this.authCookieName,e,i)}removeAuthCookie(){to.remove(this.authCookieName)}}class Es{constructor(e){this.keyName=void 0,this.keyName=e.keyName}getSessionToken(){return sessionStorage.getItem(this.keyName)}setSessionToken(e){sessionStorage.setItem(this.keyName,e)}removeSessionToken(){sessionStorage.removeItem(this.keyName)}}class Is{constructor(e){this._xhr=void 0,this._xhr=e}getResponseHeader(e){return this._xhr.getResponseHeader(e)}}class js{constructor(e){this.headers=void 0,this.ok=void 0,this.status=void 0,this.statusText=void 0,this.url=void 0,this._decodedJSON=void 0,this.xhr=void 0,this.headers=new Is(e),this.ok=e.status>=200&&e.status<=299,this.status=e.status,this.statusText=e.statusText,this.url=e.responseURL,this.xhr=e}json(){return this._decodedJSON||(this._decodedJSON=JSON.parse(this.xhr.response)),this._decodedJSON}parseNumericHeader(e){const t=parseInt(this.headers.getResponseHeader(e),10);return isNaN(t)?0:t}}class $s{constructor(e,t){this.timeout=void 0,this.api=void 0,this.dispatcher=void 0,this.cookie=void 0,this.sessionTokenStorage=void 0,this.lang=void 0,this.sessionTokenLocation=void 0,this.api=e,this.timeout=t.timeout,this.dispatcher=new di,this.cookie=new Ps(Gt({},t)),this.sessionTokenStorage=new Es({keyName:t.cookieName}),this.lang=t.lang,this.sessionTokenLocation=t.sessionTokenLocation}_fetch(e,t,n=new XMLHttpRequest){const i=this,s=this.api+e,a=this.timeout,d=this.getAuthToken(),c=this.lang;return new Promise(function(l,u){n.open(t.method,s,!0),n.setRequestHeader("Accept","application/json"),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("X-Language",c),d&&n.setRequestHeader("Authorization",`Bearer ${d}`),n.timeout=a,n.withCredentials=!0,n.onload=()=>{i.processHeaders(n),l(new js(n))},n.onerror=()=>{u(new Ee)},n.ontimeout=()=>{u(new Xt)},n.send(t.body?t.body.toString():null)})}_fetch_blocking(e,t,n=new XMLHttpRequest){const i=this.api+e,s=this.getAuthToken();return n.open(t.method,i,!1),n.setRequestHeader("Accept","application/json"),n.setRequestHeader("Content-Type","application/json"),s&&n.setRequestHeader("Authorization",`Bearer ${s}`),n.withCredentials=!0,n.send(t.body?t.body.toString():null),n.responseText}processHeaders(e){let t="",n=0,i="";if(e.getAllResponseHeaders().split(`\r
`).forEach(s=>{const a=s.toLowerCase();a.startsWith("x-auth-token")?t=e.getResponseHeader("X-Auth-Token"):a.startsWith("x-session-lifetime")?n=parseInt(e.getResponseHeader("X-Session-Lifetime"),10):a.startsWith("x-session-retention")&&(i=e.getResponseHeader("X-Session-Retention"))}),t){const s=new RegExp("^https://"),a=!!this.api.match(s)&&!!window.location.href.match(s),d=i==="session"?void 0:new Date(new Date().getTime()+1e3*n);this.setAuthToken(t,{secure:a,expires:d})}}get(e){return this._fetch(e,{method:"GET"})}post(e,t){return this._fetch(e,{method:"POST",body:JSON.stringify(t)})}put(e,t){return this._fetch(e,{method:"PUT",body:JSON.stringify(t)})}patch(e,t){return this._fetch(e,{method:"PATCH",body:JSON.stringify(t)})}delete(e){return this._fetch(e,{method:"DELETE"})}getAuthToken(){let e="";switch(this.sessionTokenLocation){case"cookie":e=this.cookie.getAuthCookie();break;case"sessionStorage":e=this.sessionTokenStorage.getSessionToken()}return e}setAuthToken(e,t){switch(this.sessionTokenLocation){case"cookie":return this.cookie.setAuthCookie(e,t);case"sessionStorage":return this.sessionTokenStorage.setSessionToken(e)}}}class at{constructor(e,t){this.client=void 0,this.client=new $s(e,t)}}class ui extends at{getDomain(e){if(!e)throw new Ze("somethingWentWrong",new Error("email missing from request"));const t=e.split("@");if(t.length!==2)throw new Ze("somethingWentWrong",new Error("email is not in a valid email format."));const n=t[1].trim();if(n==="")throw new Ze("somethingWentWrong",new Error("email is not in a valid email format."));return n}async hasProvider(e){const t=this.getDomain(e);return this.client.get(`/saml/provider?domain=${t}`).then(n=>{if(n.status==404)throw new Ct(new Error("provider not found"));if(!n.ok)throw new Ee(new Error("unable to fetch provider"));return n.ok})}auth(e,t){const n=new URL("/saml/auth",this.client.api),i=this.getDomain(e);if(!t)throw new Ze("somethingWentWrong",new Error("redirectTo missing from request"));n.searchParams.append("domain",i),n.searchParams.append("redirect_to",t),window.location.assign(n.href)}getError(){const e=new URLSearchParams(window.location.search),t=e.get("error"),n=e.get("error_description");if(t){let i;switch(t){case"access_denied":i="enterpriseAccessDenied";break;case"user_conflict":i="emailAddressAlreadyExistsError";break;case"multiple_accounts":i="enterpriseMultipleAccounts";break;case"unverified_email":i="enterpriseUnverifiedEmail";break;case"email_maxnum":i="maxNumOfEmailAddressesReached";break;default:i="somethingWentWrong"}return new Ze(i,new Error(n))}}}class hi extends at{async getInfo(e){const t=await this.client.post("/user",{email:e});if(t.status===404)throw new Ct;if(!t.ok)throw new Ee;return t.json()}async create(e){const t=await this.client.post("/users",{email:e});if(t.status===409)throw new Yt;if(t.status===403)throw new en;if(!t.ok)throw new Ee;return t.json()}async getCurrent(){const e=await this.client.get("/me");if(e.status===401)throw this.client.dispatcher.dispatchSessionExpiredEvent(),new Qe;if(!e.ok)throw new Ee;const t=e.json(),n=await this.client.get(`/users/${t.id}`);if(n.status===401)throw this.client.dispatcher.dispatchSessionExpiredEvent(),new Qe;if(!n.ok)throw new Ee;return n.json()}async delete(){const e=await this.client.delete("/user");if(e.ok)return this.client.sessionTokenStorage.removeSessionToken(),this.client.cookie.removeAuthCookie(),void this.client.dispatcher.dispatchUserDeletedEvent();throw e.status===401?(this.client.dispatcher.dispatchSessionExpiredEvent(),new Qe):new Ee}async logout(){const e=await this.client.post("/logout");if(this.client.sessionTokenStorage.removeSessionToken(),this.client.cookie.removeAuthCookie(),this.client.dispatcher.dispatchUserLoggedOutEvent(),e.status!==401&&!e.ok)throw new Ee}}class pi extends at{async list(){const e=await this.client.get("/emails");if(e.status===401)throw this.client.dispatcher.dispatchSessionExpiredEvent(),new Qe;if(!e.ok)throw new Ee;return e.json()}async create(e){const t=await this.client.post("/emails",{address:e});if(t.ok)return t.json();throw t.status===400?new nn:t.status===401?(this.client.dispatcher.dispatchSessionExpiredEvent(),new Qe):t.status===409?new tn:new Ee}async setPrimaryEmail(e){const t=await this.client.post(`/emails/${e}/set_primary`);if(t.status===401)throw this.client.dispatcher.dispatchSessionExpiredEvent(),new Qe;if(!t.ok)throw new Ee}async delete(e){const t=await this.client.delete(`/emails/${e}`);if(t.status===401)throw this.client.dispatcher.dispatchSessionExpiredEvent(),new Qe;if(!t.ok)throw new Ee}}class fi extends at{async auth(e,t){const n=new URL("/thirdparty/auth",this.client.api);if(!e)throw new Ze("somethingWentWrong",new Error("provider missing from request"));if(!t)throw new Ze("somethingWentWrong",new Error("redirectTo missing from request"));n.searchParams.append("provider",e),n.searchParams.append("redirect_to",t),window.location.assign(n.href)}getError(){const e=new URLSearchParams(window.location.search),t=e.get("error"),n=e.get("error_description");if(t){let i="";switch(t){case"access_denied":i="thirdPartyAccessDenied";break;case"user_conflict":i="emailAddressAlreadyExistsError";break;case"multiple_accounts":i="thirdPartyMultipleAccounts";break;case"unverified_email":i="thirdPartyUnverifiedEmail";break;case"email_maxnum":i="maxNumOfEmailAddressesReached";break;case"signup_disabled":i="signupDisabled";break;default:i="somethingWentWrong"}return new Ze(i,new Error(n))}}}class mi extends at{async validate(){const e=new URLSearchParams(window.location.search).get("hanko_token");if(!e)return;window.history.replaceState(null,null,window.location.pathname);const t=await this.client.post("/token",{value:e});if(!t.ok)throw new Ee;return t.json()}}class Ds{static throttle(e,t,n={}){const{leading:i=!0,trailing:s=!0}=n;let a,d,c,l=0;const u=()=>{l=i===!1?0:Date.now(),c=null,e.apply(a,d)};return function(...h){const g=Date.now();l||i!==!1||(l=g);const f=t-(g-l);a=this,d=h,f<=0||f>t?(c&&(window.clearTimeout(c),c=null),l=g,e.apply(a,d)):c||s===!1||(c=window.setTimeout(u,f))}}}class sn{constructor(){this.throttleLimit=1e3,this._addEventListener=document.addEventListener.bind(document),this._removeEventListener=document.removeEventListener.bind(document),this._throttle=Ds.throttle}wrapCallback(e,t){const n=i=>{e(i.detail)};return t?this._throttle(n,this.throttleLimit,{leading:!0,trailing:!1}):n}addEventListenerWithType({type:e,callback:t,once:n=!1,throttle:i=!1}){const s=this.wrapCallback(t,i);return this._addEventListener(e,s,{once:n}),()=>this._removeEventListener(e,s)}static mapAddEventListenerParams(e,{once:t,callback:n},i){return{type:e,callback:n,once:t,throttle:i}}addEventListener(e,t,n){return this.addEventListenerWithType(sn.mapAddEventListenerParams(e,t,n))}onSessionCreated(e,t){return this.addEventListener(Gn,{callback:e,once:t},!0)}onSessionExpired(e,t){return this.addEventListener(Yn,{callback:e,once:t},!0)}onUserLoggedOut(e,t){return this.addEventListener(Xn,{callback:e,once:t})}onUserDeleted(e,t){return this.addEventListener(eo,{callback:e,once:t})}}class no extends at{async validate(){const e=await this.client.get("/sessions/validate");if(!e.ok)throw new Ee;return await e.json()}}class Ls extends at{isValid(){let e;try{const t=this.client._fetch_blocking("/sessions/validate",{method:"GET"});e=JSON.parse(t)}catch(t){throw new Ee(t)}return!!e&&e.is_valid}}class Ts{constructor(e){this.storageKey=void 0,this.defaultState={expiration:0,lastCheck:0},this.storageKey=e}load(){const e=window.localStorage.getItem(this.storageKey);return e==null?this.defaultState:JSON.parse(e)}save(e){window.localStorage.setItem(this.storageKey,JSON.stringify(e||this.defaultState))}}class Ms{constructor(e,t){this.onActivityCallback=void 0,this.onInactivityCallback=void 0,this.handleFocus=()=>{this.onActivityCallback()},this.handleBlur=()=>{this.onInactivityCallback()},this.handleVisibilityChange=()=>{document.visibilityState==="visible"?this.onActivityCallback():this.onInactivityCallback()},this.hasFocus=()=>document.hasFocus(),this.onActivityCallback=e,this.onInactivityCallback=t,window.addEventListener("focus",this.handleFocus),window.addEventListener("blur",this.handleBlur),document.addEventListener("visibilitychange",this.handleVisibilityChange)}}class Ns{constructor(e,t,n){this.intervalID=null,this.timeoutID=null,this.checkInterval=void 0,this.checkSession=void 0,this.onSessionExpired=void 0,this.checkInterval=e,this.checkSession=t,this.onSessionExpired=n}scheduleSessionExpiry(e){var t=this;this.stop(),this.timeoutID=setTimeout(async function(){t.stop(),t.onSessionExpired()},e)}start(e=0,t=0){var n=this;const i=this.calcTimeToNextCheck(e);this.sessionExpiresSoon(t)?this.scheduleSessionExpiry(i):this.timeoutID=setTimeout(async function(){let s=await n.checkSession();if(s.is_valid){if(n.sessionExpiresSoon(s.expiration))return void n.scheduleSessionExpiry(s.expiration-Date.now());n.intervalID=setInterval(async function(){s=await n.checkSession(),s.is_valid?n.sessionExpiresSoon(s.expiration)&&n.scheduleSessionExpiry(s.expiration-Date.now()):n.stop()},n.checkInterval)}else n.stop()},i)}stop(){this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null),this.intervalID&&(clearInterval(this.intervalID),this.intervalID=null)}isRunning(){return this.timeoutID!==null||this.intervalID!==null}sessionExpiresSoon(e){return e>0&&e-Date.now()<=this.checkInterval}calcTimeToNextCheck(e){const t=Date.now()-e;return this.checkInterval>=t?this.checkInterval-t%this.checkInterval:0}}class Us{constructor(e="hanko_session",t,n,i){this.channel=void 0,this.onSessionExpired=void 0,this.onSessionCreated=void 0,this.onLeadershipRequested=void 0,this.handleMessage=s=>{const a=s.data;switch(a.action){case"sessionExpired":this.onSessionExpired(a);break;case"sessionCreated":this.onSessionCreated(a);break;case"requestLeadership":this.onLeadershipRequested(a)}},this.onSessionExpired=t,this.onSessionCreated=n,this.onLeadershipRequested=i,this.channel=new BroadcastChannel(e),this.channel.onmessage=this.handleMessage}post(e){this.channel.postMessage(e)}}class Hs extends di{constructor(e,t){super(),this.listener=new sn,this.checkInterval=3e4,this.client=void 0,this.sessionState=void 0,this.windowActivityManager=void 0,this.scheduler=void 0,this.sessionChannel=void 0,this.isLoggedIn=void 0,this.client=new no(e,t),this.checkInterval=t.sessionCheckInterval,this.sessionState=new Ts(`${t.cookieName}_session_state`),this.sessionChannel=new Us(this.getSessionCheckChannelName(t.sessionTokenLocation,t.sessionCheckChannelName),()=>this.onChannelSessionExpired(),s=>this.onChannelSessionCreated(s),()=>this.onChannelLeadershipRequested()),this.scheduler=new Ns(this.checkInterval,()=>this.checkSession(),()=>this.onSessionExpired()),this.windowActivityManager=new Ms(()=>this.startSessionCheck(),()=>this.scheduler.stop());const n=Date.now(),{expiration:i}=this.sessionState.load();this.isLoggedIn=n<i,this.initializeEventListeners(),this.startSessionCheck()}initializeEventListeners(){this.listener.onSessionCreated(e=>{const{claims:t}=e,n=Date.parse(t.expiration),i=Date.now();this.isLoggedIn=!0,this.sessionState.save({expiration:n,lastCheck:i}),this.sessionChannel.post({action:"sessionCreated",claims:t}),this.startSessionCheck()}),this.listener.onUserLoggedOut(()=>{this.isLoggedIn=!1,this.sessionChannel.post({action:"sessionExpired"}),this.sessionState.save(null),this.scheduler.stop()}),window.addEventListener("beforeunload",()=>this.scheduler.stop())}startSessionCheck(){if(!this.windowActivityManager.hasFocus()||(this.sessionChannel.post({action:"requestLeadership"}),this.scheduler.isRunning()))return;const{lastCheck:e,expiration:t}=this.sessionState.load();this.isLoggedIn&&this.scheduler.start(e,t)}async checkSession(){const e=Date.now(),{is_valid:t,claims:n,expiration_time:i}=await this.client.validate(),s=i?Date.parse(i):0;return!t&&this.isLoggedIn&&this.dispatchSessionExpiredEvent(),t?(this.isLoggedIn=!0,this.sessionState.save({lastCheck:e,expiration:s})):(this.isLoggedIn=!1,this.sessionState.save(null),this.sessionChannel.post({action:"sessionExpired"})),{is_valid:t,claims:n,expiration:s}}onSessionExpired(){this.isLoggedIn&&(this.isLoggedIn=!1,this.sessionState.save(null),this.sessionChannel.post({action:"sessionExpired"}),this.dispatchSessionExpiredEvent())}onChannelSessionExpired(){this.isLoggedIn&&(this.isLoggedIn=!1,this.dispatchSessionExpiredEvent())}onChannelSessionCreated(e){const{claims:t}=e,n=Date.now(),i=Date.parse(t.expiration)-n;this.isLoggedIn=!0,this.dispatchSessionCreatedEvent({claims:t,expirationSeconds:i})}onChannelLeadershipRequested(){this.windowActivityManager.hasFocus()||this.scheduler.stop()}getSessionCheckChannelName(e,t){if(e=="cookie")return t;let n=sessionStorage.getItem("sessionCheckChannelName");return n!=null&&n!==""||(n=`${t}-${Math.floor(100*Math.random())+1}`,sessionStorage.setItem("sessionCheckChannelName",n)),n}}var vt,At=li("actionDefinitions"),oo=li("createActionsProxy");class io{toJSON(){return{name:this.name,payload:this.payload,error:this.error,status:this.status,csrf_token:this.csrf_token,actions:Wn(this,At)[At]}}constructor({name:e,payload:t,error:n,status:i,actions:s,csrf_token:a},d){Object.defineProperty(this,oo,{value:Rs}),this.name=void 0,this.payload=void 0,this.error=void 0,this.status=void 0,this.csrf_token=void 0,Object.defineProperty(this,At,{writable:!0,value:void 0}),this.actions=void 0,this.fetchNextState=void 0,this.name=e,this.payload=t,this.error=n,this.status=i,this.csrf_token=a,Wn(this,At)[At]=s,this.actions=Wn(this,oo)[oo](s,a),this.fetchNextState=d}runAction(e,t){const n={};if("inputs"in e&&typeof e.inputs=="object"&&e.inputs!==null){const i=e.inputs;for(const s in e.inputs){const a=i[s];a&&"value"in a&&(n[s]=a.value)}}return this.fetchNextState(e.href,{input_data:n,csrf_token:t})}validateAction(e){if("inputs"in e)for(const t in e.inputs){let i=function(a,d,c,l){throw new gi({reason:a,inputName:t,wanted:c,actual:l,message:d})};const n=e.inputs[t],s=n.value;n.required&&!s&&i(vt.Required,"is required"),(n.min_length!=null||n.max_length!=null)&&("length"in s||i(vt.InvalidInputDefinition,'has min/max length requirement, but is missing "length" property',"string",typeof s),n.min_length!=null&&s<n.min_length&&i(vt.MinLength,`too short (min ${n.min_length})`,n.min_length,s.length),n.max_length!=null&&s>n.max_length&&i(vt.MaxLength,`too long (max ${n.max_length})`,n.max_length,s.length))}}}function Rs(o,e){const t=i=>this.runAction(i,e),n=i=>this.validateAction(i);return new Proxy(o,{get(i,s){if(typeof s=="symbol")return i[s];const a=i[s];return a==null?null:d=>{const c=Object.assign(JSON.parse(JSON.stringify(a)),{validate:()=>(n(c),c),tryValidate(){try{n(c)}catch(l){if(l instanceof gi)return l;throw l}},run:()=>t(c)});if(c!==null&&typeof c=="object"&&"inputs"in c)for(const l in d){const u=c.inputs;u[l]||(u[l]={name:l,type:""}),u[l].value=d[l]}return c}}})}(function(o){o[o.InvalidInputDefinition=0]="InvalidInputDefinition",o[o.MinLength=1]="MinLength",o[o.MaxLength=2]="MaxLength",o[o.Required=3]="Required"})(vt||(vt={}));class gi extends Error{constructor(e){super(`"${e.inputName}" ${e.message}`),this.reason=void 0,this.inputName=void 0,this.wanted=void 0,this.actual=void 0,this.name="ValidationError",this.reason=e.reason,this.inputName=e.inputName,this.wanted=e.wanted,this.actual=e.actual}}function vi(o){return typeof o=="object"&&o!==null&&"status"in o&&"error"in o&&"name"in o&&!!o.name&&!!o.status}class qs extends at{constructor(...e){var t;super(...e),t=this,this.run=async function(n,i){try{if(!vi(n))throw new Ws(n);const a=i[n.name];if(!a)throw new so(n);let d=await a(n);if(typeof(s=d)=="object"&&s!==null&&"href"in s&&"inputs"in s&&(d=await d.run()),vi(d))return t.run(d,i)}catch(a){if(typeof i.onError=="function")return i.onError(a)}var s}}async init(e,t){var n=this;const i=await async function s(a,d){try{const c=await n.client.post(a,d);return new io(c.json(),s)}catch(c){t.onError==null||t.onError(c)}}(e);await this.run(i,t)}async fromString(e,t){var n=this;const i=new io(JSON.parse(e),async function s(a,d){try{const c=await n.client.post(a,d);return new io(c.json(),s)}catch(c){t.onError==null||t.onError(c)}});await this.run(i,t)}}class so extends Se{constructor(e){super("No handler found for state: "+(typeof e.name=="string"?`"${e.name}"`:`(${typeof e.name})`),"handlerNotFoundError"),this.state=void 0,this.state=e,Object.setPrototypeOf(this,so.prototype)}}class Ws extends Error{constructor(e){super("Invalid state: "+(typeof e.name=="string"?`"${e.name}"`:`(${typeof e.name})`)),this.state=void 0,this.state=e}}class _i extends sn{constructor(e,t){super(),this.api=void 0,this.user=void 0,this.email=void 0,this.thirdParty=void 0,this.enterprise=void 0,this.token=void 0,this.sessionClient=void 0,this.session=void 0,this.relay=void 0,this.flow=void 0;const n={timeout:13e3,cookieName:"hanko",localStorageKey:"hanko",sessionCheckInterval:3e4,sessionCheckChannelName:"hanko-session-check",sessionTokenLocation:"cookie"};(t==null?void 0:t.cookieName)!==void 0&&(n.cookieName=t.cookieName),(t==null?void 0:t.timeout)!==void 0&&(n.timeout=t.timeout),(t==null?void 0:t.localStorageKey)!==void 0&&(n.localStorageKey=t.localStorageKey),(t==null?void 0:t.cookieDomain)!==void 0&&(n.cookieDomain=t.cookieDomain),(t==null?void 0:t.cookieSameSite)!==void 0&&(n.cookieSameSite=t.cookieSameSite),(t==null?void 0:t.lang)!==void 0&&(n.lang=t.lang),(t==null?void 0:t.sessionCheckInterval)!==void 0&&(n.sessionCheckInterval=t.sessionCheckInterval<3e3?3e3:t.sessionCheckInterval),(t==null?void 0:t.sessionCheckChannelName)!==void 0&&(n.sessionCheckChannelName=t.sessionCheckChannelName),(t==null?void 0:t.sessionTokenLocation)!==void 0&&(n.sessionTokenLocation=t.sessionTokenLocation),this.api=e,this.user=new hi(e,n),this.email=new pi(e,n),this.thirdParty=new fi(e,n),this.enterprise=new ui(e,n),this.token=new mi(e,n),this.sessionClient=new no(e,n),this.session=new Ls(e,n),this.relay=new Hs(e,n),this.flow=new qs(e,n)}setLang(e){this.flow.client.lang=e}}class _t{static supported(){return!!(navigator.credentials&&navigator.credentials.create&&navigator.credentials.get&&window.PublicKeyCredential)}static async isPlatformAuthenticatorAvailable(){return!(!this.supported()||!window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable)&&window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()}static async isSecurityKeySupported(){return window.PublicKeyCredential!==void 0&&window.PublicKeyCredential.isExternalCTAP2SecurityKeySupported?window.PublicKeyCredential.isExternalCTAP2SecurityKeySupported():this.supported()}static async isConditionalMediationAvailable(){return!(!window.PublicKeyCredential||!window.PublicKeyCredential.isConditionalMediationAvailable)&&window.PublicKeyCredential.isConditionalMediationAvailable()}}var zs=G(292),Ge=G.n(zs),Fs=G(360),Ye=G.n(Fs),Ks=G(884),Xe=G.n(Ks),Bs=G(88),et=G.n(Bs),rn=G(914),Ot={};Ot.setAttributes=Xe(),Ot.insert=o=>{window._hankoStyle=o},Ot.domAPI=Ye(),Ot.insertStyleElement=et(),Ge()(rn.A,Ot);const Pt=rn.A&&rn.A.locals?rn.A.locals:void 0,Vs=function(o){function e(t){var n=qo({},t);return delete n.ref,o(n,t.ref||null)}return e.$$typeof=hs,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(o.displayName||o.name)+")",e}((o,e)=>{const{lang:t,hanko:n,setHanko:i}=(0,_.useContext)(he),{setLang:s}=(0,_.useContext)(Z.TranslateContext);return(0,_.useEffect)(()=>{s(t.replace(/[-]/,"")),i(a=>(a.setLang(t),a))},[n,t,i,s]),r("section",Object.assign({part:"container",className:Pt.container,ref:e},{children:o.children}))});var an=G(697),Et={};Et.setAttributes=Xe(),Et.insert=o=>{window._hankoStyle=o},Et.domAPI=Ye(),Et.insertStyleElement=et(),Ge()(an.A,Et);const D=an.A&&an.A.locals?an.A.locals:void 0;var Zs=G(633),J=G.n(Zs);const Js=({size:o,secondary:e,disabled:t})=>r("svg",Object.assign({id:"icon-apple",xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"20.5 16 15 19",className:J()(D.icon,e&&D.secondary,t&&D.disabled)},{children:r("path",{d:"M28.2226562,20.3846154 C29.0546875,20.3846154 30.0976562,19.8048315 30.71875,19.0317864 C31.28125,18.3312142 31.6914062,17.352829 31.6914062,16.3744437 C31.6914062,16.2415766 31.6796875,16.1087095 31.65625,16 C30.7304687,16.0362365 29.6171875,16.640178 28.9492187,17.4494596 C28.421875,18.06548 27.9414062,19.0317864 27.9414062,20.0222505 C27.9414062,20.1671964 27.9648438,20.3121424 27.9765625,20.3604577 C28.0351562,20.3725366 28.1289062,20.3846154 28.2226562,20.3846154 Z M25.2929688,35 C26.4296875,35 26.9335938,34.214876 28.3515625,34.214876 C29.7929688,34.214876 30.109375,34.9758423 31.375,34.9758423 C32.6171875,34.9758423 33.4492188,33.792117 34.234375,32.6325493 C35.1132812,31.3038779 35.4765625,29.9993643 35.5,29.9389701 C35.4179688,29.9148125 33.0390625,28.9122695 33.0390625,26.0979021 C33.0390625,23.6579784 34.9140625,22.5588048 35.0195312,22.474253 C33.7773438,20.6382708 31.890625,20.5899555 31.375,20.5899555 C29.9804688,20.5899555 28.84375,21.4596313 28.1289062,21.4596313 C27.3554688,21.4596313 26.3359375,20.6382708 25.1289062,20.6382708 C22.8320312,20.6382708 20.5,22.5950413 20.5,26.2911634 C20.5,28.5861411 21.3671875,31.013986 22.4335938,32.5842339 C23.3476562,33.9129053 24.1445312,35 25.2929688,35 Z"})})),Qs=({secondary:o,size:e,fadeOut:t,disabled:n})=>r("svg",Object.assign({id:"icon-checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 40 40",width:e,height:e,className:J()(D.checkmark,o&&D.secondary,t&&D.fadeOut,n&&D.disabled)},{children:r("path",{d:"M21.05 33.1 35.2 18.95l-2.3-2.25-11.85 11.85-6-6-2.25 2.25ZM24 44q-4.1 0-7.75-1.575-3.65-1.575-6.375-4.3-2.725-2.725-4.3-6.375Q4 28.1 4 24q0-4.15 1.575-7.8 1.575-3.65 4.3-6.35 2.725-2.7 6.375-4.275Q19.9 4 24 4q4.15 0 7.8 1.575 3.65 1.575 6.35 4.275 2.7 2.7 4.275 6.35Q44 19.85 44 24q0 4.1-1.575 7.75-1.575 3.65-4.275 6.375t-6.35 4.3Q28.15 44 24 44Zm0-3q7.1 0 12.05-4.975Q41 31.05 41 24q0-7.1-4.95-12.05Q31.1 7 24 7q-7.05 0-12.025 4.95Q7 16.9 7 24q0 7.05 4.975 12.025Q16.95 41 24 41Zm0-17Z"})})),Gs=({size:o,secondary:e,disabled:t})=>r("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",width:o,height:o,className:J()(D.icon,e&&D.secondary,t&&D.disabled)},{children:r("path",{d:"M360-240q-33 0-56.5-23.5T280-320v-480q0-33 23.5-56.5T360-880h360q33 0 56.5 23.5T800-800v480q0 33-23.5 56.5T720-240H360Zm0-80h360v-480H360v480ZM200-80q-33 0-56.5-23.5T120-160v-560h80v560h440v80H200Zm160-240v-480 480Z"})})),Ys=({size:o,secondary:e,disabled:t})=>r("svg",Object.assign({id:"icon-custom-provider",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:o,height:o,className:J()(D.icon,e&&D.secondary,t&&D.disabled)},{children:[r("path",{d:"M0 0h24v24H0z",fill:"none"}),r("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"})]})),Xs=({size:o,secondary:e,disabled:t})=>r("svg",Object.assign({id:"icon-discord",fill:"#fff",xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 127.14 96.36",className:J()(D.icon,e&&D.secondary,t&&D.disabled)},{children:r("path",{d:"M107.7,8.07A105.15,105.15,0,0,0,81.47,0a72.06,72.06,0,0,0-3.36,6.83A97.68,97.68,0,0,0,49,6.83,72.37,72.37,0,0,0,45.64,0,105.89,105.89,0,0,0,19.39,8.09C2.79,32.65-1.71,56.6.54,80.21h0A105.73,105.73,0,0,0,32.71,96.36,77.7,77.7,0,0,0,39.6,85.25a68.42,68.42,0,0,1-10.85-5.18c.91-.66,1.8-1.34,2.66-2a75.57,75.57,0,0,0,64.32,0c.87.71,1.76,1.39,2.66,2a68.68,68.68,0,0,1-10.87,5.19,77,77,0,0,0,6.89,11.1A105.25,105.25,0,0,0,126.6,80.22h0C129.24,52.84,122.09,29.11,107.7,8.07ZM42.45,65.69C36.18,65.69,31,60,31,53s5-12.74,11.43-12.74S54,46,53.89,53,48.84,65.69,42.45,65.69Zm42.24,0C78.41,65.69,73.25,60,73.25,53s5-12.74,11.44-12.74S96.23,46,96.12,53,91.08,65.69,84.69,65.69Z"})})),er=({size:o,secondary:e,disabled:t})=>r("svg",Object.assign({id:"icon-exclamation",xmlns:"http://www.w3.org/2000/svg",viewBox:"5 2 13 20",width:o,height:o,className:J()(D.exclamationMark,e&&D.secondary,t&&D.disabled)},{children:r("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})})),tr=({size:o,secondary:e,disabled:t})=>r("svg",Object.assign({width:o,height:o,viewBox:"0 0 666.66668 666.66717",xmlns:"http://www.w3.org/2000/svg"},{children:[r("defs",Object.assign({id:"defs13"},{children:r("clipPath",Object.assign({clipPathUnits:"userSpaceOnUse",id:"clipPath25"},{children:r("path",{d:"M 0,700 H 700 V 0 H 0 Z",id:"path23"})}))})),r("g",Object.assign({id:"g17",transform:"matrix(1.3333333,0,0,-1.3333333,-133.33333,799.99999)"},{children:r("g",Object.assign({id:"g19"},{children:r("g",Object.assign({id:"g21",clipPath:"url(#clipPath25)"},{children:[r("g",Object.assign({id:"g27",transform:"translate(600,350)"},{children:r("path",{className:J()(D.facebookIcon,t?D.disabledOutline:D.outline),d:"m 0,0 c 0,138.071 -111.929,250 -250,250 -138.071,0 -250,-111.929 -250,-250 0,-117.245 80.715,-215.622 189.606,-242.638 v 166.242 h -51.552 V 0 h 51.552 v 32.919 c 0,85.092 38.508,124.532 122.048,124.532 15.838,0 43.167,-3.105 54.347,-6.211 V 81.986 c -5.901,0.621 -16.149,0.932 -28.882,0.932 -40.993,0 -56.832,-15.528 -56.832,-55.9 V 0 h 81.659 l -14.028,-76.396 h -67.631 V -248.169 C -95.927,-233.218 0,-127.818 0,0",id:"path29"})})),r("g",Object.assign({id:"g31",transform:"translate(447.9175,273.6036)"},{children:r("path",{className:J()(D.facebookIcon,t?D.disabledLetter:D.letter),d:"M 0,0 14.029,76.396 H -67.63 v 27.019 c 0,40.372 15.838,55.899 56.831,55.899 12.733,0 22.981,-0.31 28.882,-0.931 v 69.253 c -11.18,3.106 -38.509,6.212 -54.347,6.212 -83.539,0 -122.048,-39.441 -122.048,-124.533 V 76.396 h -51.552 V 0 h 51.552 v -166.242 c 19.343,-4.798 39.568,-7.362 60.394,-7.362 10.254,0 20.358,0.632 30.288,1.831 L -67.63,0 Z",id:"path33"})}))]}))}))}))]})),nr=({size:o,secondary:e,disabled:t})=>r("svg",Object.assign({id:"icon-github",xmlns:"http://www.w3.org/2000/svg",fill:"#fff",viewBox:"0 0 97.63 96",width:o,height:o,className:J()(D.icon,e&&D.secondary,t&&D.disabled)},{children:[r("path",{d:"M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z"})," "]})),or=({size:o,disabled:e})=>r("svg",Object.assign({id:"icon-google",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:o,height:o,className:D.googleIcon},{children:[r("path",{className:J()(D.googleIcon,e?D.disabled:D.blue),d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r("path",{className:J()(D.googleIcon,e?D.disabled:D.green),d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r("path",{className:J()(D.googleIcon,e?D.disabled:D.yellow),d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r("path",{className:J()(D.googleIcon,e?D.disabled:D.red),d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"}),r("path",{d:"M1 1h22v22H1z",fill:"none"})]})),ir=({size:o,secondary:e,disabled:t})=>r("svg",Object.assign({id:"icon-linkedin",fill:"#fff",xmlns:"http://www.w3.org/2000/svg",width:o,viewBox:"0 0 24 24",height:o,className:J()(D.icon,e&&D.secondary,t&&D.disabled)},{children:r("path",{d:"M20.5 2h-17A1.5 1.5 0 002 3.5v17A1.5 1.5 0 003.5 22h17a1.5 1.5 0 001.5-1.5v-17A1.5 1.5 0 0020.5 2zM8 19H5v-9h3zM6.5 8.25A1.75 1.75 0 118.3 6.5a1.78 1.78 0 01-1.8 1.75zM19 19h-3v-4.74c0-1.42-.6-1.93-1.38-1.93A1.74 1.74 0 0013 14.19a.66.66 0 000 .14V19h-3v-9h2.9v1.3a3.11 3.11 0 012.7-1.4c1.55 0 3.36.86 3.36 3.66z"})})),sr=({size:o,secondary:e,disabled:t})=>r("svg",Object.assign({id:"icon-mail",xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 -960 960 960",className:J()(D.icon,e&&D.secondary,t&&D.disabled)},{children:r("path",{d:"M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm320-280L160-640v400h640v-400L480-440Zm0-80 320-200H160l320 200ZM160-640v-80 480-400Z"})})),rr=({size:o,disabled:e})=>r("svg",Object.assign({id:"icon-microsoft",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:o,height:o,className:D.microsoftIcon},{children:[r("rect",{className:J()(D.microsoftIcon,e?D.disabled:D.blue),x:"1",y:"1",width:"9",height:"9"}),r("rect",{className:J()(D.microsoftIcon,e?D.disabled:D.green),x:"1",y:"11",width:"9",height:"9"}),r("rect",{className:J()(D.microsoftIcon,e?D.disabled:D.yellow),x:"11",y:"1",width:"9",height:"9"}),r("rect",{className:J()(D.microsoftIcon,e?D.disabled:D.red),x:"11",y:"11",width:"9",height:"9"})]})),ar=({size:o,secondary:e,disabled:t})=>r("svg",Object.assign({id:"icon-passkey",xmlns:"http://www.w3.org/2000/svg",viewBox:"3 1.5 19.5 19",width:o,height:o,className:J()(D.icon,e&&D.secondary,t&&D.disabled)},{children:r("g",Object.assign({id:"icon-passkey-all"},{children:[r("circle",{id:"icon-passkey-head",cx:"10.5",cy:"6",r:"4.5"}),r("path",{id:"icon-passkey-key",d:"M22.5,10.5a3.5,3.5,0,1,0-5,3.15V19L19,20.5,21.5,18,20,16.5,21.5,15l-1.24-1.24A3.5,3.5,0,0,0,22.5,10.5Zm-3.5,0a1,1,0,1,1,1-1A1,1,0,0,1,19,10.5Z"}),r("path",{id:"icon-passkey-body",d:"M14.44,12.52A6,6,0,0,0,12,12H9a6,6,0,0,0-6,6v2H16V14.49A5.16,5.16,0,0,1,14.44,12.52Z"})]}))})),lr=({size:o,secondary:e,disabled:t})=>r("svg",Object.assign({id:"icon-password",xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 -960 960 960",className:J()(D.icon,e&&D.secondary,t&&D.disabled)},{children:r("path",{d:"M80-200v-80h800v80H80Zm46-242-52-30 34-60H40v-60h68l-34-58 52-30 34 58 34-58 52 30-34 58h68v60h-68l34 60-52 30-34-60-34 60Zm320 0-52-30 34-60h-68v-60h68l-34-58 52-30 34 58 34-58 52 30-34 58h68v60h-68l34 60-52 30-34-60-34 60Zm320 0-52-30 34-60h-68v-60h68l-34-58 52-30 34 58 34-58 52 30-34 58h68v60h-68l34 60-52 30-34-60-34 60Z"})})),cr=({size:o,secondary:e,disabled:t})=>r("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",width:o,height:o,className:J()(D.icon,e&&D.secondary,t&&D.disabled)},{children:r("path",{d:"M80-680v-200h200v80H160v120H80Zm0 600v-200h80v120h120v80H80Zm600 0v-80h120v-120h80v200H680Zm120-600v-120H680v-80h200v200h-80ZM700-260h60v60h-60v-60Zm0-120h60v60h-60v-60Zm-60 60h60v60h-60v-60Zm-60 60h60v60h-60v-60Zm-60-60h60v60h-60v-60Zm120-120h60v60h-60v-60Zm-60 60h60v60h-60v-60Zm-60-60h60v60h-60v-60Zm240-320v240H520v-240h240ZM440-440v240H200v-240h240Zm0-320v240H200v-240h240Zm-60 500v-120H260v120h120Zm0-320v-120H260v120h120Zm320 0v-120H580v120h120Z"})})),dr=({size:o,secondary:e,disabled:t})=>r("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",width:o,height:o,className:J()(D.icon,e&&D.secondary,t&&D.disabled)},{children:r("path",{d:"M280-240q-100 0-170-70T40-480q0-100 70-170t170-70q66 0 121 33t87 87h432v240h-80v120H600v-120H488q-32 54-87 87t-121 33Zm0-80q66 0 106-40.5t48-79.5h246v120h80v-120h80v-80H434q-8-39-48-79.5T280-640q-66 0-113 47t-47 113q0 66 47 113t113 47Zm0-80q33 0 56.5-23.5T360-480q0-33-23.5-56.5T280-560q-33 0-56.5 23.5T200-480q0 33 23.5 56.5T280-400Zm0-80Z"})})),ur=({size:o,disabled:e})=>r("svg",Object.assign({id:"icon-spinner",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:o,height:o,className:J()(D.loadingSpinner,e&&D.disabled)},{children:[r("path",{d:"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z",opacity:".25"}),r("path",{d:"M10.72,19.9a8,8,0,0,1-6.5-9.79A7.77,7.77,0,0,1,10.4,4.16a8,8,0,0,1,9.49,6.52A1.54,1.54,0,0,0,21.38,12h.13a1.37,1.37,0,0,0,1.38-1.54,11,11,0,1,0-12.7,12.39A1.54,1.54,0,0,0,12,21.34h0A1.47,1.47,0,0,0,10.72,19.9Z"})]})),It=({name:o,secondary:e,size:t=18,fadeOut:n,disabled:i})=>r(Hn[o],{size:t,secondary:e,fadeOut:n,disabled:i}),ro=({children:o,isLoading:e,isSuccess:t,fadeOut:n,secondary:i,hasIcon:s,maxWidth:a})=>r(A.Fragment,{children:r("div",e?Object.assign({className:J()(D.loadingSpinnerWrapper,D.centerContent,a&&D.maxWidth)},{children:r(It,{name:"spinner",secondary:i})}):t?Object.assign({className:J()(D.loadingSpinnerWrapper,D.centerContent,a&&D.maxWidth)},{children:r(It,{name:"checkmark",secondary:i,fadeOut:n})}):Object.assign({className:s?D.loadingSpinnerWrapperIcon:D.loadingSpinnerWrapper},{children:o}))}),hr=()=>{const{setLoadingAction:o}=(0,_.useContext)(he);return(0,_.useEffect)(()=>{o(null)},[]),r(ro,{isLoading:!0})},Le=o=>{const[e,t]=(0,_.useState)(o);return(0,_.useEffect)(()=>{o&&t(o)},[o]),{flowState:e}};var ln=G(577),jt={};jt.setAttributes=Xe(),jt.insert=o=>{window._hankoStyle=o},jt.domAPI=Ye(),jt.insertStyleElement=et(),Ge()(ln.A,jt);const Ae=ln.A&&ln.A.locals?ln.A.locals:void 0,pr=()=>{const{t:o}=(0,_.useContext)(Z.TranslateContext);return r("span",Object.assign({className:J()(Ae.lastUsed)},{children:o("labels.lastUsed")}))},ne=o=>{var{uiAction:e,title:t,children:n,secondary:i,dangerous:s,autofocus:a,showLastUsed:d,onClick:c,icon:l}=o,u=function(S,P){var $={};for(var M in S)Object.prototype.hasOwnProperty.call(S,M)&&P.indexOf(M)<0&&($[M]=S[M]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function"){var N=0;for(M=Object.getOwnPropertySymbols(S);N<M.length;N++)P.indexOf(M[N])<0&&Object.prototype.propertyIsEnumerable.call(S,M[N])&&($[M[N]]=S[M[N]])}return $}(o,["uiAction","title","children","secondary","dangerous","autofocus","showLastUsed","onClick","icon"]);const h=(0,_.useRef)(null),{uiState:g,isDisabled:f}=(0,_.useContext)(he);(0,_.useEffect)(()=>{const{current:S}=h;S&&a&&S.focus()},[a]);const x=(0,_.useMemo)(()=>e&&g.loadingAction===e||u.isLoading,[u,e,g]),O=(0,_.useMemo)(()=>e&&g.succeededAction===e||u.isSuccess,[u,e,g]),C=(0,_.useMemo)(()=>f||u.disabled,[u,f]);return r("button",Object.assign({part:s?"button dangerous-button":i?"button secondary-button":"button primary-button",title:t,ref:h,type:"submit",disabled:C,onClick:c,className:J()(Ae.button,s?Ae.dangerous:i?Ae.secondary:Ae.primary)},{children:r(ro,Object.assign({isLoading:x,isSuccess:O,secondary:!0,hasIcon:!!l,maxWidth:!0},{children:[l?r(It,{name:l,secondary:i,disabled:C}):null,r("div",Object.assign({className:Ae.caption},{children:[r("span",{children:n}),d?r(pr,{}):null]}))]}))}))},We=o=>{var e,t,n,i,s,{label:a}=o,d=function(f,x){var O={};for(var C in f)Object.prototype.hasOwnProperty.call(f,C)&&x.indexOf(C)<0&&(O[C]=f[C]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function"){var S=0;for(C=Object.getOwnPropertySymbols(f);S<C.length;S++)x.indexOf(C[S])<0&&Object.prototype.propertyIsEnumerable.call(f,C[S])&&(O[C[S]]=f[C[S]])}return O}(o,["label"]);const c=(0,_.useRef)(null),{isDisabled:l}=(0,_.useContext)(he),{t:u}=(0,_.useContext)(Z.TranslateContext),h=(0,_.useMemo)(()=>l||d.disabled,[d,l]);(0,_.useEffect)(()=>{const{current:f}=c;f&&d.autofocus&&(f.focus(),f.select())},[d.autofocus]);const g=(0,_.useMemo)(()=>{var f;return d.markOptional&&!(!((f=d.flowInput)===null||f===void 0)&&f.required)?`${d.placeholder} (${u("labels.optional")})`:d.placeholder},[d.markOptional,d.placeholder,d.flowInput,u]);return r("div",Object.assign({className:Ae.inputWrapper},{children:r("input",Object.assign({part:"input text-input",required:(e=d.flowInput)===null||e===void 0?void 0:e.required,maxLength:(t=d.flowInput)===null||t===void 0?void 0:t.max_length,minLength:(n=d.flowInput)===null||n===void 0?void 0:n.min_length,hidden:(i=d.flowInput)===null||i===void 0?void 0:i.hidden},d,{ref:c,"aria-label":g,placeholder:g,className:J()(Ae.input,!!(!((s=d.flowInput)===null||s===void 0)&&s.error)&&d.markError&&Ae.error),disabled:h}))}))},Oe=({children:o})=>r("section",Object.assign({className:Pt.content},{children:o})),oe=({onSubmit:o,children:e,hidden:t,maxWidth:n})=>t?null:r("form",Object.assign({onSubmit:o,className:Ae.form},{children:r("ul",Object.assign({className:Ae.ul},{children:(0,A.toChildArray)(e).map((i,s)=>r("li",Object.assign({part:"form-item",className:J()(Ae.li,n?Ae.maxWidth:null)},{children:i}),s))}))}));var cn=G(111),$t={};$t.setAttributes=Xe(),$t.insert=o=>{window._hankoStyle=o},$t.domAPI=Ye(),$t.insertStyleElement=et(),Ge()(cn.A,$t);const Dt=cn.A&&cn.A.locals?cn.A.locals:void 0,ao=({children:o,hidden:e})=>e?null:r("section",Object.assign({part:"divider",className:Dt.divider},{children:[r("div",{part:"divider-line",className:Dt.line}),o?r("div",Object.assign({part:"divider-text",class:Dt.text},{children:o})):null,r("div",{part:"divider-line",className:Dt.line})]}));var dn=G(905),Lt={};Lt.setAttributes=Xe(),Lt.insert=o=>{window._hankoStyle=o},Lt.domAPI=Ye(),Lt.insertStyleElement=et(),Ge()(dn.A,Lt);const yi=dn.A&&dn.A.locals?dn.A.locals:void 0,Pe=({state:o,error:e,flowError:t})=>{var n,i;const{t:s}=(0,_.useContext)(Z.TranslateContext),{uiState:a,setUIState:d}=(0,_.useContext)(he);return(0,_.useEffect)(()=>{var c,l;if(((c=o==null?void 0:o.error)===null||c===void 0?void 0:c.code)=="form_data_invalid_error")for(const u of Object.values(o==null?void 0:o.actions)){const h=u==null?void 0:u(null);let g=!1;for(const f of Object.values(h==null?void 0:h.inputs))if(!((l=f.error)===null||l===void 0)&&l.code)return d(Object.assign(Object.assign({},a),{error:f.error})),void(g=!0);g||d(Object.assign(Object.assign({},a),{error:o.error}))}else o!=null&&o.error&&d(Object.assign(Object.assign({},a),{error:o==null?void 0:o.error}))},[o]),r("section",Object.assign({part:"error",className:yi.errorBox,hidden:!(!((n=a.error)===null||n===void 0)&&n.code)&&!(t!=null&&t.code)&&!e},{children:[r("span",{children:r(It,{name:"exclamation",size:15})}),r("span",Object.assign({id:"errorMessage",part:"error-text"},{children:s(e?`errors.${e.code}`:`flowErrors.${((i=a.error)===null||i===void 0?void 0:i.code)||(t==null?void 0:t.code)}`)}))]}))};var un=G(619),Tt={};Tt.setAttributes=Xe(),Tt.insert=o=>{window._hankoStyle=o},Tt.domAPI=Ye(),Tt.insertStyleElement=et(),Ge()(un.A,Tt);const hn=un.A&&un.A.locals?un.A.locals:void 0,ue=({children:o})=>r("h1",Object.assign({part:"headline1",className:J()(hn.headline,hn.grade1)},{children:o}));var pn=G(995),Mt={};Mt.setAttributes=Xe(),Mt.insert=o=>{window._hankoStyle=o},Mt.domAPI=Ye(),Mt.insertStyleElement=et(),Ge()(pn.A,Mt);const fn=pn.A&&pn.A.locals?pn.A.locals:void 0,lo=o=>{var{loadingSpinnerPosition:e,dangerous:t=!1,onClick:n,uiAction:i}=o,s=function(P,$){var M={};for(var N in P)Object.prototype.hasOwnProperty.call(P,N)&&$.indexOf(N)<0&&(M[N]=P[N]);if(P!=null&&typeof Object.getOwnPropertySymbols=="function"){var ie=0;for(N=Object.getOwnPropertySymbols(P);ie<N.length;ie++)$.indexOf(N[ie])<0&&Object.prototype.propertyIsEnumerable.call(P,N[ie])&&(M[N[ie]]=P[N[ie]])}return M}(o,["loadingSpinnerPosition","dangerous","onClick","uiAction"]);const{t:a}=(0,_.useContext)(Z.TranslateContext),{uiState:d,isDisabled:c}=(0,_.useContext)(he),[l,u]=(0,_.useState)();let h;const g=P=>{P.preventDefault(),u(!0)},f=P=>{P.preventDefault(),u(!1)},x=(0,_.useMemo)(()=>i&&d.loadingAction===i||s.isLoading,[s,i,d]),O=(0,_.useMemo)(()=>i&&d.succeededAction===i||s.isSuccess,[s,i,d]),C=(0,_.useCallback)(P=>{P.preventDefault(),u(!1),n(P)},[n]),S=(0,_.useCallback)(()=>r(A.Fragment,{children:[l?r(A.Fragment,{children:[r(lo,Object.assign({onClick:C},{children:a("labels.yes")}))," / ",r(lo,Object.assign({onClick:f},{children:a("labels.no")}))," "]}):null,r("button",Object.assign({},s,{onClick:t?g:n,disabled:l||s.disabled||c,part:"link",className:J()(fn.link,t?fn.danger:null)},{children:s.children}))]}),[l,t,n,C,s,a,c]);return r(A.Fragment,{children:r("span",Object.assign({className:J()(fn.linkWrapper,e==="right"?fn.reverse:null),hidden:s.hidden,onMouseEnter:()=>{h&&window.clearTimeout(h)},onMouseLeave:()=>{h=window.setTimeout(()=>{u(!1)},1e3)}},{children:r(A.Fragment,e&&(x||O)?{children:[r(ro,{isLoading:x,isSuccess:O,secondary:s.secondary,fadeOut:!0}),S()]}:{children:S()})}))})},X=lo,Te=({children:o,hidden:e=!1})=>e?null:r("section",Object.assign({className:Pt.footer},{children:o})),co=o=>{var{label:e}=o,t=function(n,i){var s={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&i.indexOf(a)<0&&(s[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var d=0;for(a=Object.getOwnPropertySymbols(n);d<a.length;d++)i.indexOf(a[d])<0&&Object.prototype.propertyIsEnumerable.call(n,a[d])&&(s[a[d]]=n[a[d]])}return s}(o,["label"]);return r("div",Object.assign({className:Ae.inputWrapper},{children:r("label",Object.assign({className:Ae.checkboxWrapper},{children:[r("input",Object.assign({part:"input checkbox-input",type:"checkbox","aria-label":e,className:Ae.checkbox},t)),r("span",Object.assign({className:J()(Ae.label,t.disabled?Ae.disabled:null)},{children:e}))]}))}))},mn=()=>r("section",{className:Dt.spacer});var Nt=function(o,e,t,n){return new(t||(t=Promise))(function(i,s){function a(l){try{c(n.next(l))}catch(u){s(u)}}function d(l){try{c(n.throw(l))}catch(u){s(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof t?u:new t(function(h){h(u)})).then(a,d)}c((n=n.apply(o,[])).next())})};const fr=o=>{var e,t,n,i,s,a,d,c,l;const{t:u}=(0,_.useContext)(Z.TranslateContext),{init:h,hanko:g,initialComponentName:f,setLoadingAction:x,uiState:O,setUIState:C,stateHandler:S,hidePasskeyButtonOnLogin:P,lastLogin:$}=(0,_.useContext)(he),[M,N]=(0,_.useState)(null),[ie,be]=(0,_.useState)(O.username||O.email),{flowState:re}=Le(o.state),xe=_t.supported(),[U,W]=(0,_.useState)(void 0),[_e,Me]=(0,_.useState)(null),[je,Ne]=(0,_.useState)(!1),ae=k=>{if(k.preventDefault(),k.target instanceof HTMLInputElement){const{value:p}=k.target;be(p),le(p)}},le=k=>{const p=()=>C(L=>Object.assign(Object.assign({},L),{email:k,username:null})),y=()=>C(L=>Object.assign(Object.assign({},L),{email:null,username:k}));switch(M){case"email":p();break;case"username":y();break;case"identifier":k.match(/^[^@]+@[^@]+\.[^@]+$/)?p():y()}},pe=(0,_.useMemo)(()=>{var k,p,y,L;return!!(!((p=(k=re.actions).webauthn_generate_request_options)===null||p===void 0)&&p.call(k,null))||!!(!((L=(y=re.actions).thirdparty_oauth)===null||L===void 0)&&L.call(y,null))},[re.actions]),$e=(t=(e=re.actions).continue_with_login_identifier)===null||t===void 0?void 0:t.call(e,null).inputs;return(0,_.useEffect)(()=>{var k,p;const y=(p=(k=re.actions).continue_with_login_identifier)===null||p===void 0?void 0:p.call(k,null).inputs;N(y!=null&&y.email?"email":y!=null&&y.username?"username":"identifier")},[re]),(0,_.useEffect)(()=>{const k=new URLSearchParams(window.location.search);if(k.get("error")==null||k.get("error").length===0)return;let p="";p=k.get("error")==="access_denied"?"thirdPartyAccessDenied":"somethingWentWrong";const y={name:p,code:p,message:k.get("error_description")};W(y),k.delete("error"),k.delete("error_description"),history.replaceState(null,null,window.location.pathname+(k.size<1?"":`?${k.toString()}`))},[]),r(A.Fragment,{children:[r(Oe,{children:[r(ue,{children:u("headlines.signIn")}),r(Pe,{state:re,error:U}),$e?r(A.Fragment,{children:[r(oe,Object.assign({onSubmit:k=>Nt(void 0,void 0,void 0,function*(){k.preventDefault(),x("email-submit");const p=yield re.actions.continue_with_login_identifier({[M]:ie}).run();le(ie),x(null),yield g.flow.run(p,S)}),maxWidth:!0},{children:[$e.email?r(We,{type:"email",autoComplete:"username webauthn",autoCorrect:"off",flowInput:$e.email,onInput:ae,value:ie,placeholder:u("labels.email"),pattern:"^[^@]+@[^@]+\\.[^@]+$"}):$e.username?r(We,{type:"text",autoComplete:"username webauthn",autoCorrect:"off",flowInput:$e.username,onInput:ae,value:ie,placeholder:u("labels.username")}):r(We,{type:"text",autoComplete:"username webauthn",autoCorrect:"off",flowInput:$e.identifier,onInput:ae,value:ie,placeholder:u("labels.emailOrUsername")}),r(ne,Object.assign({uiAction:"email-submit"},{children:u("labels.continue")}))]})),r(ao,Object.assign({hidden:!pe},{children:u("labels.or")}))]}):null,!((i=(n=re.actions).webauthn_generate_request_options)===null||i===void 0)&&i.call(n,null)&&!P?r(oe,Object.assign({onSubmit:k=>(p=>Nt(void 0,void 0,void 0,function*(){p.preventDefault(),x("passkey-submit");const y=yield re.actions.webauthn_generate_request_options(null).run();yield g.flow.run(y,S)}))(k)},{children:r(ne,Object.assign({uiAction:"passkey-submit",secondary:!0,title:xe?null:u("labels.webauthnUnsupported"),disabled:!xe,icon:"passkey"},{children:u("labels.signInPasskey")}))})):null,!((a=(s=re.actions).thirdparty_oauth)===null||a===void 0)&&a.call(s,null)?(d=re.actions.thirdparty_oauth(null).inputs.provider.allowed_values)===null||d===void 0?void 0:d.map(k=>r(oe,Object.assign({onSubmit:p=>((y,L)=>Nt(void 0,void 0,void 0,function*(){y.preventDefault(),Me(L);const K=yield re.actions.thirdparty_oauth({provider:L,redirect_to:window.location.toString()}).run();K.error&&Me(null),yield g.flow.run(K,S)}))(p,k.value)},{children:r(ne,Object.assign({isLoading:k.value==_e,secondary:!0,icon:k.value.startsWith("custom_")?"customProvider":k.value,showLastUsed:($==null?void 0:$.login_method)=="third_party"&&($==null?void 0:$.third_party_provider)==k.value},{children:u("labels.signInWith",{provider:k.name})}))}),k.value)):null,((l=(c=re.actions).remember_me)===null||l===void 0?void 0:l.call(c,null))&&r(A.Fragment,{children:[r(mn,{}),r(co,{required:!1,type:"checkbox",label:u("labels.staySignedIn"),checked:je,onChange:k=>Nt(void 0,void 0,void 0,function*(){const p=yield re.actions.remember_me({remember_me:!je}).run();Ne(y=>!y),yield g.flow.run(p,S)})})]})]}),r(Te,Object.assign({hidden:f!=="auth"},{children:[r("span",{hidden:!0}),r(X,Object.assign({uiAction:"switch-flow",onClick:k=>Nt(void 0,void 0,void 0,function*(){k.preventDefault(),h("registration")}),loadingSpinnerPosition:"left"},{children:u("labels.dontHaveAnAccount")}))]}))]})},mr=o=>{var{index:e,focus:t,digit:n=""}=o,i=function(l,u){var h={};for(var g in l)Object.prototype.hasOwnProperty.call(l,g)&&u.indexOf(g)<0&&(h[g]=l[g]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function"){var f=0;for(g=Object.getOwnPropertySymbols(l);f<g.length;f++)u.indexOf(g[f])<0&&Object.prototype.propertyIsEnumerable.call(l,g[f])&&(h[g[f]]=l[g[f]])}return h}(o,["index","focus","digit"]);const s=(0,_.useRef)(null),{isDisabled:a}=(0,_.useContext)(he),d=()=>{const{current:l}=s;l&&(l.focus(),l.select())},c=(0,_.useMemo)(()=>a||i.disabled,[i,a]);return(0,_.useEffect)(()=>{e===0&&d()},[e,i.disabled]),(0,_.useMemo)(()=>{t&&d()},[t]),r("div",Object.assign({className:Ae.passcodeDigitWrapper},{children:r("input",Object.assign({},i,{part:"input passcode-input","aria-label":`${i.name}-digit-${e+1}`,name:i.name+e.toString(10),type:"text",inputMode:"numeric",maxLength:1,ref:s,value:n.charAt(0),required:!0,className:Ae.input,disabled:c}))}))},uo=({passcodeDigits:o=[],numberOfInputs:e=6,onInput:t,disabled:n=!1})=>{const[i,s]=(0,_.useState)(0),a=()=>o.slice(),d=()=>{i<e-1&&s(i+1)},c=()=>{i>0&&s(i-1)},l=f=>{const x=a();x[i]=f.charAt(0),t(x)},u=f=>{if(f.preventDefault(),n)return;const x=f.clipboardData.getData("text/plain").slice(0,e-i).split(""),O=a();let C=i;for(let S=0;S<e;++S)S>=i&&x.length>0&&(O[S]=x.shift(),C++);s(C),t(O)},h=f=>{f.key==="Backspace"?(f.preventDefault(),l(""),c()):f.key==="Delete"?(f.preventDefault(),l("")):f.key==="ArrowLeft"?(f.preventDefault(),c()):f.key==="ArrowRight"?(f.preventDefault(),d()):f.key!==" "&&f.key!=="Spacebar"&&f.key!=="Space"||f.preventDefault()},g=f=>{f.target instanceof HTMLInputElement&&l(f.target.value),d()};return(0,_.useEffect)(()=>{o.length===0&&s(0)},[o]),r("div",Object.assign({className:Ae.passcodeInputWrapper},{children:Array.from(Array(e)).map((f,x)=>r(mr,{name:"passcode",index:x,focus:i===x,digit:o[x],onKeyDown:h,onInput:g,onPaste:u,onFocus:()=>(O=>{s(O)})(x),disabled:n},x))}))};var gn=G(489),Ut={};Ut.setAttributes=Xe(),Ut.insert=o=>{window._hankoStyle=o},Ut.domAPI=Ye(),Ut.insertStyleElement=et(),Ge()(gn.A,Ut);const gr=gn.A&&gn.A.locals?gn.A.locals:void 0,z=({children:o,hidden:e})=>e?null:r("p",Object.assign({part:"paragraph",className:gr.paragraph},{children:o}));var vn=function(o,e,t,n){return new(t||(t=Promise))(function(i,s){function a(l){try{c(n.next(l))}catch(u){s(u)}}function d(l){try{c(n.throw(l))}catch(u){s(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof t?u:new t(function(h){h(u)})).then(a,d)}c((n=n.apply(o,[])).next())})};const vr=o=>{var e,t;const{t:n}=(0,_.useContext)(Z.TranslateContext),{flowState:i}=Le(o.state),{hanko:s,uiState:a,setUIState:d,setLoadingAction:c,setSucceededAction:l,stateHandler:u}=(0,_.useContext)(he),[h,g]=(0,_.useState)(),[f,x]=(0,_.useState)(i.payload.resend_after),[O,C]=(0,_.useState)([]),S=(0,_.useMemo)(()=>{var $;return(($=i.error)===null||$===void 0?void 0:$.code)==="passcode_max_attempts_reached"},[i]),P=(0,_.useCallback)($=>vn(void 0,void 0,void 0,function*(){c("passcode-submit");const M=yield i.actions.verify_passcode({code:$}).run();c(null),yield s.flow.run(M,u)}),[s,i,c,u]);return(0,_.useEffect)(()=>{i.payload.passcode_resent&&(l("passcode-resend"),setTimeout(()=>l(null),1e3))},[i,l]),(0,_.useEffect)(()=>{h<=0&&a.succeededAction},[a,h]),(0,_.useEffect)(()=>{const $=h>0&&setInterval(()=>g(h-1),1e3);return()=>clearInterval($)},[h]),(0,_.useEffect)(()=>{const $=f>0&&setInterval(()=>{x(f-1)},1e3);return()=>clearInterval($)},[f]),(0,_.useEffect)(()=>{var $;f==0&&(($=i.error)===null||$===void 0?void 0:$.code)=="rate_limit_exceeded"&&d(M=>Object.assign(Object.assign({},M),{error:null}))},[f]),(0,_.useEffect)(()=>{var $;(($=i.error)===null||$===void 0?void 0:$.code)==="passcode_invalid"&&C([]),i.payload.resend_after>=0&&x(i.payload.resend_after)},[i]),r(A.Fragment,{children:[r(Oe,{children:[r(ue,{children:n("headlines.loginPasscode")}),r(Pe,{state:i}),r(z,{children:a.email?n("texts.enterPasscode",{emailAddress:a.email}):n("texts.enterPasscodeNoEmail")}),r(oe,Object.assign({onSubmit:$=>vn(void 0,void 0,void 0,function*(){return $.preventDefault(),P(O.join(""))})},{children:[r(uo,{onInput:$=>{if(C($),$.filter(M=>M!=="").length===6)return P($.join(""))},passcodeDigits:O,numberOfInputs:6,disabled:h<=0||S}),r(ne,Object.assign({disabled:h<=0||S,uiAction:"passcode-submit"},{children:n("labels.continue")}))]}))]}),r(Te,{children:[r(X,Object.assign({hidden:!(!((t=(e=i.actions).back)===null||t===void 0)&&t.call(e,null)),onClick:$=>vn(void 0,void 0,void 0,function*(){$.preventDefault(),c("back");const M=yield i.actions.back(null).run();c(null),yield s.flow.run(M,u)}),loadingSpinnerPosition:"right",isLoading:a.loadingAction==="back"},{children:n("labels.back")})),r(X,Object.assign({uiAction:"passcode-resend",disabled:f>0,onClick:$=>vn(void 0,void 0,void 0,function*(){$.preventDefault(),c("passcode-resend");const M=yield i.actions.resend_passcode(null).run();c(null),yield s.flow.run(M,u)}),loadingSpinnerPosition:"left"},{children:f>0?n("labels.passcodeResendAfter",{passcodeResendAfter:f}):n("labels.sendNewPasscode")}))]})]})};var ho=function(o,e,t,n){return new(t||(t=Promise))(function(i,s){function a(l){try{c(n.next(l))}catch(u){s(u)}}function d(l){try{c(n.throw(l))}catch(u){s(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof t?u:new t(function(h){h(u)})).then(a,d)}c((n=n.apply(o,[])).next())})};const _r=o=>{var e,t,n,i,s,a,d,c;const{t:l}=(0,_.useContext)(Z.TranslateContext),{hanko:u,setLoadingAction:h,stateHandler:g}=(0,_.useContext)(he),{flowState:f}=Le(o.state);return r(A.Fragment,{children:[r(Oe,{children:[r(ue,{children:l("headlines.registerAuthenticator")}),r(Pe,{state:f}),r(z,{children:l("texts.setupPasskey")}),r(oe,Object.assign({onSubmit:x=>ho(void 0,void 0,void 0,function*(){x.preventDefault(),h("passkey-submit");const O=yield f.actions.webauthn_generate_creation_options(null).run();yield u.flow.run(O,g)})},{children:r(ne,Object.assign({uiAction:"passkey-submit",autofocus:!0,icon:"passkey"},{children:l("labels.registerAuthenticator")}))}))]}),r(Te,Object.assign({hidden:!(!((t=(e=f.actions).skip)===null||t===void 0)&&t.call(e,null))&&!(!((i=(n=f.actions).back)===null||i===void 0)&&i.call(n,null))},{children:[r(X,Object.assign({uiAction:"back",onClick:x=>ho(void 0,void 0,void 0,function*(){x.preventDefault(),h("back");const O=yield f.actions.back(null).run();h(null),yield u.flow.run(O,g)}),loadingSpinnerPosition:"right",hidden:!(!((a=(s=f.actions).back)===null||a===void 0)&&a.call(s,null))},{children:l("labels.back")})),r(X,Object.assign({uiAction:"skip",onClick:x=>ho(void 0,void 0,void 0,function*(){x.preventDefault(),h("skip");const O=yield f.actions.skip(null).run();h(null),yield u.flow.run(O,g)}),loadingSpinnerPosition:"left",hidden:!(!((c=(d=f.actions).skip)===null||c===void 0)&&c.call(d,null))},{children:l("labels.skip")}))]}))]})};var Ht=function(o,e,t,n){return new(t||(t=Promise))(function(i,s){function a(l){try{c(n.next(l))}catch(u){s(u)}}function d(l){try{c(n.throw(l))}catch(u){s(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof t?u:new t(function(h){h(u)})).then(a,d)}c((n=n.apply(o,[])).next())})};const yr=o=>{var e,t,n,i;const{t:s}=(0,_.useContext)(Z.TranslateContext),{hanko:a,stateHandler:d,setLoadingAction:c}=(0,_.useContext)(he),{flowState:l}=Le(o.state),[u,h]=(0,_.useState)(),[g,f]=(0,_.useState)(),x=P=>Ht(void 0,void 0,void 0,function*(){P.preventDefault(),c("password-recovery");const $=yield l.actions.continue_to_passcode_confirmation_recovery(null).run();c(null),yield a.flow.run($,d)}),O=P=>Ht(void 0,void 0,void 0,function*(){P.preventDefault(),c("choose-login-method");const $=yield l.actions.continue_to_login_method_chooser(null).run();c(null),yield a.flow.run($,d)}),C=(0,_.useMemo)(()=>{var P,$;return r(X,Object.assign({hidden:!(!(($=(P=l.actions).continue_to_passcode_confirmation_recovery)===null||$===void 0)&&$.call(P,null)),uiAction:"password-recovery",onClick:x,loadingSpinnerPosition:"left"},{children:s("labels.forgotYourPassword")}))},[x,s]),S=(0,_.useMemo)(()=>r(X,Object.assign({uiAction:"choose-login-method",onClick:O,loadingSpinnerPosition:"left"},{children:"Choose another method"})),[O]);return(0,_.useEffect)(()=>{const P=g>0&&setInterval(()=>f(g-1),1e3);return()=>clearInterval(P)},[g]),r(A.Fragment,{children:[r(Oe,{children:[r(ue,{children:s("headlines.loginPassword")}),r(Pe,{state:l}),r(oe,Object.assign({onSubmit:P=>Ht(void 0,void 0,void 0,function*(){P.preventDefault(),c("password-submit");const $=yield l.actions.password_login({password:u}).run();c(null),yield a.flow.run($,d)})},{children:[r(We,{type:"password",flowInput:l.actions.password_login(null).inputs.password,autocomplete:"current-password",placeholder:s("labels.password"),onInput:P=>Ht(void 0,void 0,void 0,function*(){P.target instanceof HTMLInputElement&&h(P.target.value)}),autofocus:!0}),r(ne,Object.assign({uiAction:"password-submit",disabled:g>0},{children:g>0?s("labels.passwordRetryAfter",{passwordRetryAfter:g}):s("labels.signIn")}))]})),!((t=(e=l.actions).continue_to_login_method_chooser)===null||t===void 0)&&t.call(e,null)?C:null]}),r(Te,{children:[r(X,Object.assign({uiAction:"back",onClick:P=>Ht(void 0,void 0,void 0,function*(){P.preventDefault(),c("back");const $=yield l.actions.back(null).run();c(null),yield a.flow.run($,d)}),loadingSpinnerPosition:"right"},{children:s("labels.back")})),!((i=(n=l.actions).continue_to_login_method_chooser)===null||i===void 0)&&i.call(n,null)?S:C]})]})};var bi=function(o,e,t,n){return new(t||(t=Promise))(function(i,s){function a(l){try{c(n.next(l))}catch(u){s(u)}}function d(l){try{c(n.throw(l))}catch(u){s(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof t?u:new t(function(h){h(u)})).then(a,d)}c((n=n.apply(o,[])).next())})};const br=o=>{const{t:e}=(0,_.useContext)(Z.TranslateContext),{hanko:t,stateHandler:n,setLoadingAction:i}=(0,_.useContext)(he),{flowState:s}=Le(o.state),[a,d]=(0,_.useState)();return r(Oe,{children:[r(ue,{children:e("headlines.registerPassword")}),r(Pe,{state:s}),r(z,{children:e("texts.passwordFormatHint",{minLength:s.actions.password_recovery(null).inputs.new_password.min_length,maxLength:72})}),r(oe,Object.assign({onSubmit:c=>bi(void 0,void 0,void 0,function*(){c.preventDefault(),i("password-submit");const l=yield s.actions.password_recovery({new_password:a}).run();i(null),yield t.flow.run(l,n)})},{children:[r(We,{type:"password",autocomplete:"new-password",flowInput:s.actions.password_recovery(null).inputs.new_password,placeholder:e("labels.newPassword"),onInput:c=>bi(void 0,void 0,void 0,function*(){c.target instanceof HTMLInputElement&&d(c.target.value)}),autofocus:!0}),r(ne,Object.assign({uiAction:"password-submit"},{children:e("labels.continue")}))]}))]})};var _n=function(o,e,t,n){return new(t||(t=Promise))(function(i,s){function a(l){try{c(n.next(l))}catch(u){s(u)}}function d(l){try{c(n.throw(l))}catch(u){s(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof t?u:new t(function(h){h(u)})).then(a,d)}c((n=n.apply(o,[])).next())})};const kr=o=>{var e,t,n,i,s,a;const{t:d}=(0,_.useContext)(Z.TranslateContext),{hanko:c,setLoadingAction:l,stateHandler:u,lastLogin:h}=(0,_.useContext)(he),{flowState:g}=Le(o.state);return r(A.Fragment,{children:[r(Oe,{children:[r(ue,{children:d("headlines.selectLoginMethod")}),r(Pe,{flowError:g==null?void 0:g.error}),r(z,{children:d("texts.howDoYouWantToLogin")}),r(oe,Object.assign({hidden:!(!((t=(e=g.actions).continue_to_passcode_confirmation)===null||t===void 0)&&t.call(e,null)),onSubmit:f=>_n(void 0,void 0,void 0,function*(){f.preventDefault(),l("passcode-submit");const x=yield g.actions.continue_to_passcode_confirmation(null).run();l(null),yield c.flow.run(x,u)})},{children:r(ne,Object.assign({secondary:!0,uiAction:"passcode-submit",icon:"mail"},{children:d("labels.passcode")}))})),r(oe,Object.assign({hidden:!(!((i=(n=g.actions).continue_to_password_login)===null||i===void 0)&&i.call(n,null)),onSubmit:f=>_n(void 0,void 0,void 0,function*(){f.preventDefault(),l("password-submit");const x=yield g.actions.continue_to_password_login(null).run();l(null),yield c.flow.run(x,u)})},{children:r(ne,Object.assign({secondary:!0,uiAction:"password-submit",icon:"password"},{children:d("labels.password")}))})),r(oe,Object.assign({hidden:!(!((a=(s=g.actions).webauthn_generate_request_options)===null||a===void 0)&&a.call(s,null)),onSubmit:f=>_n(void 0,void 0,void 0,function*(){f.preventDefault(),l("passkey-submit");const x=yield g.actions.webauthn_generate_request_options(null).run();l(null),yield c.flow.run(x,u)})},{children:r(ne,Object.assign({secondary:!0,uiAction:"passkey-submit",icon:"passkey"},{children:d("labels.passkey")}))}))]}),r(Te,{children:r(X,Object.assign({uiAction:"back",onClick:f=>_n(void 0,void 0,void 0,function*(){f.preventDefault(),l("back");const x=yield g.actions.back(null).run();l(null),yield c.flow.run(x,u)}),loadingSpinnerPosition:"right"},{children:d("labels.back")}))})]})};var yn=function(o,e,t,n){return new(t||(t=Promise))(function(i,s){function a(l){try{c(n.next(l))}catch(u){s(u)}}function d(l){try{c(n.throw(l))}catch(u){s(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof t?u:new t(function(h){h(u)})).then(a,d)}c((n=n.apply(o,[])).next())})};const wr=o=>{var e,t,n,i,s,a,d;const{t:c}=(0,_.useContext)(Z.TranslateContext),{init:l,hanko:u,uiState:h,setUIState:g,stateHandler:f,setLoadingAction:x,initialComponentName:O}=(0,_.useContext)(he),{flowState:C}=Le(o.state),S=(t=(e=C.actions).register_login_identifier)===null||t===void 0?void 0:t.call(e,null).inputs,P=!(!(S!=null&&S.email)||!(S!=null&&S.username)),[$,M]=(0,_.useState)(void 0),[N,ie]=(0,_.useState)(null),[be,re]=(0,_.useState)(!1),xe=(0,_.useMemo)(()=>{var U,W;return!!(!((W=(U=C.actions).thirdparty_oauth)===null||W===void 0)&&W.call(U,null))},[C.actions]);return(0,_.useEffect)(()=>{const U=new URLSearchParams(window.location.search);if(U.get("error")==null||U.get("error").length===0)return;let W="";W=U.get("error")==="access_denied"?"thirdPartyAccessDenied":"somethingWentWrong";const _e={name:W,code:W,message:U.get("error_description")};M(_e),U.delete("error"),U.delete("error_description"),history.replaceState(null,null,window.location.pathname+(U.size<1?"":`?${U.toString()}`))},[]),r(A.Fragment,{children:[r(Oe,{children:[r(ue,{children:c("headlines.signUp")}),r(Pe,{state:C,error:$}),S?r(A.Fragment,{children:[r(oe,Object.assign({onSubmit:U=>yn(void 0,void 0,void 0,function*(){U.preventDefault(),x("email-submit");const W=yield C.actions.register_login_identifier({email:h.email,username:h.username}).run();x(null),yield u.flow.run(W,f)}),maxWidth:!0},{children:[S.username?r(We,{markOptional:P,markError:P,type:"text",autoComplete:"username",autoCorrect:"off",flowInput:S.username,onInput:U=>{if(U.preventDefault(),U.target instanceof HTMLInputElement){const{value:W}=U.target;g(_e=>Object.assign(Object.assign({},_e),{username:W}))}},value:h.username,placeholder:c("labels.username")}):null,S.email?r(We,{markOptional:P,markError:P,type:"email",autoComplete:"email",autoCorrect:"off",flowInput:S.email,onInput:U=>{if(U.preventDefault(),U.target instanceof HTMLInputElement){const{value:W}=U.target;g(_e=>Object.assign(Object.assign({},_e),{email:W}))}},value:h.email,placeholder:c("labels.email"),pattern:"^.*[^0-9]+$"}):null,r(ne,Object.assign({uiAction:"email-submit",autofocus:!0},{children:c("labels.continue")}))]})),r(ao,Object.assign({hidden:!xe},{children:c("labels.or")}))]}):null,!((i=(n=C.actions).thirdparty_oauth)===null||i===void 0)&&i.call(n,null)?(s=C.actions.thirdparty_oauth(null).inputs.provider.allowed_values)===null||s===void 0?void 0:s.map(U=>r(oe,Object.assign({onSubmit:W=>((_e,Me)=>yn(void 0,void 0,void 0,function*(){_e.preventDefault(),ie(Me);const je=yield C.actions.thirdparty_oauth({provider:Me,redirect_to:window.location.toString()}).run();ie(null),yield u.flow.run(je,f)}))(W,U.value)},{children:r(ne,Object.assign({isLoading:U.value==N,secondary:!0,icon:U.value.startsWith("custom_")?"customProvider":U.value},{children:c("labels.signInWith",{provider:U.name})}))}),U.value)):null,((d=(a=C.actions).remember_me)===null||d===void 0?void 0:d.call(a,null))&&r(A.Fragment,{children:[r(mn,{}),r(co,{required:!1,type:"checkbox",label:c("labels.staySignedIn"),checked:be,onChange:U=>yn(void 0,void 0,void 0,function*(){const W=yield C.actions.remember_me({remember_me:!be}).run();re(_e=>!_e),yield u.flow.run(W,f)})})]})]}),r(Te,Object.assign({hidden:O!=="auth"},{children:[r("span",{hidden:!0}),r(X,Object.assign({uiAction:"switch-flow",onClick:U=>yn(void 0,void 0,void 0,function*(){U.preventDefault(),l("login")}),loadingSpinnerPosition:"left"},{children:c("labels.alreadyHaveAnAccount")}))]}))]})};var bn=function(o,e,t,n){return new(t||(t=Promise))(function(i,s){function a(l){try{c(n.next(l))}catch(u){s(u)}}function d(l){try{c(n.throw(l))}catch(u){s(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof t?u:new t(function(h){h(u)})).then(a,d)}c((n=n.apply(o,[])).next())})};const Sr=o=>{var e,t,n,i,s,a,d,c;const{t:l}=(0,_.useContext)(Z.TranslateContext),{hanko:u,stateHandler:h,setLoadingAction:g}=(0,_.useContext)(he),{flowState:f}=Le(o.state),[x,O]=(0,_.useState)();return r(A.Fragment,{children:[r(Oe,{children:[r(ue,{children:l("headlines.registerPassword")}),r(Pe,{state:f}),r(z,{children:l("texts.passwordFormatHint",{minLength:f.actions.register_password(null).inputs.new_password.min_length,maxLength:72})}),r(oe,Object.assign({onSubmit:C=>bn(void 0,void 0,void 0,function*(){C.preventDefault(),g("password-submit");const S=yield f.actions.register_password({new_password:x}).run();g(null),yield u.flow.run(S,h)})},{children:[r(We,{type:"password",autocomplete:"new-password",flowInput:f.actions.register_password(null).inputs.new_password,placeholder:l("labels.newPassword"),onInput:C=>bn(void 0,void 0,void 0,function*(){C.target instanceof HTMLInputElement&&O(C.target.value)}),autofocus:!0}),r(ne,Object.assign({uiAction:"password-submit"},{children:l("labels.continue")}))]}))]}),r(Te,Object.assign({hidden:!(!((t=(e=f.actions).back)===null||t===void 0)&&t.call(e,null))&&!(!((i=(n=f.actions).skip)===null||i===void 0)&&i.call(n,null))},{children:[r(X,Object.assign({uiAction:"back",onClick:C=>bn(void 0,void 0,void 0,function*(){C.preventDefault(),g("back");const S=yield f.actions.back(null).run();g(null),yield u.flow.run(S,h)}),loadingSpinnerPosition:"right",hidden:!(!((a=(s=f.actions).back)===null||a===void 0)&&a.call(s,null))},{children:l("labels.back")})),r(X,Object.assign({uiAction:"skip",onClick:C=>bn(void 0,void 0,void 0,function*(){C.preventDefault(),g("skip");const S=yield f.actions.skip(null).run();g(null),yield u.flow.run(S,h)}),loadingSpinnerPosition:"left",hidden:!(!((c=(d=f.actions).skip)===null||c===void 0)&&c.call(d,null))},{children:l("labels.skip")}))]}))]})};var kn=G(21),Rt={};Rt.setAttributes=Xe(),Rt.insert=o=>{window._hankoStyle=o},Rt.domAPI=Ye(),Rt.insertStyleElement=et(),Ge()(kn.A,Rt);const Je=kn.A&&kn.A.locals?kn.A.locals:void 0,wn=function({name:o,columnSelector:e,contentSelector:t,data:n,checkedItemID:i,setCheckedItemID:s,dropdown:a=!1}){const d=(0,_.useCallback)(u=>`${o}-${u}`,[o]),c=(0,_.useCallback)(u=>d(u)===i,[i,d]),l=u=>{if(!(u.target instanceof HTMLInputElement))return;const h=parseInt(u.target.value,10),g=d(h);s(g===i?null:g)};return r("div",Object.assign({className:Je.accordion},{children:n.map((u,h)=>r("div",Object.assign({className:Je.accordionItem},{children:[r("input",{type:"radio",className:Je.accordionInput,id:`${o}-${h}`,name:o,onClick:l,value:h,checked:c(h)}),r("label",Object.assign({className:J()(Je.label,a&&Je.dropdown),for:`${o}-${h}`},{children:r("span",Object.assign({className:Je.labelText},{children:e(u,h)}))})),r("div",Object.assign({className:J()(Je.accordionContent,a&&Je.dropdownContent)},{children:t(u,h)}))]}),h))}))},qe=({children:o})=>r("h2",Object.assign({part:"headline2",className:J()(hn.headline,hn.grade2)},{children:o})),xr=({onEmailDelete:o,onEmailSetPrimary:e,onEmailVerify:t,checkedItemID:n,setCheckedItemID:i,emails:s=[],deletableEmailIDs:a=[]})=>{const{t:d}=(0,_.useContext)(Z.TranslateContext),c=(0,_.useMemo)(()=>!1,[]);return r(wn,{name:"email-edit-dropdown",columnSelector:l=>{const u=r("span",Object.assign({className:Je.description},{children:l.is_verified?l.is_primary?r(A.Fragment,{children:[" -"," ",d("labels.primaryEmail")]}):null:r(A.Fragment,{children:[" -"," ",d("labels.unverifiedEmail")]})}));return l.is_primary?r(A.Fragment,{children:[r("b",{children:l.address}),u]}):r(A.Fragment,{children:[l.address,u]})},data:s,contentSelector:l=>{var u;return r(A.Fragment,{children:[l.is_primary?r(A.Fragment,{children:r(z,{children:[r(qe,{children:d("headlines.isPrimaryEmail")}),d("texts.isPrimaryEmail")]})}):r(A.Fragment,{children:r(z,{children:[r(qe,{children:d("headlines.setPrimaryEmail")}),d("texts.setPrimaryEmail"),r("br",{}),r(X,Object.assign({uiAction:"email-set-primary",onClick:h=>e(h,l.id),loadingSpinnerPosition:"right"},{children:d("labels.setAsPrimaryEmail")}))]})}),l.is_verified?r(A.Fragment,{children:r(z,{children:[r(qe,{children:d("headlines.emailVerified")}),d("texts.emailVerified")]})}):r(A.Fragment,{children:r(z,{children:[r(qe,{children:d("headlines.emailUnverified")}),d("texts.emailUnverified"),r("br",{}),r(X,Object.assign({uiAction:"email-verify",onClick:h=>t(h,l.id),loadingSpinnerPosition:"right"},{children:d("labels.verify")}))]})}),a.includes(l.id)?r(A.Fragment,{children:r(z,{children:[r(qe,{children:d("headlines.emailDelete")}),d("texts.emailDelete"),r("br",{}),r(X,Object.assign({uiAction:"email-delete",dangerous:!0,onClick:h=>o(h,l.id),disabled:c,loadingSpinnerPosition:"right"},{children:d("labels.delete")}))]})}):null,((u=l.identities)===null||u===void 0?void 0:u.length)>0?r(A.Fragment,{children:r(z,{children:[r(qe,{children:d("headlines.connectedAccounts")}),l.identities.map(h=>h.provider).join(", ")]})}):null]})},checkedItemID:n,setCheckedItemID:i})},Cr=({onCredentialNameSubmit:o,oldName:e,onBack:t,credential:n,credentialType:i})=>{const{t:s}=(0,_.useContext)(Z.TranslateContext),[a,d]=(0,_.useState)(e);return r(A.Fragment,{children:[r(Oe,{children:[r(ue,{children:s(i==="security-key"?"headlines.renameSecurityKey":"headlines.renamePasskey")}),r(Pe,{flowError:null}),r(z,{children:s(i==="security-key"?"texts.renameSecurityKey":"texts.renamePasskey")}),r(oe,Object.assign({onSubmit:c=>o(c,n.id,a)},{children:[r(We,{type:"text",name:i,value:a,minLength:3,maxLength:32,required:!0,placeholder:s(i==="security-key"?"labels.newSecurityKeyName":"labels.newPasskeyName"),onInput:c=>{return l=void 0,u=void 0,g=function*(){c.target instanceof HTMLInputElement&&d(c.target.value)},new((h=void 0)||(h=Promise))(function(f,x){function O(P){try{S(g.next(P))}catch($){x($)}}function C(P){try{S(g.throw(P))}catch($){x($)}}function S(P){var $;P.done?f(P.value):($=P.value,$ instanceof h?$:new h(function(M){M($)})).then(O,C)}S((g=g.apply(l,u||[])).next())});var l,u,h,g},autofocus:!0}),r(ne,Object.assign({uiAction:"webauthn-credential-rename"},{children:s("labels.save")}))]}))]}),r(Te,{children:r(X,Object.assign({onClick:t,loadingSpinnerPosition:"right"},{children:s("labels.back")}))})]})},ki=({credentials:o=[],checkedItemID:e,setCheckedItemID:t,onBack:n,onCredentialNameSubmit:i,onCredentialDelete:s,allowCredentialDeletion:a,credentialType:d})=>{const{t:c}=(0,_.useContext)(Z.TranslateContext),{setPage:l}=(0,_.useContext)(he),u=g=>{if(g.name)return g.name;const f=g.public_key.replace(/[\W_]/g,"");return`${d==="security-key"?"SecurityKey":"Passkey"}-${f.substring(f.length-7,f.length)}`},h=g=>new Date(g).toLocaleString();return r(wn,{name:d==="security-key"?"security-key-edit-dropdown":"passkey-edit-dropdown",columnSelector:g=>u(g),data:o,contentSelector:g=>r(A.Fragment,{children:[r(z,{children:[r(qe,{children:c(d==="security-key"?"headlines.renameSecurityKey":"headlines.renamePasskey")}),c(d==="security-key"?"texts.renameSecurityKey":"texts.renamePasskey"),r("br",{}),r(X,Object.assign({onClick:f=>((x,O,C)=>{x.preventDefault(),l(r(Cr,{oldName:u(O),credential:O,credentialType:C,onBack:n,onCredentialNameSubmit:i}))})(f,g,d),loadingSpinnerPosition:"right"},{children:c("labels.rename")}))]}),r(z,Object.assign({hidden:!a},{children:[r(qe,{children:c(d==="security-key"?"headlines.deleteSecurityKey":"headlines.deletePasskey")}),c(d==="security-key"?"texts.deleteSecurityKey":"texts.deletePasskey"),r("br",{}),r(X,Object.assign({uiAction:"password-delete",dangerous:!0,onClick:f=>s(f,g.id),loadingSpinnerPosition:"right"},{children:c("labels.delete")}))]})),r(z,{children:[r(qe,{children:c("headlines.lastUsedAt")}),g.last_used_at?h(g.last_used_at):"-"]}),r(z,{children:[r(qe,{children:c("headlines.createdAt")}),h(g.created_at)]})]}),checkedItemID:e,setCheckedItemID:t})},qt=({name:o,title:e,children:t,checkedItemID:n,setCheckedItemID:i})=>r(wn,{dropdown:!0,name:o,columnSelector:()=>e,contentSelector:()=>r(A.Fragment,{children:t}),setCheckedItemID:i,checkedItemID:n,data:[{}]}),po=({flowError:o})=>{const{t:e}=(0,_.useContext)(Z.TranslateContext);return r(A.Fragment,{children:o?r("div",Object.assign({className:yi.errorMessage},{children:e(`flowErrors.${o==null?void 0:o.code}`)})):null})},Ar=({inputs:o,onEmailSubmit:e,checkedItemID:t,setCheckedItemID:n})=>{var i;const{t:s}=(0,_.useContext)(Z.TranslateContext),[a,d]=(0,_.useState)();return r(qt,Object.assign({name:"email-create-dropdown",title:s("labels.addEmail"),checkedItemID:t,setCheckedItemID:n},{children:[r(po,{flowError:(i=o.email)===null||i===void 0?void 0:i.error}),r(oe,Object.assign({onSubmit:c=>e(c,a).then(()=>d(""))},{children:[r(We,{markError:!0,type:"email",placeholder:s("labels.newEmailAddress"),onInput:c=>{c.preventDefault(),c.target instanceof HTMLInputElement&&d(c.target.value)},value:a,flowInput:o.email}),r(ne,Object.assign({uiAction:"email-submit"},{children:s("labels.save")}))]}))]}))},wi=({inputs:o,checkedItemID:e,setCheckedItemID:t,onPasswordSubmit:n,onPasswordDelete:i,allowPasswordDelete:s,passwordExists:a})=>{var d,c,l;const{t:u}=(0,_.useContext)(Z.TranslateContext),[h,g]=(0,_.useState)("");return r(qt,Object.assign({name:"password-edit-dropdown",title:u(a?"labels.changePassword":"labels.setPassword"),checkedItemID:e,setCheckedItemID:t},{children:[r(z,{children:u("texts.passwordFormatHint",{minLength:(d=o.password.min_length)===null||d===void 0?void 0:d.toString(10),maxLength:(c=o.password.max_length)===null||c===void 0?void 0:c.toString(10)})}),r(po,{flowError:(l=o.password)===null||l===void 0?void 0:l.error}),r(oe,Object.assign({onSubmit:f=>n(f,h).then(()=>g(""))},{children:[r(We,{markError:!0,autoComplete:"new-password",placeholder:u("labels.newPassword"),type:"password",onInput:f=>{f.preventDefault(),f.target instanceof HTMLInputElement&&g(f.target.value)},value:h,flowInput:o.password}),r(ne,Object.assign({uiAction:"password-submit"},{children:u("labels.save")}))]})),r(X,Object.assign({hidden:!s,uiAction:"password-delete",dangerous:!0,onClick:f=>i(f).then(()=>g("")),loadingSpinnerPosition:"right"},{children:u("labels.delete")}))]}))},Si=({checkedItemID:o,setCheckedItemID:e,onCredentialSubmit:t,credentialType:n})=>{const{t:i}=(0,_.useContext)(Z.TranslateContext),s=_t.supported();return r(qt,Object.assign({name:n==="security-key"?"security-key-create-dropdown":"passkey-create-dropdown",title:i(n==="security-key"?"labels.createSecurityKey":"labels.createPasskey"),checkedItemID:o,setCheckedItemID:e},{children:[r(z,{children:i(n==="security-key"?"texts.securityKeySetUp":"texts.setupPasskey")}),r(oe,Object.assign({onSubmit:t},{children:r(ne,Object.assign({uiAction:n==="security-key"?"security-key-submit":"passkey-submit",title:s?null:i("labels.webauthnUnsupported")},{children:i(n==="security-key"?"labels.createSecurityKey":"labels.createPasskey")}))}))]}))},xi=({inputs:o,checkedItemID:e,setCheckedItemID:t,onUsernameSubmit:n,onUsernameDelete:i,hasUsername:s,allowUsernameDeletion:a})=>{var d;const{t:c}=(0,_.useContext)(Z.TranslateContext),[l,u]=(0,_.useState)();return r(qt,Object.assign({name:"username-edit-dropdown",title:c(s?"labels.changeUsername":"labels.setUsername"),checkedItemID:e,setCheckedItemID:t},{children:[r(po,{flowError:(d=o.username)===null||d===void 0?void 0:d.error}),r(oe,Object.assign({onSubmit:h=>n(h,l).then(()=>u(""))},{children:[r(We,{markError:!0,placeholder:c("labels.username"),type:"text",onInput:h=>{h.preventDefault(),h.target instanceof HTMLInputElement&&u(h.target.value)},value:l,flowInput:o.username}),r(ne,Object.assign({uiAction:"username-set"},{children:c("labels.save")}))]})),r(X,Object.assign({hidden:!a,uiAction:"username-delete",dangerous:!0,onClick:h=>i(h).then(()=>u("")),loadingSpinnerPosition:"right"},{children:c("labels.delete")}))]}))},Or=({onBack:o,onAccountDelete:e})=>{const{t}=(0,_.useContext)(Z.TranslateContext);return r(A.Fragment,{children:[r(Oe,{children:[r(ue,{children:t("headlines.deleteAccount")}),r(Pe,{flowError:null}),r(z,{children:t("texts.deleteAccount")}),r(oe,Object.assign({onSubmit:e},{children:[r(co,{required:!0,type:"checkbox",label:t("labels.deleteAccount")}),r(ne,Object.assign({uiAction:"account_delete"},{children:t("labels.delete")}))]}))]}),r(Te,{children:r(X,Object.assign({onClick:o},{children:t("labels.back")}))})]})},Pr=({sessions:o=[],checkedItemID:e,setCheckedItemID:t,onSessionDelete:n,deletableSessionIDs:i})=>{const{t:s}=(0,_.useContext)(Z.TranslateContext),a=d=>new Date(d).toLocaleString();return r(wn,{name:"session-edit-dropdown",columnSelector:d=>{const c=r("b",{children:d.user_agent?d.user_agent:d.id}),l=d.current?r("span",Object.assign({className:Je.description},{children:r(A.Fragment,{children:[" -"," ",s("labels.currentSession")]})})):null;return r(A.Fragment,{children:[c,l]})},data:o,contentSelector:d=>r(A.Fragment,{children:[r(z,Object.assign({hidden:!d.ip_address},{children:[r(qe,{children:s("headlines.ipAddress")}),d.ip_address]})),r(z,{children:[r(qe,{children:s("headlines.lastUsed")}),a(d.last_used)]}),r(z,{children:[r(qe,{children:s("headlines.createdAt")}),a(d.created_at)]}),i!=null&&i.includes(d.id)?r(z,{children:[r(qe,{children:s("headlines.revokeSession")}),r(X,Object.assign({uiAction:"session-delete",dangerous:!0,onClick:c=>n(c,d.id),loadingSpinnerPosition:"right"},{children:s("labels.revoke")}))]}):null]}),checkedItemID:e,setCheckedItemID:t})},Er=({checkedItemID:o,setCheckedItemID:e,onDelete:t,onConnect:n,authAppSetUp:i,allowDeletion:s})=>{const{t:a}=(0,_.useContext)(Z.TranslateContext),d=r("span",Object.assign({className:Je.description},{children:i?r(A.Fragment,{children:[" -"," ",a("labels.configured")]}):null})),c=r(A.Fragment,{children:[a("labels.authenticatorAppManage")," ",d]});return r(qt,Object.assign({name:"authenticator-app-manage-dropdown",title:c,checkedItemID:o,setCheckedItemID:e},{children:[r(qe,{children:a(i?"headlines.authenticatorAppAlreadySetUp":"headlines.authenticatorAppNotSetUp")}),r(z,{children:[a(i?"texts.authenticatorAppAlreadySetUp":"texts.authenticatorAppNotSetUp"),r("br",{}),r(X,i?Object.assign({hidden:!s,uiAction:"auth-app-remove",onClick:l=>t(l),loadingSpinnerPosition:"right",dangerous:!0},{children:a("labels.delete")}):Object.assign({uiAction:"auth-app-add",onClick:l=>n(l),loadingSpinnerPosition:"right"},{children:a("labels.authenticatorAppAdd")}))]})]}))};var Ie=function(o,e,t,n){return new(t||(t=Promise))(function(i,s){function a(l){try{c(n.next(l))}catch(u){s(u)}}function d(l){try{c(n.throw(l))}catch(u){s(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof t?u:new t(function(h){h(u)})).then(a,d)}c((n=n.apply(o,[])).next())})};const Ci=o=>{var e,t,n,i,s,a,d,c,l,u,h,g,f,x,O,C,S,P,$,M,N,ie,be,re,xe,U,W,_e,Me,je,Ne,ae,le,pe,$e,k,p,y,L,K,fe,Fe,Ke,Be,m,v,b,j,T,I,q,ee;const{t:Y}=(0,_.useContext)(Z.TranslateContext),{hanko:ye,setLoadingAction:w,stateHandler:ke,setUIState:Q,setPage:H}=(0,_.useContext)(he),{flowState:E}=Le(o.state),[Ce,B]=(0,_.useState)(""),F=(R,V,nt)=>Ie(void 0,void 0,void 0,function*(){R.preventDefault(),w(V);const bo=yield nt();bo!=null&&bo.error||(B(null),yield new Promise(ra=>setTimeout(ra,360))),w(null),yield ye.flow.run(bo,ke)}),Ue=R=>Ie(void 0,void 0,void 0,function*(){return F(R,"password-delete",E.actions.password_delete(null).run)}),it=R=>Ie(void 0,void 0,void 0,function*(){return F(R,"username-delete",E.actions.username_delete(null).run)}),ge=(R,V,nt)=>Ie(void 0,void 0,void 0,function*(){return F(R,"webauthn-credential-rename",E.actions.webauthn_credential_rename({passkey_id:V,passkey_name:nt}).run)}),Pn=R=>Ie(void 0,void 0,void 0,function*(){return F(R,"account_delete",E.actions.account_delete(null).run)}),lt=R=>(R.preventDefault(),H(r(Ci,{state:E,enablePasskeys:o.enablePasskeys})),Promise.resolve());return r(Oe,{children:[r(Pe,{state:((e=E==null?void 0:E.error)===null||e===void 0?void 0:e.code)!=="form_data_invalid_error"?E:null}),!((n=(t=E.actions).username_create)===null||n===void 0)&&n.call(t,null)||!((s=(i=E.actions).username_update)===null||s===void 0)&&s.call(i,null)||!((d=(a=E.actions).username_delete)===null||d===void 0)&&d.call(a,null)?r(A.Fragment,{children:[r(ue,{children:Y("labels.username")}),E.payload.user.username?r(z,{children:r("b",{children:E.payload.user.username.username})}):null,r(z,{children:[!((l=(c=E.actions).username_create)===null||l===void 0)&&l.call(c,null)?r(xi,{inputs:E.actions.username_create(null).inputs,hasUsername:!!E.payload.user.username,allowUsernameDeletion:!!(!((h=(u=E.actions).username_delete)===null||h===void 0)&&h.call(u,null)),onUsernameSubmit:(R,V)=>Ie(void 0,void 0,void 0,function*(){return F(R,"username-set",E.actions.username_create({username:V}).run)}),onUsernameDelete:it,checkedItemID:Ce,setCheckedItemID:B}):null,!((f=(g=E.actions).username_update)===null||f===void 0)&&f.call(g,null)?r(xi,{inputs:E.actions.username_update(null).inputs,hasUsername:!!E.payload.user.username,allowUsernameDeletion:!!(!((O=(x=E.actions).username_delete)===null||O===void 0)&&O.call(x,null)),onUsernameSubmit:(R,V)=>Ie(void 0,void 0,void 0,function*(){return F(R,"username-set",E.actions.username_update({username:V}).run)}),onUsernameDelete:it,checkedItemID:Ce,setCheckedItemID:B}):null]})]}):null,!((S=(C=E.payload)===null||C===void 0?void 0:C.user)===null||S===void 0)&&S.emails||!(($=(P=E.actions).email_create)===null||$===void 0)&&$.call(P,null)?r(A.Fragment,{children:[r(ue,{children:Y("headlines.profileEmails")}),r(z,{children:[r(xr,{emails:E.payload.user.emails,onEmailDelete:(R,V)=>Ie(void 0,void 0,void 0,function*(){return F(R,"email-delete",E.actions.email_delete({email_id:V}).run)}),onEmailSetPrimary:(R,V)=>Ie(void 0,void 0,void 0,function*(){return F(R,"email-set-primary",E.actions.email_set_primary({email_id:V}).run)}),onEmailVerify:(R,V)=>Ie(void 0,void 0,void 0,function*(){return F(R,"email-verify",E.actions.email_verify({email_id:V}).run)}),checkedItemID:Ce,setCheckedItemID:B,deletableEmailIDs:(ie=(N=(M=E.actions).email_delete)===null||N===void 0?void 0:N.call(M,null).inputs.email_id.allowed_values)===null||ie===void 0?void 0:ie.map(R=>R.value)}),!((re=(be=E.actions).email_create)===null||re===void 0)&&re.call(be,null)?r(Ar,{inputs:E.actions.email_create(null).inputs,onEmailSubmit:(R,V)=>Ie(void 0,void 0,void 0,function*(){return Q(nt=>Object.assign(Object.assign({},nt),{email:V})),F(R,"email-submit",E.actions.email_create({email:V}).run)}),checkedItemID:Ce,setCheckedItemID:B}):null]})]}):null,!((U=(xe=E.actions).password_create)===null||U===void 0)&&U.call(xe,null)?r(A.Fragment,{children:[r(ue,{children:Y("headlines.profilePassword")}),r(z,{children:r(wi,{inputs:E.actions.password_create(null).inputs,onPasswordSubmit:(R,V)=>Ie(void 0,void 0,void 0,function*(){return F(R,"password-submit",E.actions.password_create({password:V}).run)}),onPasswordDelete:Ue,checkedItemID:Ce,setCheckedItemID:B})})]}):null,!((_e=(W=E.actions).password_update)===null||_e===void 0)&&_e.call(W,null)?r(A.Fragment,{children:[r(ue,{children:Y("headlines.profilePassword")}),r(z,{children:r(wi,{allowPasswordDelete:!!(!((je=(Me=E.actions).password_delete)===null||je===void 0)&&je.call(Me,null)),inputs:E.actions.password_update(null).inputs,onPasswordSubmit:(R,V)=>Ie(void 0,void 0,void 0,function*(){return F(R,"password-submit",E.actions.password_update({password:V}).run)}),onPasswordDelete:Ue,checkedItemID:Ce,setCheckedItemID:B,passwordExists:!0})})]}):null,o.enablePasskeys&&(!((ae=(Ne=E.payload)===null||Ne===void 0?void 0:Ne.user)===null||ae===void 0)&&ae.passkeys||!((pe=(le=E.actions).webauthn_credential_create)===null||pe===void 0)&&pe.call(le,null))?r(A.Fragment,{children:[r(ue,{children:Y("headlines.profilePasskeys")}),r(z,{children:[r(ki,{onBack:lt,onCredentialNameSubmit:ge,onCredentialDelete:(R,V)=>Ie(void 0,void 0,void 0,function*(){return F(R,"passkey-delete",E.actions.webauthn_credential_delete({passkey_id:V}).run)}),credentials:E.payload.user.passkeys,setError:null,checkedItemID:Ce,setCheckedItemID:B,allowCredentialDeletion:!!(!((k=($e=E.actions).webauthn_credential_delete)===null||k===void 0)&&k.call($e,null)),credentialType:"passkey"}),!((y=(p=E.actions).webauthn_credential_create)===null||y===void 0)&&y.call(p,null)?r(Si,{credentialType:"passkey",onCredentialSubmit:R=>Ie(void 0,void 0,void 0,function*(){return F(R,"passkey-submit",E.actions.webauthn_credential_create(null).run)}),setError:null,checkedItemID:Ce,setCheckedItemID:B}):null]})]}):null,!((L=E.payload.user.mfa_config)===null||L===void 0)&&L.security_keys_enabled?r(A.Fragment,{children:[r(ue,{children:Y("headlines.securityKeys")}),r(z,{children:[r(ki,{onBack:lt,onCredentialNameSubmit:ge,onCredentialDelete:(R,V)=>Ie(void 0,void 0,void 0,function*(){return F(R,"security-key-delete",E.actions.security_key_delete({security_key_id:V}).run)}),credentials:E.payload.user.security_keys,setError:null,checkedItemID:Ce,setCheckedItemID:B,allowCredentialDeletion:!!(!((fe=(K=E.actions).security_key_delete)===null||fe===void 0)&&fe.call(K,null)),credentialType:"security-key"}),!((Ke=(Fe=E.actions).security_key_create)===null||Ke===void 0)&&Ke.call(Fe,null)?r(Si,{credentialType:"security-key",onCredentialSubmit:R=>Ie(void 0,void 0,void 0,function*(){return F(R,"security-key-submit",E.actions.security_key_create(null).run)}),setError:null,checkedItemID:Ce,setCheckedItemID:B}):null]})]}):null,!((Be=E.payload.user.mfa_config)===null||Be===void 0)&&Be.totp_enabled?r(A.Fragment,{children:[r(ue,{children:Y("headlines.authenticatorApp")}),r(z,{children:r(Er,{onConnect:R=>Ie(void 0,void 0,void 0,function*(){return F(R,"auth-app-add",E.actions.continue_to_otp_secret_creation(null).run)}),onDelete:R=>Ie(void 0,void 0,void 0,function*(){return F(R,"auth-app-remove",E.actions.otp_secret_delete(null).run)}),allowDeletion:!!(!((v=(m=E.actions).otp_secret_delete)===null||v===void 0)&&v.call(m,null)),authAppSetUp:(b=E.payload.user.mfa_config)===null||b===void 0?void 0:b.auth_app_set_up,checkedItemID:Ce,setCheckedItemID:B})})]}):null,E.payload.sessions?r(A.Fragment,{children:[r(ue,{children:Y("headlines.profileSessions")}),r(z,{children:r(Pr,{sessions:E.payload.sessions,setError:null,checkedItemID:Ce,setCheckedItemID:B,onSessionDelete:(R,V)=>Ie(void 0,void 0,void 0,function*(){return F(R,"session-delete",E.actions.session_delete({session_id:V}).run)}),deletableSessionIDs:(I=(T=(j=E.actions).session_delete)===null||T===void 0?void 0:T.call(j,null).inputs.session_id.allowed_values)===null||I===void 0?void 0:I.map(R=>R.value)})})]}):null,!((ee=(q=E.actions).account_delete)===null||ee===void 0)&&ee.call(q,null)?r(A.Fragment,{children:[r(mn,{}),r(z,{children:r(ao,{})}),r(z,{children:r(oe,Object.assign({onSubmit:R=>(R.preventDefault(),H(r(Or,{onBack:lt,onAccountDelete:Pn})),Promise.resolve())},{children:r(ne,Object.assign({dangerous:!0},{children:Y("headlines.deleteAccount")}))}))})]}):null]})},Ir=Ci,Ai=({state:o,error:e})=>{const{t}=(0,_.useContext)(Z.TranslateContext),{init:n,componentName:i}=(0,_.useContext)(he),s=(0,_.useCallback)(()=>n(i),[i,n]);return(0,_.useEffect)(()=>(addEventListener("hankoAuthSuccess",s),()=>{removeEventListener("hankoAuthSuccess",s)}),[s]),r(Oe,{children:[r(ue,{children:t("headlines.error")}),r(Pe,{state:o,error:e}),r(oe,Object.assign({onSubmit:a=>{a.preventDefault(),s()}},{children:r(ne,Object.assign({uiAction:"retry"},{children:t("labels.continue")}))}))]})};var fo=function(o,e,t,n){return new(t||(t=Promise))(function(i,s){function a(l){try{c(n.next(l))}catch(u){s(u)}}function d(l){try{c(n.throw(l))}catch(u){s(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof t?u:new t(function(h){h(u)})).then(a,d)}c((n=n.apply(o,[])).next())})};const jr=o=>{var e,t,n,i;const{t:s}=(0,_.useContext)(Z.TranslateContext),{hanko:a,stateHandler:d,setLoadingAction:c}=(0,_.useContext)(he),{flowState:l}=Le(o.state),[u,h]=(0,_.useState)();return r(A.Fragment,{children:[r(Oe,{children:[r(ue,{children:s("headlines.createEmail")}),r(Pe,{state:l}),r(oe,Object.assign({onSubmit:g=>fo(void 0,void 0,void 0,function*(){g.preventDefault(),c("email-submit");const f=yield l.actions.email_address_set({email:u}).run();c(null),yield a.flow.run(f,d)})},{children:[r(We,{type:"email",autoComplete:"email",autoCorrect:"off",flowInput:(t=(e=l.actions).email_address_set)===null||t===void 0?void 0:t.call(e,null).inputs.email,onInput:g=>fo(void 0,void 0,void 0,function*(){g.target instanceof HTMLInputElement&&h(g.target.value)}),placeholder:s("labels.email"),pattern:"^.*[^0-9]+$",value:u}),r(ne,Object.assign({uiAction:"email-submit"},{children:s("labels.continue")}))]}))]}),r(Te,Object.assign({hidden:!(!((i=(n=l.actions).skip)===null||i===void 0)&&i.call(n,null))},{children:[r("span",{hidden:!0}),r(X,Object.assign({uiAction:"skip",onClick:g=>fo(void 0,void 0,void 0,function*(){g.preventDefault(),c("skip");const f=yield l.actions.skip(null).run();c(null),yield a.flow.run(f,d)}),loadingSpinnerPosition:"left"},{children:s("labels.skip")}))]}))]})};var mo=function(o,e,t,n){return new(t||(t=Promise))(function(i,s){function a(l){try{c(n.next(l))}catch(u){s(u)}}function d(l){try{c(n.throw(l))}catch(u){s(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof t?u:new t(function(h){h(u)})).then(a,d)}c((n=n.apply(o,[])).next())})};const $r=o=>{var e,t,n,i;const{t:s}=(0,_.useContext)(Z.TranslateContext),{hanko:a,stateHandler:d,setLoadingAction:c}=(0,_.useContext)(he),{flowState:l}=Le(o.state),[u,h]=(0,_.useState)();return r(A.Fragment,{children:[r(Oe,{children:[r(ue,{children:s("headlines.createUsername")}),r(Pe,{state:l}),r(oe,Object.assign({onSubmit:g=>mo(void 0,void 0,void 0,function*(){g.preventDefault(),c("username-set");const f=yield l.actions.username_create({username:u}).run();c(null),yield a.flow.run(f,d)})},{children:[r(We,{type:"text",autoComplete:"username",autoCorrect:"off",flowInput:(t=(e=l.actions).username_create)===null||t===void 0?void 0:t.call(e,null).inputs.username,onInput:g=>mo(void 0,void 0,void 0,function*(){g.target instanceof HTMLInputElement&&h(g.target.value)}),value:u,placeholder:s("labels.username")}),r(ne,Object.assign({uiAction:"username-set"},{children:s("labels.continue")}))]}))]}),r(Te,Object.assign({hidden:!(!((i=(n=l.actions).skip)===null||i===void 0)&&i.call(n,null))},{children:[r("span",{hidden:!0}),r(X,Object.assign({uiAction:"skip",onClick:g=>mo(void 0,void 0,void 0,function*(){g.preventDefault(),c("skip");const f=yield l.actions.skip(null).run();c(null),yield a.flow.run(f,d)}),loadingSpinnerPosition:"left"},{children:s("labels.skip")}))]}))]})};var Sn=function(o,e,t,n){return new(t||(t=Promise))(function(i,s){function a(l){try{c(n.next(l))}catch(u){s(u)}}function d(l){try{c(n.throw(l))}catch(u){s(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof t?u:new t(function(h){h(u)})).then(a,d)}c((n=n.apply(o,[])).next())})};const Dr=o=>{var e,t,n,i,s,a,d,c,l,u,h,g;const{t:f}=(0,_.useContext)(Z.TranslateContext),{hanko:x,setLoadingAction:O,stateHandler:C}=(0,_.useContext)(he),{flowState:S}=Le(o.state);return r(A.Fragment,{children:[r(Oe,{children:[r(ue,{children:f("headlines.setupLoginMethod")}),r(Pe,{flowError:S==null?void 0:S.error}),r(z,{children:f("texts.selectLoginMethodForFutureLogins")}),r(oe,Object.assign({hidden:!(!((t=(e=S.actions).continue_to_passkey_registration)===null||t===void 0)&&t.call(e,null)),onSubmit:P=>Sn(void 0,void 0,void 0,function*(){P.preventDefault(),O("passkey-submit");const $=yield S.actions.continue_to_passkey_registration(null).run();O(null),yield x.flow.run($,C)})},{children:r(ne,Object.assign({secondary:!0,uiAction:"passkey-submit",icon:"passkey"},{children:f("labels.passkey")}))})),r(oe,Object.assign({hidden:!(!((i=(n=S.actions).continue_to_password_registration)===null||i===void 0)&&i.call(n,null)),onSubmit:P=>Sn(void 0,void 0,void 0,function*(){P.preventDefault(),O("password-submit");const $=yield S.actions.continue_to_password_registration(null).run();O(null),yield x.flow.run($,C)})},{children:r(ne,Object.assign({secondary:!0,uiAction:"password-submit",icon:"password"},{children:f("labels.password")}))}))]}),r(Te,Object.assign({hidden:!(!((a=(s=S.actions).back)===null||a===void 0)&&a.call(s,null))&&!(!((c=(d=S.actions).skip)===null||c===void 0)&&c.call(d,null))},{children:[r(X,Object.assign({uiAction:"back",onClick:P=>Sn(void 0,void 0,void 0,function*(){P.preventDefault(),O("back");const $=yield S.actions.back(null).run();O(null),yield x.flow.run($,C)}),loadingSpinnerPosition:"right",hidden:!(!((u=(l=S.actions).back)===null||u===void 0)&&u.call(l,null))},{children:f("labels.back")})),r(X,Object.assign({uiAction:"skip",onClick:P=>Sn(void 0,void 0,void 0,function*(){P.preventDefault(),O("skip");const $=yield S.actions.skip(null).run();O(null),yield x.flow.run($,C)}),loadingSpinnerPosition:"left",hidden:!(!((g=(h=S.actions).skip)===null||g===void 0)&&g.call(h,null))},{children:f("labels.skip")}))]}))]})};var go=function(o,e,t,n){return new(t||(t=Promise))(function(i,s){function a(l){try{c(n.next(l))}catch(u){s(u)}}function d(l){try{c(n.throw(l))}catch(u){s(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof t?u:new t(function(h){h(u)})).then(a,d)}c((n=n.apply(o,[])).next())})};const Lr=o=>{var e,t,n,i;const{t:s}=(0,_.useContext)(Z.TranslateContext),{flowState:a}=Le(o.state),{hanko:d,setLoadingAction:c,stateHandler:l}=(0,_.useContext)(he),[u,h]=(0,_.useState)([]),g=(0,_.useCallback)(f=>go(void 0,void 0,void 0,function*(){c("passcode-submit");const x=yield a.actions.otp_code_validate({otp_code:f}).run();c(null),yield d.flow.run(x,l)}),[d,a,c,l]);return(0,_.useEffect)(()=>{var f;((f=a.error)===null||f===void 0?void 0:f.code)==="passcode_invalid"&&h([])},[a]),r(A.Fragment,{children:[r(Oe,{children:[r(ue,{children:s("headlines.otpLogin")}),r(Pe,{state:a}),r(z,{children:s("texts.otpLogin")}),r(oe,Object.assign({onSubmit:f=>go(void 0,void 0,void 0,function*(){return f.preventDefault(),g(u.join(""))})},{children:[r(uo,{onInput:f=>{if(h(f),f.filter(x=>x!=="").length===6)return g(f.join(""))},passcodeDigits:u,numberOfInputs:6}),r(ne,Object.assign({uiAction:"passcode-submit"},{children:s("labels.continue")}))]}))]}),r(Te,Object.assign({hidden:!(!((t=(e=a.actions).continue_to_login_security_key)===null||t===void 0)&&t.call(e,null))},{children:r(X,Object.assign({uiAction:"skip",onClick:f=>go(void 0,void 0,void 0,function*(){f.preventDefault(),c("skip");const x=yield a.actions.continue_to_login_security_key(null).run();c(null),yield d.flow.run(x,l)}),loadingSpinnerPosition:"right",hidden:!(!((i=(n=a.actions).continue_to_login_security_key)===null||i===void 0)&&i.call(n,null))},{children:s("labels.useAnotherMethod")}))}))]})};var Oi=function(o,e,t,n){return new(t||(t=Promise))(function(i,s){function a(l){try{c(n.next(l))}catch(u){s(u)}}function d(l){try{c(n.throw(l))}catch(u){s(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof t?u:new t(function(h){h(u)})).then(a,d)}c((n=n.apply(o,[])).next())})};const Tr=o=>{var e,t,n,i;const{t:s}=(0,_.useContext)(Z.TranslateContext),{hanko:a,setLoadingAction:d,stateHandler:c}=(0,_.useContext)(he),{flowState:l}=Le(o.state);return r(A.Fragment,{children:[r(Oe,{children:[r(ue,{children:s("headlines.securityKeyLogin")}),r(Pe,{state:l}),r(z,{children:s("texts.securityKeyLogin")}),r(oe,Object.assign({onSubmit:u=>Oi(void 0,void 0,void 0,function*(){u.preventDefault(),d("passkey-submit");const h=yield l.actions.webauthn_generate_request_options(null).run();yield a.flow.run(h,c)})},{children:r(ne,Object.assign({uiAction:"passkey-submit",autofocus:!0,icon:"securityKey"},{children:s("labels.securityKeyUse")}))}))]}),r(Te,Object.assign({hidden:!(!((t=(e=l.actions).continue_to_login_otp)===null||t===void 0)&&t.call(e,null))},{children:r(X,Object.assign({uiAction:"skip",onClick:u=>Oi(void 0,void 0,void 0,function*(){u.preventDefault(),d("skip");const h=yield l.actions.continue_to_login_otp(null).run();d(null),yield a.flow.run(h,c)}),loadingSpinnerPosition:"right",hidden:!(!((i=(n=l.actions).continue_to_login_otp)===null||i===void 0)&&i.call(n,null))},{children:s("labels.useAnotherMethod")}))}))]})};var xn=function(o,e,t,n){return new(t||(t=Promise))(function(i,s){function a(l){try{c(n.next(l))}catch(u){s(u)}}function d(l){try{c(n.throw(l))}catch(u){s(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof t?u:new t(function(h){h(u)})).then(a,d)}c((n=n.apply(o,[])).next())})};const Mr=o=>{var e,t,n,i,s,a,d,c;const{t:l}=(0,_.useContext)(Z.TranslateContext),{hanko:u,setLoadingAction:h,stateHandler:g}=(0,_.useContext)(he),{flowState:f}=Le(o.state),x=S=>xn(void 0,void 0,void 0,function*(){S.preventDefault(),h("passcode-submit");const P=yield f.actions.continue_to_security_key_creation(null).run();h(null),yield u.flow.run(P,g)}),O=S=>xn(void 0,void 0,void 0,function*(){S.preventDefault(),h("password-submit");const P=yield f.actions.continue_to_otp_secret_creation(null).run();h(null),yield u.flow.run(P,g)}),C=(0,_.useMemo)(()=>{const{actions:S}=f;return S.continue_to_security_key_creation&&!S.continue_to_otp_secret_creation?x:!S.continue_to_security_key_creation&&S.continue_to_otp_secret_creation?O:void 0},[f,x,O]);return r(A.Fragment,{children:[r(Oe,{children:[r(ue,{children:l("headlines.mfaSetUp")}),r(Pe,{flowError:f==null?void 0:f.error}),r(z,{children:l("texts.mfaSetUp")}),C?r(oe,Object.assign({onSubmit:C},{children:r(ne,Object.assign({uiAction:"passcode-submit"},{children:l("labels.continue")}))})):r(A.Fragment,{children:[r(oe,Object.assign({hidden:!(!((t=(e=f.actions).continue_to_security_key_creation)===null||t===void 0)&&t.call(e,null)),onSubmit:x},{children:r(ne,Object.assign({secondary:!0,uiAction:"passcode-submit",icon:"securityKey"},{children:l("labels.securityKey")}))})),r(oe,Object.assign({hidden:!(!((i=(n=f.actions).continue_to_otp_secret_creation)===null||i===void 0)&&i.call(n,null)),onSubmit:O},{children:r(ne,Object.assign({secondary:!0,uiAction:"password-submit",icon:"qrCodeScanner"},{children:l("labels.authenticatorApp")}))}))]})]}),r(Te,{children:[r(X,Object.assign({uiAction:"back",onClick:S=>xn(void 0,void 0,void 0,function*(){S.preventDefault(),h("back");const P=yield f.actions.back(null).run();h(null),yield u.flow.run(P,g)}),loadingSpinnerPosition:"right",hidden:!(!((a=(s=f.actions).back)===null||a===void 0)&&a.call(s,null))},{children:l("labels.back")})),r(X,Object.assign({uiAction:"skip",onClick:S=>xn(void 0,void 0,void 0,function*(){S.preventDefault(),h("skip");const P=yield f.actions.skip(null).run();h(null),yield u.flow.run(P,g)}),loadingSpinnerPosition:"left",hidden:!(!((c=(d=f.actions).skip)===null||c===void 0)&&c.call(d,null))},{children:l("labels.skip")}))]})]})};var Cn=G(560),Wt={};Wt.setAttributes=Xe(),Wt.insert=o=>{window._hankoStyle=o},Wt.domAPI=Ye(),Wt.insertStyleElement=et(),Ge()(Cn.A,Wt);const Nr=Cn.A&&Cn.A.locals?Cn.A.locals:void 0,Ur=({children:o,text:e})=>{const{t}=(0,_.useContext)(Z.TranslateContext),[n,i]=(0,_.useState)(!1);return r("section",Object.assign({className:Pt.clipboardContainer},{children:[r("div",{children:[o," "]}),r("div",Object.assign({className:Pt.clipboardIcon,onClick:s=>{return a=void 0,d=void 0,l=function*(){s.preventDefault();try{yield navigator.clipboard.writeText(e),i(!0),setTimeout(()=>i(!1),1500)}catch(u){console.error("Failed to copy: ",u)}},new((c=void 0)||(c=Promise))(function(u,h){function g(O){try{x(l.next(O))}catch(C){h(C)}}function f(O){try{x(l.throw(O))}catch(C){h(C)}}function x(O){var C;O.done?u(O.value):(C=O.value,C instanceof c?C:new c(function(S){S(C)})).then(g,f)}x((l=l.apply(a,d||[])).next())});var a,d,c,l}},{children:n?r("span",{children:["- ",t("labels.copied")]}):r(It,{name:"copy",secondary:!0,size:13})}))]}))},Hr=({src:o,secret:e})=>{const{t}=(0,_.useContext)(Z.TranslateContext);return r("div",Object.assign({className:Nr.otpCreationDetails},{children:[r("img",{alt:"QR-Code",src:o}),r(mn,{}),r(Ur,Object.assign({text:e},{children:t("texts.otpSecretKey")})),r("div",{children:e})]}))};var vo=function(o,e,t,n){return new(t||(t=Promise))(function(i,s){function a(l){try{c(n.next(l))}catch(u){s(u)}}function d(l){try{c(n.throw(l))}catch(u){s(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof t?u:new t(function(h){h(u)})).then(a,d)}c((n=n.apply(o,[])).next())})};const Rr=o=>{const{t:e}=(0,_.useContext)(Z.TranslateContext),{flowState:t}=Le(o.state),{hanko:n,uiState:i,setLoadingAction:s,stateHandler:a}=(0,_.useContext)(he),[d,c]=(0,_.useState)([]),l=(0,_.useCallback)(u=>vo(void 0,void 0,void 0,function*(){s("passcode-submit");const h=yield t.actions.otp_code_verify({otp_code:u}).run();s(null),yield n.flow.run(h,a)}),[t,s,a]);return(0,_.useEffect)(()=>{var u;((u=t.error)===null||u===void 0?void 0:u.code)==="passcode_invalid"&&c([])},[t]),r(A.Fragment,{children:[r(Oe,{children:[r(ue,{children:e("headlines.otpSetUp")}),r(Pe,{state:t}),r(z,{children:e("texts.otpScanQRCode")}),r(Hr,{src:t.payload.otp_image_source,secret:t.payload.otp_secret}),r(z,{children:e("texts.otpEnterVerificationCode")}),r(oe,Object.assign({onSubmit:u=>vo(void 0,void 0,void 0,function*(){return u.preventDefault(),l(d.join(""))})},{children:[r(uo,{onInput:u=>{if(c(u),u.filter(h=>h!=="").length===6)return l(u.join(""))},passcodeDigits:d,numberOfInputs:6}),r(ne,Object.assign({uiAction:"passcode-submit"},{children:e("labels.continue")}))]}))]}),r(Te,{children:r(X,Object.assign({onClick:u=>vo(void 0,void 0,void 0,function*(){u.preventDefault(),s("back");const h=yield t.actions.back(null).run();s(null),yield n.flow.run(h,a)}),loadingSpinnerPosition:"right",isLoading:i.loadingAction==="back"},{children:e("labels.back")}))})]})};var Pi=function(o,e,t,n){return new(t||(t=Promise))(function(i,s){function a(l){try{c(n.next(l))}catch(u){s(u)}}function d(l){try{c(n.throw(l))}catch(u){s(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof t?u:new t(function(h){h(u)})).then(a,d)}c((n=n.apply(o,[])).next())})};const qr=o=>{var e,t,n,i;const{t:s}=(0,_.useContext)(Z.TranslateContext),{hanko:a,setLoadingAction:d,stateHandler:c}=(0,_.useContext)(he),{flowState:l}=Le(o.state);return r(A.Fragment,{children:[r(Oe,{children:[r(ue,{children:s("headlines.securityKeySetUp")}),r(Pe,{state:l}),r(z,{children:s("texts.securityKeySetUp")}),r(oe,Object.assign({onSubmit:u=>Pi(void 0,void 0,void 0,function*(){u.preventDefault(),d("passkey-submit");const h=yield l.actions.webauthn_generate_creation_options(null).run();yield a.flow.run(h,c)})},{children:r(ne,Object.assign({uiAction:"passkey-submit",autofocus:!0,icon:"securityKey"},{children:s("labels.createSecurityKey")}))}))]}),r(Te,Object.assign({hidden:!(!((t=(e=l.actions).back)===null||t===void 0)&&t.call(e,null))},{children:r(X,Object.assign({uiAction:"back",onClick:u=>Pi(void 0,void 0,void 0,function*(){u.preventDefault(),d("back");const h=yield l.actions.back(null).run();d(null),yield a.flow.run(h,c)}),loadingSpinnerPosition:"right",hidden:!(!((i=(n=l.actions).back)===null||i===void 0)&&i.call(n,null))},{children:s("labels.back")}))}))]})};var _o=function(o,e,t,n){return new(t||(t=Promise))(function(i,s){function a(l){try{c(n.next(l))}catch(u){s(u)}}function d(l){try{c(n.throw(l))}catch(u){s(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof t?u:new t(function(h){h(u)})).then(a,d)}c((n=n.apply(o,[])).next())})};const Wr=o=>{var e,t,n,i;const{t:s}=(0,_.useContext)(Z.TranslateContext),{hanko:a,setLoadingAction:d,stateHandler:c}=(0,_.useContext)(he),{flowState:l}=Le(o.state);return r(A.Fragment,{children:[r(Oe,{children:[r(ue,{children:s("headlines.trustDevice")}),r(Pe,{flowError:l==null?void 0:l.error}),r(z,{children:s("texts.trustDevice")}),r(oe,Object.assign({onSubmit:u=>_o(void 0,void 0,void 0,function*(){u.preventDefault(),d("trust-device-submit");const h=yield l.actions.trust_device(null).run();d(null),yield a.flow.run(h,c)})},{children:r(ne,Object.assign({uiAction:"trust-device-submit"},{children:s("labels.trustDevice")}))}))]}),r(Te,{children:[r(X,Object.assign({uiAction:"back",onClick:u=>_o(void 0,void 0,void 0,function*(){u.preventDefault(),d("back");const h=yield l.actions.back(null).run();d(null),yield a.flow.run(h,c)}),loadingSpinnerPosition:"right",hidden:!(!((t=(e=l.actions).back)===null||t===void 0)&&t.call(e,null))},{children:s("labels.back")})),r(X,Object.assign({uiAction:"skip",onClick:u=>_o(void 0,void 0,void 0,function*(){u.preventDefault(),d("skip");const h=yield l.actions.skip(null).run();d(null),yield a.flow.run(h,c)}),loadingSpinnerPosition:"left",hidden:!(!((i=(n=l.actions).skip)===null||i===void 0)&&i.call(n,null))},{children:s("labels.skip")}))]})]})};var ze=function(o,e,t,n){return new(t||(t=Promise))(function(i,s){function a(l){try{c(n.next(l))}catch(u){s(u)}}function d(l){try{c(n.throw(l))}catch(u){s(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof t?u:new t(function(h){h(u)})).then(a,d)}c((n=n.apply(o,[])).next())})};const An="flow-state",he=(0,A.createContext)(null),zr=o=>{var{lang:e,experimental:t="",prefilledEmail:n,prefilledUsername:i,globalOptions:s,createWebauthnAbortSignal:a}=o,d=function(p,y){var L={};for(var K in p)Object.prototype.hasOwnProperty.call(p,K)&&y.indexOf(K)<0&&(L[K]=p[K]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function"){var fe=0;for(K=Object.getOwnPropertySymbols(p);fe<K.length;fe++)y.indexOf(K[fe])<0&&Object.prototype.propertyIsEnumerable.call(p,K[fe])&&(L[K[fe]]=p[K[fe]])}return L}(o,["lang","experimental","prefilledEmail","prefilledUsername","globalOptions","createWebauthnAbortSignal"]);const{hanko:c,injectStyles:l,hidePasskeyButtonOnLogin:u,translations:h,translationsLocation:g,fallbackLanguage:f}=s;c.setLang((e==null?void 0:e.toString())||f);const x=(0,_.useRef)(null),O=(0,_.useMemo)(()=>`${s.storageKey}_last_login`,[s.storageKey]),[C,S]=(0,_.useState)(d.componentName),P=(0,_.useMemo)(()=>t.split(" ").filter(p=>p.length).map(p=>p),[t]),$=(0,_.useMemo)(()=>r(hr,{}),[]),[M,N]=(0,_.useState)($),[,ie]=(0,_.useState)(c),[be,re]=(0,_.useState)(),[xe,U]=(0,_.useState)({email:n,username:i}),W=(0,_.useCallback)(p=>{U(y=>Object.assign(Object.assign({},y),{loadingAction:p,succeededAction:null,error:null,lastAction:p||y.lastAction}))},[]),_e=(0,_.useCallback)(p=>{U(y=>Object.assign(Object.assign({},y),{succeededAction:p,loadingAction:null}))},[]),Me=(0,_.useCallback)(()=>{U(p=>Object.assign(Object.assign({},p),{succeededAction:p.lastAction,loadingAction:null,error:null}))},[]),je=(0,_.useMemo)(()=>!!xe.loadingAction||!!xe.succeededAction,[xe]),Ne=function(p,y){var L;(L=x.current)===null||L===void 0||L.dispatchEvent(new CustomEvent(p,{detail:y,bubbles:!1,composed:!0}))},ae=p=>{W(null),N(r(Ai,{error:p instanceof Se?p:new Ee(p)}))},le=(0,_.useMemo)(()=>({onError:p=>{ae(p)},preflight(p){return ze(this,void 0,void 0,function*(){const y=yield _t.isConditionalMediationAvailable(),L=yield _t.isPlatformAuthenticatorAvailable(),K=yield p.actions.register_client_capabilities({webauthn_available:k,webauthn_conditional_mediation_available:y,webauthn_platform_authenticator_available:L}).run();return c.flow.run(K,le)})},login_init(p){return ze(this,void 0,void 0,function*(){N(r(fr,{state:p})),function(){ze(this,void 0,void 0,function*(){if(p.payload.request_options){let y;try{y=yield ai({publicKey:p.payload.request_options.publicKey,mediation:"conditional",signal:a()})}catch{return}W("passkey-submit");const L=yield p.actions.webauthn_verify_assertion_response({assertion_response:y}).run();W(null),yield c.flow.run(L,le)}})}()})},passcode_confirmation(p){N(r(vr,{state:p}))},login_otp(p){return ze(this,void 0,void 0,function*(){N(r(Lr,{state:p}))})},login_passkey(p){return ze(this,void 0,void 0,function*(){let y;W("passkey-submit");try{y=yield ai(Object.assign(Object.assign({},p.payload.request_options),{signal:a()}))}catch{const fe=yield p.actions.back(null).run();return U(Fe=>Object.assign(Object.assign({},Fe),{error:p.error,loadingAction:null})),c.flow.run(fe,le)}const L=yield p.actions.webauthn_verify_assertion_response({assertion_response:y}).run();W(null),yield c.flow.run(L,le)})},onboarding_create_passkey(p){N(r(_r,{state:p}))},onboarding_verify_passkey_attestation(p){return ze(this,void 0,void 0,function*(){let y;try{y=yield ri(Object.assign(Object.assign({},p.payload.creation_options),{signal:a()}))}catch{const fe=yield p.actions.back(null).run();return W(null),yield c.flow.run(fe,le),void U(Fe=>Object.assign(Object.assign({},Fe),{error:{code:"webauthn_credential_already_exists",message:"Webauthn credential already exists"}}))}const L=yield p.actions.webauthn_verify_attestation_response({public_key:y}).run();W(null),yield c.flow.run(L,le)})},webauthn_credential_verification(p){return ze(this,void 0,void 0,function*(){let y;try{y=yield ri(Object.assign(Object.assign({},p.payload.creation_options),{signal:a()}))}catch{const fe=yield p.actions.back(null).run();return W(null),yield c.flow.run(fe,le),void U(Fe=>Object.assign(Object.assign({},Fe),{error:{code:"webauthn_credential_already_exists",message:"Webauthn credential already exists"}}))}const L=yield p.actions.webauthn_verify_attestation_response({public_key:y}).run();yield c.flow.run(L,le)})},login_password(p){N(r(yr,{state:p}))},login_password_recovery(p){N(r(br,{state:p}))},login_security_key(p){return ze(this,void 0,void 0,function*(){N(r(Tr,{state:p}))})},mfa_method_chooser(p){return ze(this,void 0,void 0,function*(){N(r(Mr,{state:p}))})},mfa_otp_secret_creation(p){return ze(this,void 0,void 0,function*(){N(r(Rr,{state:p}))})},mfa_security_key_creation(p){return ze(this,void 0,void 0,function*(){N(r(qr,{state:p}))})},login_method_chooser(p){N(r(kr,{state:p}))},registration_init(p){N(r(wr,{state:p}))},password_creation(p){N(r(Sr,{state:p}))},success(p){var y;!((y=p.payload)===null||y===void 0)&&y.last_login&&localStorage.setItem(O,JSON.stringify(p.payload.last_login));const{claims:L}=p.payload,K=Date.parse(L.expiration)-Date.now();c.relay.dispatchSessionCreatedEvent({claims:L,expirationSeconds:K}),Me()},profile_init(p){N(r(Ir,{state:p,enablePasskeys:s.enablePasskeys}))},thirdparty(p){return ze(this,void 0,void 0,function*(){const y=new URLSearchParams(window.location.search).get("hanko_token");if(y&&y.length>0){const L=new URLSearchParams(window.location.search),K=yield p.actions.exchange_token({token:L.get("hanko_token")}).run();L.delete("hanko_token"),L.delete("saml_hint"),history.replaceState(null,null,window.location.pathname+(L.size<1?"":`?${L.toString()}`)),yield c.flow.run(K,le)}else U(L=>Object.assign(Object.assign({},L),{lastAction:null})),localStorage.setItem(An,JSON.stringify(p.toJSON())),window.location.assign(p.payload.redirect_url)})},error(p){W(null),N(r(Ai,{state:p}))},onboarding_email(p){N(r(jr,{state:p}))},onboarding_username(p){N(r($r,{state:p}))},credential_onboarding_chooser(p){N(r(Dr,{state:p}))},account_deleted(p){return ze(this,void 0,void 0,function*(){yield c.user.logout(),c.relay.dispatchUserDeletedEvent()})},device_trust(p){N(r(Wr,{state:p}))}}),[s.enablePasskeys,c,Me,W]),pe=(0,_.useCallback)(p=>ze(void 0,void 0,void 0,function*(){W("switch-flow");const y=localStorage.getItem(O);y&&re(JSON.parse(y));const L=new URLSearchParams(window.location.search).get("hanko_token"),K=localStorage.getItem(An);new URLSearchParams(window.location.search).get("saml_hint")==="idp_initiated"?yield c.flow.init("/token_exchange",Object.assign({},le)):K&&K.length>0&&L&&L.length>0?(yield c.flow.fromString(localStorage.getItem(An),Object.assign({},le)),localStorage.removeItem(An)):yield c.flow.init(p,Object.assign({},le)),W(null)}),[le]),$e=(0,_.useCallback)(p=>{switch(p){case"auth":case"login":pe("/login").catch(ae);break;case"registration":pe("/registration").catch(ae);break;case"profile":pe("/profile").catch(ae)}},[pe]);(0,_.useEffect)(()=>$e(C),[]),(0,_.useEffect)(()=>{c.onUserDeleted(()=>{Ne("onUserDeleted")}),c.onSessionCreated(p=>{Ne("onSessionCreated",p)}),c.onSessionExpired(()=>{Ne("onSessionExpired")}),c.onUserLoggedOut(()=>{Ne("onUserLoggedOut")})},[c]),(0,_.useMemo)(()=>{const p=()=>{$e(C)};["auth","login","registration"].includes(C)?(c.onUserLoggedOut(p),c.onSessionExpired(p),c.onUserDeleted(p)):C==="profile"&&c.onSessionCreated(p)},[]);const k=_t.supported();return r(he.Provider,Object.assign({value:{init:$e,initialComponentName:d.componentName,isDisabled:je,setUIState:U,setLoadingAction:W,setSucceededAction:_e,uiState:xe,hanko:c,setHanko:ie,lang:(e==null?void 0:e.toString())||f,prefilledEmail:n,prefilledUsername:i,componentName:C,setComponentName:S,experimentalFeatures:P,hidePasskeyButtonOnLogin:u,page:M,setPage:N,stateHandler:le,lastLogin:be}},{children:r(Z.TranslateProvider,Object.assign({translations:h,fallbackLang:f,root:g},{children:r(Vs,Object.assign({ref:x},{children:C!=="events"?r(A.Fragment,{children:[l?r("style",{dangerouslySetInnerHTML:{__html:window._hankoStyle.innerHTML}}):null,M]}):null}))}))}))},Fr={en:G(6).en};var Ei=function(o,e,t,n){return new(t||(t=Promise))(function(i,s){function a(l){try{c(n.next(l))}catch(u){s(u)}}function d(l){try{c(n.throw(l))}catch(u){s(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof t?u:new t(function(h){h(u)})).then(a,d)}c((n=n.apply(o,[])).next())})};const tt={},zt=(o,e)=>r(zr,Object.assign({componentName:o,globalOptions:tt,createWebauthnAbortSignal:Qr},e)),Kr=o=>zt("auth",o),Br=o=>zt("login",o),Vr=o=>zt("registration",o),Zr=o=>zt("profile",o),Jr=o=>zt("events",o);let On=new AbortController;const Qr=()=>(On&&On.abort(),On=new AbortController,On.signal),Ft=({tagName:o,entryComponent:e,shadow:t=!0,observedAttributes:n})=>Ei(void 0,void 0,void 0,function*(){customElements.get(o)||function(i,s,a,d){function c(){var l=Reflect.construct(HTMLElement,[],c);return l._vdomComponent=i,l._root=d&&d.shadow?l.attachShadow({mode:"open"}):l,l}(c.prototype=Object.create(HTMLElement.prototype)).constructor=c,c.prototype.connectedCallback=cs,c.prototype.attributeChangedCallback=ds,c.prototype.disconnectedCallback=us,a=a||i.observedAttributes||Object.keys(i.propTypes||{}),c.observedAttributes=a,a.forEach(function(l){Object.defineProperty(c.prototype,l,{get:function(){var u,h,g,f;return(u=(h=this._vdom)==null||(g=h.props)==null?void 0:g[l])!=null?u:(f=this._props)==null?void 0:f[l]},set:function(u){this._vdom?this.attributeChangedCallback(l,null,u):(this._props||(this._props={}),this._props[l]=u,this.connectedCallback());var h=typeof u;u!=null&&h!=="string"&&h!=="boolean"&&h!=="number"||this.setAttribute(l,u)}})}),customElements.define(s||i.tagName||i.displayName||i.name,c)}(e,o,n,{shadow:t})}),Gr=(o,e={})=>Ei(void 0,void 0,void 0,function*(){const t=["api","lang","experimental","prefilled-email","entry"];return e=Object.assign({shadow:!0,injectStyles:!0,enablePasskeys:!0,hidePasskeyButtonOnLogin:!1,translations:null,translationsLocation:"/i18n",fallbackLanguage:"en",storageKey:"hanko",sessionCheckInterval:3e4},e),tt.hanko=new _i(o,{cookieName:e.storageKey,cookieDomain:e.cookieDomain,cookieSameSite:e.cookieSameSite,localStorageKey:e.storageKey,sessionCheckInterval:e.sessionCheckInterval,sessionTokenLocation:e.sessionTokenLocation}),tt.injectStyles=e.injectStyles,tt.enablePasskeys=e.enablePasskeys,tt.hidePasskeyButtonOnLogin=e.hidePasskeyButtonOnLogin,tt.translations=e.translations||Fr,tt.translationsLocation=e.translationsLocation,tt.fallbackLanguage=e.fallbackLanguage,tt.storageKey=e.storageKey,yield Promise.all([Ft(Object.assign(Object.assign({},e),{tagName:"hanko-auth",entryComponent:Kr,observedAttributes:t})),Ft(Object.assign(Object.assign({},e),{tagName:"hanko-login",entryComponent:Br,observedAttributes:t})),Ft(Object.assign(Object.assign({},e),{tagName:"hanko-registration",entryComponent:Vr,observedAttributes:t})),Ft(Object.assign(Object.assign({},e),{tagName:"hanko-profile",entryComponent:Zr,observedAttributes:t.filter(n=>["api","lang"].includes(n))})),Ft(Object.assign(Object.assign({},e),{tagName:"hanko-events",entryComponent:Jr,observedAttributes:[]}))]),{hanko:tt.hanko}});te.fK,te.tJ,te.Z7,te.Q9,te.Lv,te.qQ;var Yr=te.I4;te.O8,te.ku,te.ls,te.bO,te.yv,te.AT,te.m_,te.KG,te.DH,te.kf,te.oY,te.xg,te.Wg,te.J,te.AC,te.D_,te.jx,te.nX,te.Nx,te.Sd;var Ii=te.kz;te.fX,te.qA,te.tz,te.gN;const Xr=Object.freeze(Object.defineProperty({__proto__:null,Hanko:Yr,register:Ii},Symbol.toStringTag,{value:"Module"})),yo={en:{logIn:"Log in",logOut:"Log Out",myHotAccount:"My HOT Account",connectToOsm:"Connect to OSM",connectedToOsm:"Connected to OSM",connectedToOpenStreetMap:"Connected to OpenStreetMap",connectingToOpenStreetMap:"Connecting to OpenStreetMap...",checkingOsmConnection:"Checking OSM connection...",osmRequired:"OSM Required",osmRequiredText:"This endpoint requires OSM connection.",connectOsmAccount:"Connect OSM Account",openAccountMenu:"Open account menu",connectedToOsmAs:"Connected to OSM as",osmConnectionRequired:"OSM connection required"},es:{logIn:"Iniciar sesión",logOut:"Cerrar sesión",myHotAccount:"Mi cuenta HOT",connectToOsm:"Conectar a OSM",connectedToOsm:"Conectado a OSM",connectedToOpenStreetMap:"Conectado a OpenStreetMap",connectingToOpenStreetMap:"Conectando a OpenStreetMap...",checkingOsmConnection:"Verificando conexión OSM...",osmRequired:"OSM Requerido",osmRequiredText:"Este endpoint requiere conexión OSM.",connectOsmAccount:"Conectar cuenta OSM",openAccountMenu:"Abrir menú de cuenta",connectedToOsmAs:"Conectado a OSM como",osmConnectionRequired:"Se requiere conexión OSM"},fr:{logIn:"Se connecter",logOut:"Se déconnecter",myHotAccount:"Mon compte HOT",connectToOsm:"Connecter à OSM",connectedToOsm:"Connecté à OSM",connectedToOpenStreetMap:"Connecté à OpenStreetMap",connectingToOpenStreetMap:"Connexion à OpenStreetMap...",checkingOsmConnection:"Vérification de la connexion OSM...",osmRequired:"OSM requis",osmRequiredText:"Ce point de terminaison nécessite une connexion OSM.",connectOsmAccount:"Connecter le compte OSM",openAccountMenu:"Ouvrir le menu du compte",connectedToOsmAs:"Connecté à OSM en tant que",osmConnectionRequired:"Connexion OSM requise"},pt:{logIn:"Entrar",logOut:"Sair",myHotAccount:"Minha conta HOT",connectToOsm:"Conectar ao OSM",connectedToOsm:"Conectado ao OSM",connectedToOpenStreetMap:"Conectado ao OpenStreetMap",connectingToOpenStreetMap:"Conectando ao OpenStreetMap...",checkingOsmConnection:"Verificando conexão OSM...",osmRequired:"OSM Necessário",osmRequiredText:"Este endpoint requer conexão OSM.",connectOsmAccount:"Conectar conta OSM",openAccountMenu:"Abrir menu da conta",connectedToOsmAs:"Conectado ao OSM como",osmConnectionRequired:"Conexão OSM necessária"}},ea="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='16'%20height='16'%20fill='currentColor'%20class='bi%20bi-person-vcard'%20viewBox='0%200%2016%2016'%3e%3cpath%20d='M5%208a2%202%200%201%200%200-4%202%202%200%200%200%200%204m4-2.5a.5.5%200%200%201%20.5-.5h4a.5.5%200%200%201%200%201h-4a.5.5%200%200%201-.5-.5M9%208a.5.5%200%200%201%20.5-.5h4a.5.5%200%200%201%200%201h-4A.5.5%200%200%201%209%208m1%202.5a.5.5%200%200%201%20.5-.5h3a.5.5%200%200%201%200%201h-3a.5.5%200%200%201-.5-.5'/%3e%3cpath%20d='M2%202a2%202%200%200%200-2%202v8a2%202%200%200%200%202%202h12a2%202%200%200%200%202-2V4a2%202%200%200%200-2-2zM1%204a1%201%200%200%201%201-1h12a1%201%200%200%201%201%201v8a1%201%200%200%201-1%201H8.96q.04-.245.04-.5C9%2010.567%207.21%209%205%209c-2.086%200-3.8%201.398-3.984%203.181A1%201%200%200%201%201%2012z'/%3e%3c/svg%3e",ta="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='16'%20height='16'%20fill='currentColor'%20class='bi%20bi-box-arrow-right'%20viewBox='0%200%2016%2016'%3e%3cpath%20fill-rule='evenodd'%20d='M10%2012.5a.5.5%200%200%201-.5.5h-8a.5.5%200%200%201-.5-.5v-9a.5.5%200%200%201%20.5-.5h8a.5.5%200%200%201%20.5.5v2a.5.5%200%200%200%201%200v-2A1.5%201.5%200%200%200%209.5%202h-8A1.5%201.5%200%200%200%200%203.5v9A1.5%201.5%200%200%200%201.5%2014h8a1.5%201.5%200%200%200%201.5-1.5v-2a.5.5%200%200%200-1%200z'/%3e%3cpath%20fill-rule='evenodd'%20d='M15.854%208.354a.5.5%200%200%200%200-.708l-3-3a.5.5%200%200%200-.708.708L14.293%207.5H5.5a.5.5%200%200%200%200%201h8.793l-2.147%202.146a.5.5%200%200%200%20.708.708z'/%3e%3c/svg%3e",na="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='16'%20height='16'%20fill='currentColor'%20class='bi%20bi-map'%20viewBox='0%200%2016%2016'%3e%3cpath%20fill-rule='evenodd'%20d='M15.817.113A.5.5%200%200%201%2016%20.5v14a.5.5%200%200%201-.402.49l-5%201a.5.5%200%200%201-.196%200L5.5%2015.01l-4.902.98A.5.5%200%200%201%200%2015.5v-14a.5.5%200%200%201%20.402-.49l5-1a.5.5%200%200%201%20.196%200L10.5.99l4.902-.98a.5.5%200%200%201%20.415.103M10%201.91l-4-.8v12.98l4%20.8zm1%2012.98%204-.8V1.11l-4%20.8zm-6-.8V1.11l-4%20.8v12.98z'/%3e%3c/svg%3e",oa="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='16'%20height='16'%20fill='currentColor'%20class='bi%20bi-person-check'%20viewBox='0%200%2016%2016'%3e%3cpath%20d='M12.5%2016a3.5%203.5%200%201%200%200-7%203.5%203.5%200%200%200%200%207m1.679-4.493-1.335%202.226a.75.75%200%200%201-1.174.144l-.774-.773a.5.5%200%200%201%20.708-.708l.547.548%201.17-1.951a.5.5%200%201%201%20.858.514M11%205a3%203%200%201%201-6%200%203%203%200%200%201%206%200M8%207a2%202%200%201%200%200-4%202%202%200%200%200%200%204'/%3e%3cpath%20d='M8.256%2014a4.5%204.5%200%200%201-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484%2010.68%205.711%2010%208%2010q.39%200%20.74.025c.226-.341.496-.65.804-.918Q8.844%209.002%208%209c-5%200-6%203-6%204s1%201%201%201z'/%3e%3c/svg%3e";var ia=Object.defineProperty,sa=Object.getOwnPropertyDescriptor,ve=(o,e,t,n)=>{for(var i=n>1?void 0:n?sa(e,t):e,s=o.length-1,a;s>=0;s--)(a=o[s])&&(i=(n?a(e,t,i):a(i))||i);return n&&i&&ia(e,t,i),i};const se={primary:null,user:null,osmConnected:!1,osmData:null,loading:!0,hanko:null,initialized:!1,instances:new Set,profileDisplayName:""},ji=o=>`hanko-verified-${o}`,$i=o=>`hanko-onboarding-${o}`;return ce.HankoAuth=class extends xt{constructor(){super(...arguments),this.hankoUrlAttr="",this.basePath="",this.authPath="/api/auth/osm",this.osmRequired=!1,this.osmScopes="read_prefs",this.showProfile=!1,this.redirectAfterLogin="",this.autoConnect=!1,this.verifySession=!1,this.redirectAfterLogout="",this.displayNameAttr="",this.mappingCheckUrl="",this.appId="",this.loginUrl="",this.lang="en",this.user=null,this.osmConnected=!1,this.osmData=null,this.osmLoading=!1,this.loading=!0,this.error=null,this.profileDisplayName="",this.hasAppMapping=!1,this.isOpen=!1,this.handleOutsideClick=e=>{this.contains(e.target)||this.closeDropdown()},this._trailingSlashCache={},this._debugMode=!1,this._lastSessionId=null,this._hanko=null,this._isPrimary=!1,this._handleVisibilityChange=()=>{this._isPrimary&&!document.hidden&&!this.showProfile&&!this.user&&(this.log("👁️ Page visible, re-checking session..."),this.checkSession())},this._handleWindowFocus=()=>{this._isPrimary&&!this.showProfile&&!this.user&&(this.log("🎯 Window focused, re-checking session..."),this.checkSession())},this._handleExternalLogin=e=>{var n;if(!this._isPrimary)return;const t=e;!this.showProfile&&!this.user&&((n=t.detail)!=null&&n.user)&&(this.log("🔔 External login detected, updating user state..."),this.user=t.detail.user,this._broadcastState(),this.osmRequired&&this.checkOSMConnection())}}toggleDropdown(){this.isOpen=!this.isOpen,this.isOpen?setTimeout(()=>{document.addEventListener("click",this.handleOutsideClick)},0):document.removeEventListener("click",this.handleOutsideClick)}closeDropdown(){this.isOpen=!1,document.removeEventListener("click",this.handleOutsideClick)}get hankoUrl(){if(this.hankoUrlAttr)return this.hankoUrlAttr;const e=document.querySelector('meta[name="hanko-url"]');if(e){const n=e.getAttribute("content");if(n)return this.log("🔍 hanko-url auto-detected from <meta> tag:",n),n}if(window.HANKO_URL)return this.log("🔍 hanko-url auto-detected from window.HANKO_URL:",window.HANKO_URL),window.HANKO_URL;const t=window.location.origin;return this.log("🔍 hanko-url auto-detected from window.location.origin:",t),t}connectedCallback(){super.connectedCallback(),this._debugMode=this._checkDebugMode(),this.log("🔌 hanko-auth connectedCallback called"),this.injectHotStyles(),se.instances.add(this),document.addEventListener("visibilitychange",this._handleVisibilityChange),window.addEventListener("focus",this._handleWindowFocus),document.addEventListener("hanko-login",this._handleExternalLogin)}firstUpdated(){this.log("🔌 hanko-auth firstUpdated called"),this.log("  hankoUrl:",this.hankoUrl),this.log("  basePath:",this.basePath),se.initialized||se.primary?(this.log("🔄 Using shared state from primary instance"),this._syncFromShared(),this._isPrimary=!1):(this.log("👑 This is the primary instance"),this._isPrimary=!0,se.primary=this,se.initialized=!0,this.init())}disconnectedCallback(){if(super.disconnectedCallback(),document.removeEventListener("visibilitychange",this._handleVisibilityChange),window.removeEventListener("focus",this._handleWindowFocus),document.removeEventListener("hanko-login",this._handleExternalLogin),document.removeEventListener("click",this.handleOutsideClick),se.instances.delete(this),this._isPrimary&&se.instances.size>0){const e=se.instances.values().next().value;e&&(this.log("👑 Promoting new primary instance"),e._isPrimary=!0,se.primary=e)}se.instances.size===0&&(se.initialized=!1,se.primary=null)}_syncFromShared(){this.user!==se.user&&(this.user=se.user),this.osmConnected!==se.osmConnected&&(this.osmConnected=se.osmConnected),this.osmData!==se.osmData&&(this.osmData=se.osmData),this.loading!==se.loading&&(this.loading=se.loading),this._hanko!==se.hanko&&(this._hanko=se.hanko),this.profileDisplayName!==se.profileDisplayName&&(this.profileDisplayName=se.profileDisplayName)}_broadcastState(){se.user=this.user,se.osmConnected=this.osmConnected,se.osmData=this.osmData,se.loading=this.loading,se.profileDisplayName=this.profileDisplayName,se.instances.forEach(e=>{e!==this&&e._syncFromShared()})}_checkDebugMode(){if(new URLSearchParams(window.location.search).get("debug")==="true")return!0;try{return localStorage.getItem("hanko-auth-debug")==="true"}catch{return!1}}log(...e){this._debugMode&&console.log(...e)}t(e){return(yo[this.lang]||yo.en)[e]||yo.en[e]||e}warn(...e){console.warn(...e)}logError(...e){console.error(...e)}getBasePath(){return this.basePath?(this.log("🔍 getBasePath() using basePath:",this.basePath),this.basePath):(this.log("🔍 getBasePath() using default: empty string"),"")}addTrailingSlash(e,t){const n=this._trailingSlashCache[t];return n!==void 0&&n&&!e.endsWith("/")?e+"/":e}injectHotStyles(){[{id:"hot-design-system",href:"https://cdn.jsdelivr.net/npm/hotosm-ui-design@latest/dist/hot.css"},{id:"google-font-archivo",href:"https://fonts.googleapis.com/css2?family=Archivo:wght@400;500;600;700&display=swap"}].forEach(({id:t,href:n})=>{if(!document.getElementById(t)){const i=document.createElement("link");i.rel="stylesheet",i.href=n,i.id=t,document.head.appendChild(i)}})}async init(){if(!this._isPrimary){this.log("⏭️ Not primary, skipping init...");return}try{await Ii(this.hankoUrl,{enablePasskeys:!1,hidePasskeyButtonOnLogin:!0});const{Hanko:e}=await Promise.resolve().then(()=>Xr),t=window.location.hostname,n=t==="localhost"||t==="127.0.0.1",i=t.split("."),s=i.length>=2?`.${i.slice(-2).join(".")}`:t,a=n?{}:{cookieDomain:s,cookieName:"hanko",cookieSameSite:"lax"};this._hanko=new e(this.hankoUrl,a),se.hanko=this._hanko,this._hanko.onSessionExpired(()=>{this.log("🕒 Hanko session expired event received"),this.handleSessionExpired()}),this._hanko.onUserLoggedOut(()=>{this.log("🚪 Hanko user logged out event received"),this.handleUserLoggedOut()}),await this.checkSession(),this.user&&(this.osmRequired&&await this.checkOSMConnection(),await this.fetchProfileDisplayName()),this.loading=!1,this._broadcastState(),this.setupEventListeners()}catch(e){this.logError("Failed to initialize hanko-auth:",e),this.error=e.message,this.loading=!1,this._broadcastState()}}async checkSession(){if(this.log("🔍 Checking for existing Hanko session..."),!this._hanko){this.log("⚠️ Hanko instance not initialized yet");return}try{this.log("📡 Checking session validity via cookie...");try{const e=await fetch(`${this.hankoUrl}/sessions/validate`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json();if(t.is_valid===!1){this.log("ℹ️ Session validation returned is_valid:false - no valid session");return}this.log("✅ Valid Hanko session found via cookie"),this.log("📋 Session data:",t);try{const n=await fetch(`${this.hankoUrl}/me`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});let i=!0;if(n.ok){const s=await n.json();this.log("👤 User data retrieved from /me:",s),s.email?(this.user={id:s.user_id||s.id,email:s.email,username:s.username||null,emailVerified:s.email_verified||s.verified||!1},i=!1):this.log("⚠️ /me has no email, will use SDK fallback")}if(i){this.log("🔄 Using SDK to get user with email");const s=await this._hanko.user.getCurrent();this.user={id:s.id,email:s.email,username:s.username,emailVerified:s.email_verified||!1}}}catch(n){this.log("⚠️ Failed to get user data:",n),t.user_id&&(this.user={id:t.user_id,email:t.email||null,username:null,emailVerified:!1})}if(this.user){const n=ji(window.location.hostname),i=sessionStorage.getItem(n);if(this.verifySession&&this.redirectAfterLogin&&!i){this.log("🔄 verify-session enabled, redirecting to callback for app verification..."),sessionStorage.setItem(n,"true"),window.location.href=this.redirectAfterLogin;return}if(!await this.checkAppMapping())return;this.dispatchEvent(new CustomEvent("hanko-login",{detail:{user:this.user},bubbles:!0,composed:!0})),this.dispatchEvent(new CustomEvent("auth-complete",{bubbles:!0,composed:!0})),this.osmRequired&&await this.checkOSMConnection(),await this.fetchProfileDisplayName(),this.osmRequired&&this.autoConnect&&!this.osmConnected&&(this.log("🔄 Auto-connecting to OSM (from existing session)..."),this.handleOSMConnect())}}else this.log("ℹ️ No valid session cookie found - user needs to login")}catch(e){this.log("⚠️ Session validation failed:",e),this.log("ℹ️ No valid session - user needs to login")}}catch(e){this.log("⚠️ Session check error:",e),this.log("ℹ️ No existing session - user needs to login")}finally{this._isPrimary&&this._broadcastState()}}async checkOSMConnection(){if(!this.osmRequired){this.log("⏭️ OSM not required, skipping connection check");return}if(this.osmConnected){this.log("⏭️ Already connected to OSM, skipping check");return}const e=this.loading;e||(this.osmLoading=!0);try{const t=this.getBasePath(),n=this.authPath,s=`${`${t}${n}/status`}`;this.log("🔍 Checking OSM connection at:",s),this.log("  basePath:",t),this.log("  authPath:",n),this.log("🍪 Current cookies:",document.cookie);const a=await fetch(s,{credentials:"include",redirect:"follow"});if(this.log("📡 OSM status response:",a.status),this.log("📡 Final URL after redirects:",a.url),this.log("📡 Response headers:",[...a.headers.entries()]),a.ok){const d=await a.text();this.log("📡 OSM raw response:",d.substring(0,200));let c;try{c=JSON.parse(d)}catch{throw this.logError("Failed to parse OSM response as JSON:",d.substring(0,500)),new Error("Invalid JSON response from OSM status endpoint")}this.log("📡 OSM status data:",c),c.connected?(this.log("✅ OSM is connected:",c.osm_username),this.osmConnected=!0,this.osmData=c,this.dispatchEvent(new CustomEvent("osm-connected",{detail:{osmData:c},bubbles:!0,composed:!0}))):(this.log("❌ OSM is NOT connected"),this.osmConnected=!1,this.osmData=null)}}catch(t){this.logError("OSM connection check failed:",t)}finally{e||(this.osmLoading=!1),this._isPrimary&&this._broadcastState()}}async checkAppMapping(){if(!this.mappingCheckUrl||!this.user)return!0;const e=$i(window.location.hostname),t=sessionStorage.getItem(e);this.log("🔍 Checking app mapping at:",this.mappingCheckUrl);try{const n=await fetch(this.mappingCheckUrl,{credentials:"include"});if(n.ok){const i=await n.json();if(this.log("📡 Mapping check response:",i),i.needs_onboarding){if(t)return this.log("⚠️ Already tried onboarding this session, skipping redirect"),!0;this.log("⚠️ User needs onboarding, redirecting..."),sessionStorage.setItem(e,"true");const s=encodeURIComponent(window.location.origin),a=this.appId?`onboarding=${this.appId}`:"";return window.location.href=`${this.hankoUrl}/app?${a}&return_to=${s}`,!1}return sessionStorage.removeItem(e),this.hasAppMapping=!0,this.log("✅ User has app mapping"),!0}else if(n.status===401||n.status===403){if(t)return this.log("⚠️ Already tried onboarding this session, skipping redirect"),!0;this.log("⚠️ 401/403 - User needs onboarding, redirecting..."),sessionStorage.setItem(e,"true");const i=encodeURIComponent(window.location.origin),s=this.appId?`onboarding=${this.appId}`:"";return window.location.href=`${this.hankoUrl}/app?${s}&return_to=${i}`,!1}return this.log("⚠️ Unexpected status from mapping check:",n.status),!0}catch(n){return this.log("⚠️ App mapping check failed:",n),!0}}async fetchProfileDisplayName(){try{const e=`${this.hankoUrl}/api/profile/me`;this.log("👤 Fetching profile from:",e);const t=await fetch(e,{credentials:"include"});if(t.ok){const n=await t.json();this.log("👤 Profile data:",n),(n.first_name||n.last_name)&&(this.profileDisplayName=`${n.first_name||""} ${n.last_name||""}`.trim(),this.log("👤 Display name set to:",this.profileDisplayName))}}catch(e){this.log("⚠️ Could not fetch profile:",e)}}setupEventListeners(){this.updateComplete.then(()=>{var t;const e=(t=this.shadowRoot)==null?void 0:t.querySelector("hanko-auth");e&&(e.addEventListener("onSessionCreated",n=>{var s,a;this.log("🎯 Hanko event: onSessionCreated",n.detail);const i=(a=(s=n.detail)==null?void 0:s.claims)==null?void 0:a.session_id;if(i&&this._lastSessionId===i){this.log("⏭️ Skipping duplicate session event");return}this._lastSessionId=i,this.handleHankoSuccess(n)}),e.addEventListener("hankoAuthLogout",()=>this.handleLogout()))})}async handleHankoSuccess(e){var i;if(this.log("Hanko auth success:",e.detail),!this._hanko){this.logError("Hanko instance not initialized");return}let t=!1;try{const s=new AbortController,a=setTimeout(()=>s.abort(),5e3),d=await fetch(`${this.hankoUrl}/me`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"},signal:s.signal});if(clearTimeout(a),d.ok){const c=await d.json();this.log("👤 User data retrieved from /me:",c),c.email?(this.user={id:c.user_id||c.id,email:c.email,username:c.username||null,emailVerified:c.email_verified||c.verified||!1},t=!0):this.log("⚠️ /me has no email, will try SDK fallback")}else this.log("⚠️ /me endpoint returned non-OK status, will try SDK fallback")}catch(s){this.log("⚠️ /me endpoint fetch failed (timeout or cross-origin TLS issue):",s)}if(!t)try{this.log("🔄 Trying SDK fallback for user info...");const s=new Promise((d,c)=>setTimeout(()=>c(new Error("SDK timeout")),5e3)),a=await Promise.race([this._hanko.user.getCurrent(),s]);this.user={id:a.id,email:a.email,username:a.username,emailVerified:a.email_verified||!1},t=!0,this.log("✅ User info retrieved via SDK fallback")}catch(s){this.log("⚠️ SDK fallback failed, trying JWT claims:",s);try{const a=(i=e.detail)==null?void 0:i.claims;if(a!=null&&a.sub)this.user={id:a.sub,email:a.email||null,username:null,emailVerified:a.email_verified||!1},t=!0,this.log("✅ User info extracted from JWT claims");else{this.logError("No user claims available in event"),this.user=null;return}}catch(a){this.logError("Failed to extract user info from claims:",a),this.user=null;return}}if(this.log("✅ User state updated:",this.user),this._isPrimary&&this._broadcastState(),this.dispatchEvent(new CustomEvent("hanko-login",{detail:{user:this.user},bubbles:!0,composed:!0})),this.osmRequired&&await this.checkOSMConnection(),await this.fetchProfileDisplayName(),this.osmRequired&&this.autoConnect&&!this.osmConnected){this.log("🔄 Auto-connecting to OSM..."),this.handleOSMConnect();return}const n=!this.osmRequired||this.osmConnected;this.log("🔄 Checking redirect-after-login:",this.redirectAfterLogin,"showProfile:",this.showProfile,"canRedirect:",n),n?(this.dispatchEvent(new CustomEvent("auth-complete",{bubbles:!0,composed:!0})),this.redirectAfterLogin?(this.log("✅ Redirecting to:",this.redirectAfterLogin),window.location.href=this.redirectAfterLogin):this.log("❌ No redirect (redirectAfterLogin not set)")):this.log("⏸️ Waiting for OSM connection before redirect")}async handleOSMConnect(){const e=this.osmScopes.split(" ").join("+"),t=this.getBasePath(),n=this.authPath,s=`${`${t}${n}/login`}?scopes=${e}`;this.log("🔗 OSM Connect clicked!"),this.log("  basePath:",t),this.log("  authPath:",n),this.log("  Login path:",s),this.log("  Fetching redirect URL from backend...");try{const a=await fetch(s,{method:"GET",credentials:"include",redirect:"manual"});if(this.log("  Response status:",a.status),this.log("  Response type:",a.type),a.status===0||a.type==="opaqueredirect"){const d=a.headers.get("Location")||a.url;this.log("  ✅ Got redirect URL:",d),window.location.href=d}else if(a.status>=300&&a.status<400){const d=a.headers.get("Location");this.log("  ✅ Got redirect URL from header:",d),d&&(window.location.href=d)}else{this.logError("  ❌ Unexpected response:",a.status);const d=await a.text();this.logError("  Response body:",d.substring(0,200))}}catch(a){this.logError("  ❌ Failed to fetch redirect URL:",a)}}async handleLogout(){this.log("🚪 Logout initiated"),this.log("📊 Current state before logout:",{user:this.user,osmConnected:this.osmConnected,osmData:this.osmData}),this.log("🍪 Cookies before logout:",document.cookie);try{const e=this.getBasePath(),t=this.authPath,n=`${e}${t}/disconnect`,i=n.startsWith("http")?n:`${window.location.origin}${n}`;this.log("🔌 Calling OSM disconnect:",i);const s=await fetch(i,{method:"POST",credentials:"include"});this.log("📡 Disconnect response status:",s.status);const a=await s.json();this.log("📡 Disconnect response data:",a),this.log("✅ OSM disconnected")}catch(e){this.logError("❌ OSM disconnect failed:",e)}if(this._hanko)try{await this._hanko.user.logout(),this.log("✅ Hanko logout successful")}catch(e){this.logError("Hanko logout failed:",e)}if(this._clearAuthState(),this.log("✅ Logout complete - component will re-render with updated state"),this.redirectAfterLogout){const e=window.location.href.replace(/\/$/,""),t=this.redirectAfterLogout.replace(/\/$/,"");e!==t&&!e.startsWith(t+"#")?(this.log("🔄 Redirecting after logout to:",this.redirectAfterLogout),window.location.href=this.redirectAfterLogout):this.log("⏭️ Already on logout target, skipping redirect")}}_clearAuthState(){const e=window.location.hostname;document.cookie=`hanko=; path=/; domain=${e}; max-age=0`,document.cookie="hanko=; path=/; max-age=0",document.cookie=`osm_connection=; path=/; domain=${e}; max-age=0`,document.cookie="osm_connection=; path=/; max-age=0",this.log("🍪 Cookies cleared");const t=ji(e),n=$i(e);sessionStorage.removeItem(t),sessionStorage.removeItem(n),this.log("🔄 Session flags cleared"),this.user=null,this.osmConnected=!1,this.osmData=null,this.hasAppMapping=!1,this._isPrimary&&this._broadcastState(),this.dispatchEvent(new CustomEvent("logout",{bubbles:!0,composed:!0}))}async handleSessionExpired(){if(this.log("🕒 Session expired event received"),this.log("📊 Current state:",{user:this.user,osmConnected:this.osmConnected,loading:this.loading}),this.loading){this.log("⏳ Still loading, ignoring session expired event during init");return}if(this.user){this.log("✅ User is logged in, ignoring stale session expired event");return}this.log("🧹 No active user - cleaning up state");try{const e=this.getBasePath(),t=this.authPath,n=`${e}${t}/disconnect`,i=n.startsWith("http")?n:`${window.location.origin}${n}`;this.log("🔌 Calling OSM disconnect (session expired):",i);const s=await fetch(i,{method:"POST",credentials:"include"});this.log("📡 Disconnect response status:",s.status);const a=await s.json();this.log("📡 Disconnect response data:",a),this.log("✅ OSM disconnected")}catch(e){this.logError("❌ OSM disconnect failed:",e)}if(this._clearAuthState(),this.log("✅ Session cleanup complete"),this.redirectAfterLogout){const e=window.location.href.replace(/\/$/,""),t=this.redirectAfterLogout.replace(/\/$/,"");e!==t&&!e.startsWith(t+"#")?(this.log("🔄 Redirecting after session expired to:",this.redirectAfterLogout),window.location.href=this.redirectAfterLogout):this.log("⏭️ Already on logout target, skipping redirect")}}handleUserLoggedOut(){this.log("🚪 User logged out in another window/tab"),this.handleSessionExpired()}handleDropdownSelect(e){const n=e.currentTarget.dataset.action;if(this.log("🎯 Dropdown item selected:",n),n==="profile"){const i=this.hankoUrl,s=this.redirectAfterLogin||window.location.origin;window.location.href=`${i}/app/profile?return_to=${encodeURIComponent(s)}`}else if(n==="connect-osm"){const a=window.location.pathname.includes("/app")?window.location.origin:window.location.href,d=this.hankoUrl;window.location.href=`${d}/app?return_to=${encodeURIComponent(a)}&osm_required=true`}else n==="logout"&&this.handleLogout();this.closeDropdown()}oldHandleDropdownSelect(e){const t=e.detail.item.value;if(this.log("🎯 Dropdown item selected:",t),t==="profile"){const n=this.redirectAfterLogin||window.location.origin,i=this.loginUrl?`${this.loginUrl}/profile`:`${this.hankoUrl}/app/profile`;window.location.href=`${i}?return_to=${encodeURIComponent(n)}`}else if(t==="connect-osm"){const s=window.location.pathname.includes("/app")?window.location.origin:window.location.href,a=this.hankoUrl;window.location.href=`${a}/app?return_to=${encodeURIComponent(s)}&osm_required=true`}else t==="logout"&&this.handleLogout()}handleSkipOSM(){this.dispatchEvent(new CustomEvent("osm-skipped")),this.dispatchEvent(new CustomEvent("auth-complete")),this.redirectAfterLogin&&(window.location.href=this.redirectAfterLogin)}render(){var e,t,n;if(this.log("🎨 RENDER - showProfile:",this.showProfile,"user:",!!this.user,"loading:",this.loading),this.loading)return He`<div class="spinner-small"></div>`;if(this.error)return He`
        <div class="container">
          <div class="error">${this.error}</div>
        </div>
      `;if(this.user){const i=this.osmRequired&&!this.osmConnected&&!this.osmLoading,s=this.displayNameAttr||this.profileDisplayName||this.user.username||this.user.email||this.user.id,a=s?s[0].toUpperCase():"U";return this.showProfile?He`
          <div class="container">
            <div class="profile">
              <div class="profile-header">
                <div class="profile-avatar">${a}</div>
                <div class="profile-info">
                  <div class="profile-email">
                    ${this.user.email||this.user.id}
                  </div>
                </div>
              </div>

              ${this.osmRequired&&this.osmLoading?He`
                    <div class="osm-section">
                      <div class="loading">${this.t("checkingOsmConnection")}</div>
                    </div>
                  `:this.osmRequired&&this.osmConnected?He`
                      <div class="osm-section">
                        <div class="osm-connected">
                          <div class="osm-badge">
                            <span class="osm-badge-icon">🗺️</span>
                            <div>
                              <div>${this.t("connectedToOpenStreetMap")}</div>
                              ${(e=this.osmData)!=null&&e.osm_username?He`
                                    <div class="osm-username">
                                      @${this.osmData.osm_username}
                                    </div>
                                  `:""}
                            </div>
                          </div>
                        </div>
                      </div>
                    `:""}
              ${i?He`
                    <div class="osm-section">
                      ${this.autoConnect?He`
                            <div class="osm-connecting">
                              <div class="spinner"></div>
                              <div class="connecting-text">
                                🗺️ ${this.t("connectingToOpenStreetMap")}
                              </div>
                            </div>
                          `:He`
                            <div class="osm-prompt-title">🌍 ${this.t("osmRequired")}</div>
                            <div class="osm-prompt-text">
                              ${this.t("osmRequiredText")}
                            </div>
                            <button
                              @click=${this.handleOSMConnect}
                              class="btn-primary"
                            >
                              ${this.t("connectOsmAccount")}
                            </button>
                          `}
                    </div>
                  `:""}

              <button @click=${this.handleLogout} class="btn-secondary">
                ${this.t("logOut")}
              </button>
            </div>
          </div>
        `:He`
          <div class="dropdown">
            <button
              @click=${this.toggleDropdown}
              aria-label="${this.t("openAccountMenu")}"
              aria-expanded=${this.isOpen}
              aria-haspopup="true"
              class="dropdown-trigger"
            >
              <span class="header-avatar">${a}</span>

              ${this.osmConnected?He`
                    <span
                      class="osm-status-badge connected"
                      title="${this.t("connectedToOsmAs")} @${(t=this.osmData)==null?void 0:t.osm_username}"
                      >✓</span
                    >
                  `:this.osmRequired?He`
                      <span
                        class="osm-status-badge required"
                        title="${this.t("osmConnectionRequired")}"
                        >!</span
                      >
                    `:""}
            </button>
            <div class="dropdown-content ${this.isOpen?"open":""}">
              <div class="profile-info">
                <div class="profile-email">
                  ${this.user.email||this.user.id}
                </div>
              </div>
              <button data-action="profile" @click=${this.handleDropdownSelect}>
                <img src="${ea}" class="icon" alt="Account icon" />
                ${this.t("myHotAccount")}
              </button>
              ${this.osmRequired?this.osmConnected?He`
                      <button class="osm-connected" disabled>
                        <img src="${oa}" alt="Check icon" class="icon" />
                        ${this.t("connectedToOsm")} (@${(n=this.osmData)==null?void 0:n.osm_username})
                      </button>
                    `:He`
                      <button
                        data-action="connect-osm"
                        @click=${this.handleDropdownSelect}
                      >
                        <img src="${na}" alt="Check icon" class="icon" />
                        ${this.t("connectToOsm")}
                      </button>
                    `:""}
              <button data-action="logout" @click=${this.handleDropdownSelect}>
                <img src="${ta}" alt="Log out icon" class="icon" />
                ${this.t("logOut")}
              </button>
            </div>
          </div>
        `}else{if(this.showProfile)return He`
          <div
            class="container"
            style="
            --color: var(--hot-color-gray-900);
            --color-shade-1: var(--hot-color-gray-700);
            --color-shade-2: var(--hot-color-gray-100);
            --brand-color: var(--hot-color-gray-800);
            --brand-color-shade-1: var(--hot-color-gray-900);
            --brand-contrast-color: white;
            --background-color: white;
            --error-color: var(--hot-color-red-600);
            --link-color: var(--hot-color-gray-900);
            --font-family: var(--hot-font-sans);
            --font-weight: var(--hot-font-weight-normal);
            --border-radius: var(--hot-border-radius-medium);
            --item-height: 2.75rem;
            --item-margin: var(--hot-spacing-small) 0;
            --container-padding: 0;
            --headline1-font-size: var(--hot-font-size-large);
            --headline1-font-weight: var(--hot-font-weight-semibold);
            --headline2-font-size: var(--hot-font-size-medium);
            --headline2-font-weight: var(--hot-font-weight-semibold);
          "
          >
            <hanko-auth></hanko-auth>
          </div>
        `;{const s=window.location.pathname.includes("/app"),a=this.redirectAfterLogin||(s?window.location.origin:window.location.href),c=new URLSearchParams(window.location.search).get("auto_connect")==="true"?"&auto_connect=true":"",l=this.hankoUrl;this.log("🔗 Login URL base:",l);const h=`${this.loginUrl||`${l}/app`}?return_to=${encodeURIComponent(a)}${this.osmRequired?"&osm_required=true":""}${c}`;return He`<a class="login-link" href="${h}">${this.t("logIn")}</a> `}}}},ce.HankoAuth.styles=Ni`
    :host {
      display: block;
      font-family: var(--hot-font-sans);
    }

    .container {
      max-width: 400px;
      margin: 0 auto;
      padding: var(--hot-spacing-large);
    }

    .loading {
      text-align: center;
      padding: var(--hot-spacing-3x-large);
      color: var(--hot-color-gray-600);
    }

    .osm-connecting {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: var(--hot-spacing-small);
      padding: var(--hot-spacing-large);
    }

    .spinner {
      width: var(--hot-spacing-3x-large);
      height: var(--hot-spacing-3x-large);
      border: var(--hot-spacing-2x-small) solid var(--hot-color-gray-50);
      border-top: var(--hot-spacing-2x-small) solid var(--hot-color-red-600);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    .spinner-small {
      width: var(--hot-spacing-x-large);
      height: var(--hot-spacing-x-large);
      border: var(--hot-spacing-2x-small) solid var(--hot-color-gray-50);
      border-top: var(--hot-spacing-2x-small) solid var(--hot-color-gray-600);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    }

    .connecting-text {
      font-size: var(--hot-font-size-small);
      color: var(--hot-color-gray-600);
      font-weight: var(--hot-font-weight-semibold);
    }

    button {
      width: 100%;
      padding: 12px 20px;
      border: none;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-primary {
      background: var(--hot-color-red-700);
      color: white;
    }

    .btn-primary:hover {
      background: var(--hot-color-gray-600);
    }

    .btn-secondary {
      border: 1px solid var(--hot-color-gray-700);
      border-radius: var(--hot-border-radius-medium);
      background-color: white;
      color: var(--hot-color-gray-700);
      margin-top: 8px;
    }

    .btn-secondary:hover {
      background: var(--hot-color-gray-50);
    }

    .error {
      background: var(--hot-color-red-50);
      border: var(--hot-border-width, 1px) solid var(--hot-color-red-200);
      border-radius: var(--hot-border-radius-medium);
      padding: var(--hot-spacing-small);
      color: var(--hot-color-red-700);
      margin-bottom: var(--hot-spacing-medium);
    }

    .profile {
      background: var(--hot-color-gray-50);
      border-radius: var(--hot-border-radius-large);
      padding: var(--hot-spacing-large);
      margin-bottom: var(--hot-spacing-medium);
    }

    .profile-header {
      display: flex;
      align-items: center;
      gap: var(--hot-spacing-small);
      margin-bottom: var(--hot-spacing-medium);
    }

    .profile-avatar {
      width: var(--hot-spacing-3x-large);
      height: var(--hot-spacing-3x-large);
      border-radius: 50%;
      background: var(--hot-color-gray-200);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: var(--hot-font-size-large);
      font-weight: var(--hot-font-weight-bold);
      color: var(--hot-color-gray-600);
    }

    .profile-info {
      padding: var(--hot-spacing-x-small) var(--hot-spacing-medium);
    }

    .profile-email {
      font-size: var(--hot-font-size-small);
      font-weight: var(--hot-font-weight-bold);
    }

    .osm-section {
      border-top: var(--hot-border-width, 1px) solid var(--hot-color-gray-100);
      padding-top: var(--hot-spacing-medium);
      padding-bottom: var(--hot-spacing-small);
      margin-top: var(--hot-spacing-medium);
      text-align: center;
    }

    .osm-connected {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: var(--hot-spacing-small);
      background: linear-gradient(
        135deg,
        var(--hot-color-success-50) 0%,
        var(--hot-color-success-50) 100%
      );
      border-radius: var(--hot-border-radius-large);
      border: var(--hot-border-width, 1px) solid var(--hot-color-success-200);
    }

    .osm-badge {
      display: flex;
      align-items: center;
      gap: var(--hot-spacing-x-small);
      color: var(--hot-color-success-800);
      font-weight: var(--hot-font-weight-semibold);
      font-size: var(--hot-font-size-small);
      text-align: left;
    }

    .osm-badge-icon {
      font-size: var(--hot-font-size-medium);
    }

    .osm-username {
      font-size: var(--hot-font-size-x-small);
      color: var(--hot-color-success-700);
      margin-top: var(--hot-spacing-2x-small);
    }
    .osm-prompt {
      background: var(--hot-color-warning-50);
      border: var(--hot-border-width, 1px) solid var(--hot-color-warning-200);
      border-radius: var(--hot-border-radius-large);
      padding: var(--hot-spacing-large);
      margin-bottom: var(--hot-spacing-medium);
      text-align: center;
    }

    .osm-prompt-title {
      font-weight: var(--hot-font-weight-semibold);
      font-size: var(--hot-font-size-medium);
      margin-bottom: var(--hot-spacing-small);
      color: var(--hot-color-gray-900);
      text-align: center;
    }

    .osm-prompt-text {
      font-size: var(--hot-font-size-small);
      color: var(--hot-color-gray-600);
      margin-bottom: var(--hot-spacing-medium);
      line-height: var(--hot-line-height-normal);
      text-align: center;
    }

    .osm-status-badge {
      position: absolute;
      top: 2px;
      right: 2px;
      width: var(--hot-font-size-small);
      height: var(--hot-font-size-small);
      border-radius: 50%;
      border: var(--hot-spacing-3x-small) solid white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: var(--hot-font-size-2x-small);
      color: white;
      font-weight: var(--hot-font-weight-bold);
    }

    .osm-status-badge.connected {
      background-color: var(--hot-color-success-600);
    }

    .osm-status-badge.required {
      background-color: var(--hot-color-warning-600);
    }
    .header-avatar {
      width: var(--hot-spacing-2x-large);
      height: var(--hot-spacing-2x-large);
      border-radius: 50%;
      background: var(--hot-color-gray-800);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: var(--hot-font-size-small);
      font-weight: var(--hot-font-weight-semibold);
      color: white;
    }

    .login-link {
      color: var(--hot-color-neutral-950);
      font-size: var(--hot-font-size-small);
      border-radius: var(--hot-border-radius-medium);
      text-decoration: none;
      padding: 14px;
    }
    .login-link:hover {
      background: var(--hot-color-gray-50);
    }
    /* Dropdown styles */
    .dropdown {
      position: relative;
      display: inline-block;
    }
    .dropdown-trigger {
      background: none;
      border: none;
      padding: var(--hot-spacing-x-small);
      cursor: pointer;
      position: relative;
    }

    .dropdown-trigger.no-hover:hover,
    .dropdown-trigger.no-hover:active,
    .dropdown-trigger.no-hover:focus {
      background: none;
      outline: none;
    }
    .dropdown-content {
      position: absolute;
      right: 0;
      background: white;
      border: 1px solid var(--hot-color-gray-100);
      border-radius: var(--hot-border-radius-medium);
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition:
        opacity 0.2s ease,
        visibility 0.2s ease,
        transform 0.2s ease;
    }
    @media (max-width: 768px) {
      .dropdown-content {
        position: fixed;
        width: 100%;
      }
    }

    .dropdown-content.open {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .dropdown-content button {
      display: flex;
      align-items: center;
      width: 100%;
      padding: var(--hot-spacing-small) var(--hot-spacing-medium);
      background: none;
      border: none;
      cursor: pointer;
      text-align: left;
      transition: background-color 0.2s ease;
      gap: var(--hot-spacing-small);
      font-size: var(--hot-font-size-small);
      color: var(--hot-color-gray-900);
    }

    .dropdown-content button:hover {
      background-color: var(--hot-color-gray-50);
    }

    .dropdown-content button:focus {
      background-color: var(--hot-color-gray-50);
      outline: 2px solid var(--hot-color-gray-500);
      outline-offset: -2px;
    }

    .dropdown-content .profile-info {
      padding: var(--hot-spacing-small) var(--hot-spacing-medium);
    }

    .dropdown-content .profile-email {
      font-size: var(--hot-font-size-small);
      font-weight: var(--hot-font-weight-bold);
    }

    .icon {
      width: 20px;
      height: 20px;
    }
  `,ve([Re({type:String,attribute:"hanko-url"})],ce.HankoAuth.prototype,"hankoUrlAttr",2),ve([Re({type:String,attribute:"base-path"})],ce.HankoAuth.prototype,"basePath",2),ve([Re({type:String,attribute:"auth-path"})],ce.HankoAuth.prototype,"authPath",2),ve([Re({type:Boolean,attribute:"osm-required"})],ce.HankoAuth.prototype,"osmRequired",2),ve([Re({type:String,attribute:"osm-scopes"})],ce.HankoAuth.prototype,"osmScopes",2),ve([Re({type:Boolean,attribute:"show-profile"})],ce.HankoAuth.prototype,"showProfile",2),ve([Re({type:String,attribute:"redirect-after-login"})],ce.HankoAuth.prototype,"redirectAfterLogin",2),ve([Re({type:Boolean,attribute:"auto-connect"})],ce.HankoAuth.prototype,"autoConnect",2),ve([Re({type:Boolean,attribute:"verify-session"})],ce.HankoAuth.prototype,"verifySession",2),ve([Re({type:String,attribute:"redirect-after-logout"})],ce.HankoAuth.prototype,"redirectAfterLogout",2),ve([Re({type:String,attribute:"display-name"})],ce.HankoAuth.prototype,"displayNameAttr",2),ve([Re({type:String,attribute:"mapping-check-url"})],ce.HankoAuth.prototype,"mappingCheckUrl",2),ve([Re({type:String,attribute:"app-id"})],ce.HankoAuth.prototype,"appId",2),ve([Re({type:String,attribute:"login-url"})],ce.HankoAuth.prototype,"loginUrl",2),ve([Re({type:String})],ce.HankoAuth.prototype,"lang",2),ve([ot()],ce.HankoAuth.prototype,"user",2),ve([ot()],ce.HankoAuth.prototype,"osmConnected",2),ve([ot()],ce.HankoAuth.prototype,"osmData",2),ve([ot()],ce.HankoAuth.prototype,"osmLoading",2),ve([ot()],ce.HankoAuth.prototype,"loading",2),ve([ot()],ce.HankoAuth.prototype,"error",2),ve([ot()],ce.HankoAuth.prototype,"profileDisplayName",2),ve([ot()],ce.HankoAuth.prototype,"hasAppMapping",2),ve([ot()],ce.HankoAuth.prototype,"isOpen",2),ce.HankoAuth=ve([ns("hotosm-auth")],ce.HankoAuth),Object.defineProperty(ce,Symbol.toStringTag,{value:"Module"}),ce}({});
