# Default values for login
# This is a YAML-formatted file.

# Secrets reference
existingSecret:
  name: ""
# Your Secret should include:
# - COOKIE_SECRET
# - DATABASE_URL
# - HANKO_DB_URL
# - OSM_CLIENT_ID
# - OSM_CLIENT_SECRET

# Environment variables for backend
env:
  AUTH_PROVIDER: "hanko"
  HANKO_API_URL: "https://login.hotosm.org"
  JWT_ISSUER: "https://login.hotosm.org"
  BACKEND_URL: "https://login.hotosm.org"
  FRONTEND_URL: "https://login.hotosm.org"
  COOKIE_DOMAIN: ".hotosm.org"
  OSM_REDIRECT_URI: "https://login.hotosm.org/api/auth/osm/callback"
  OSM_URL: "https://www.openstreetmap.org"
  OSM_SCOPE: "read_prefs"
  LOG_LEVEL: "INFO"
  ADMIN_EMAILS: "hernangigena@gmail.com,justina@animus.com.ar,andreatchirillano@hotmail.com,emilio.mariscal@hotosm.org"
  # App URLs for admin proxy
  DRONETM_BACKEND_URL: "https://drone.hotosm.org"
  FAIR_BACKEND_URL: "https://fair.hotosm.org"
  PORTAL_BACKEND_URL: "https://portal.hotosm.org"
  OAM_BACKEND_URL: "https://openaerialmap.org"
  UMAP_BACKEND_URL: "https://umap.hotosm.org"
  EXPORT_TOOL_BACKEND_URL: "https://export.hotosm.org"
  CHATMAP_BACKEND_URL: "https://chatmap.hotosm.org"

# Ingress configuration
ingress:
  enabled: true
  className: ""
  annotations: {}
  tls: []
  host: login.hotosm.org

# Backend configuration
backend:
  image:
    repository: ghcr.io/hotosm/login-backend
    tag: ""
    pullPolicy: IfNotPresent

  replicaCount: 1

  service:
    type: ClusterIP
    port: 8000

  resources: {}
    # limits:
    #   cpu: 500m
    #   memory: 512Mi
    # requests:
    #   cpu: 100m
    #   memory: 128Mi

  livenessProbe:
    httpGet:
      path: /health
      port: http
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3

  readinessProbe:
    httpGet:
      path: /health
      port: http
    initialDelaySeconds: 10
    periodSeconds: 5
    timeoutSeconds: 3
    failureThreshold: 3

# Frontend configuration
frontend:
  image:
    repository: ghcr.io/hotosm/login-frontend
    tag: ""
    pullPolicy: IfNotPresent

  replicaCount: 1

  service:
    type: ClusterIP
    port: 80

  resources: {}

  livenessProbe:
    httpGet:
      path: /
      port: http
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3

  readinessProbe:
    httpGet:
      path: /
      port: http
    initialDelaySeconds: 10
    periodSeconds: 5
    timeoutSeconds: 3
    failureThreshold: 3

# Kubernetes resources
serviceAccount:
  create: true
  automount: true
  annotations: {}
  name: ""

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

podAnnotations: {}
podLabels: {}

podSecurityContext: {}

securityContext: {}

nodeSelector: {}
tolerations: []
affinity: {}
